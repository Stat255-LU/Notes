<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Predictive Modeling | Stat 255: Statistics for Data Science Notes</title>
  <meta name="description" content="Chapter 7 Predictive Modeling | Stat 255: Statistics for Data Science Notes" />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Predictive Modeling | Stat 255: Statistics for Data Science Notes" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Predictive Modeling | Stat 255: Statistics for Data Science Notes" />
  
  
  

<meta name="author" content="Andrew Sage - Lawrence University" />


<meta name="date" content="2023-03-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="building-models-for-interpretation.html"/>
<link rel="next" href="logistic-regression-and-classification.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">STAT 255 Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>1</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exploring-data-visualizations"><i class="fa fa-check"></i><b>1.1</b> Exploring Data Visualizations</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#covid-19-data"><i class="fa fa-check"></i><b>1.1.1</b> COVID-19 Data</a></li>
<li class="chapter" data-level="1.1.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#breakdown-by-age-50"><i class="fa fa-check"></i><b>1.1.2</b> Breakdown by Age &lt; 50</a></li>
<li class="chapter" data-level="1.1.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#vaccination-by-age-breakdown"><i class="fa fa-check"></i><b>1.1.3</b> Vaccination by Age Breakdown</a></li>
<li class="chapter" data-level="1.1.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#simpsons-paradox"><i class="fa fa-check"></i><b>1.1.4</b> Simpson’s Paradox</a></li>
<li class="chapter" data-level="1.1.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exploring-diamond-prices"><i class="fa fa-check"></i><b>1.1.5</b> Exploring Diamond Prices</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exploratory-analysis-in-r"><i class="fa fa-check"></i><b>1.2</b> Exploratory Analysis in R</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#loading-the-data"><i class="fa fa-check"></i><b>1.2.1</b> Loading the Data</a></li>
<li class="chapter" data-level="1.2.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#previewing-the-data"><i class="fa fa-check"></i><b>1.2.2</b> Previewing the Data</a></li>
<li class="chapter" data-level="1.2.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#adding-a-new-variable"><i class="fa fa-check"></i><b>1.2.3</b> Adding a New Variable</a></li>
<li class="chapter" data-level="1.2.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#selecting-columns"><i class="fa fa-check"></i><b>1.2.4</b> Selecting Columns</a></li>
<li class="chapter" data-level="1.2.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#filtering-by-row"><i class="fa fa-check"></i><b>1.2.5</b> Filtering by Row</a></li>
<li class="chapter" data-level="1.2.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#histogram"><i class="fa fa-check"></i><b>1.2.6</b> Histogram</a></li>
<li class="chapter" data-level="1.2.7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#density-plots"><i class="fa fa-check"></i><b>1.2.7</b> Density Plots</a></li>
<li class="chapter" data-level="1.2.8" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#boxplot"><i class="fa fa-check"></i><b>1.2.8</b> Boxplot</a></li>
<li class="chapter" data-level="1.2.9" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#violin-plot"><i class="fa fa-check"></i><b>1.2.9</b> Violin Plot</a></li>
<li class="chapter" data-level="1.2.10" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#scatterplots"><i class="fa fa-check"></i><b>1.2.10</b> Scatterplots</a></li>
<li class="chapter" data-level="1.2.11" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#bar-graphs"><i class="fa fa-check"></i><b>1.2.11</b> Bar Graphs</a></li>
<li class="chapter" data-level="1.2.12" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#stacked-and-side-by-side-bar-graphs"><i class="fa fa-check"></i><b>1.2.12</b> Stacked and Side-by-Side Bar Graphs</a></li>
<li class="chapter" data-level="1.2.13" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#correlation-plot"><i class="fa fa-check"></i><b>1.2.13</b> Correlation Plot</a></li>
<li class="chapter" data-level="1.2.14" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#scatterplot-matrix"><i class="fa fa-check"></i><b>1.2.14</b> Scatterplot Matrix</a></li>
<li class="chapter" data-level="1.2.15" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#summary-tables"><i class="fa fa-check"></i><b>1.2.15</b> Summary Tables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html"><i class="fa fa-check"></i><b>2</b> Introduction to Statistical Models</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#predicting-house-prices"><i class="fa fa-check"></i><b>2.1</b> Predicting House Prices</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#house-prices-in-ames-ia"><i class="fa fa-check"></i><b>2.1.1</b> House Prices in Ames IA</a></li>
<li class="chapter" data-level="2.1.2" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#prices-by-neighborhood"><i class="fa fa-check"></i><b>2.1.2</b> Prices by Neighborhood</a></li>
<li class="chapter" data-level="2.1.3" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#house-prices-by-size"><i class="fa fa-check"></i><b>2.1.3</b> House Prices by Size</a></li>
<li class="chapter" data-level="2.1.4" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#explanatory-and-response-variables"><i class="fa fa-check"></i><b>2.1.4</b> Explanatory and Response Variables</a></li>
<li class="chapter" data-level="2.1.5" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#prediction-with-no-explanatory-variables"><i class="fa fa-check"></i><b>2.1.5</b> Prediction with No Explanatory Variables</a></li>
<li class="chapter" data-level="2.1.6" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#simple-model-in-r"><i class="fa fa-check"></i><b>2.1.6</b> Simple Model in R</a></li>
<li class="chapter" data-level="2.1.7" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#prediction-for-a-categorical-explanatory-variable"><i class="fa fa-check"></i><b>2.1.7</b> Prediction for a Categorical Explanatory Variable</a></li>
<li class="chapter" data-level="2.1.8" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#model-by-neighborhood-in-r"><i class="fa fa-check"></i><b>2.1.8</b> Model by Neighborhood in R</a></li>
<li class="chapter" data-level="2.1.9" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#model-notation-for-houses-by-neighborhood"><i class="fa fa-check"></i><b>2.1.9</b> Model Notation for Houses by Neighborhood</a></li>
<li class="chapter" data-level="2.1.10" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#prediction-for-quantitative-explanatory-variable"><i class="fa fa-check"></i><b>2.1.10</b> Prediction for Quantitative Explanatory Variable</a></li>
<li class="chapter" data-level="2.1.11" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#model-using-square-feet"><i class="fa fa-check"></i><b>2.1.11</b> Model using Square Feet</a></li>
<li class="chapter" data-level="2.1.12" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#model-for-squarefeet-and-interpretations"><i class="fa fa-check"></i><b>2.1.12</b> Model for SquareFeet and Interpretations</a></li>
<li class="chapter" data-level="2.1.13" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#calculating-predicted-prices"><i class="fa fa-check"></i><b>2.1.13</b> Calculating Predicted Prices</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#variability-explained-by-a-model"><i class="fa fa-check"></i><b>2.2</b> Variability Explained by a Model</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#quantifying-variability"><i class="fa fa-check"></i><b>2.2.1</b> Quantifying Variability</a></li>
<li class="chapter" data-level="2.2.2" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#residuals-for-three-models"><i class="fa fa-check"></i><b>2.2.2</b> Residuals for Three Models</a></li>
<li class="chapter" data-level="2.2.3" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#quantifying-unexplained-variablility"><i class="fa fa-check"></i><b>2.2.3</b> Quantifying Unexplained Variablility</a></li>
<li class="chapter" data-level="2.2.4" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#total-sum-of-squares-sst"><i class="fa fa-check"></i><b>2.2.4</b> Total Sum of Squares (SST)</a></li>
<li class="chapter" data-level="2.2.5" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#ssr-and-ssm"><i class="fa fa-check"></i><b>2.2.5</b> SSR and SSM</a></li>
<li class="chapter" data-level="2.2.6" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#summary-sst-ssr-ssm-r2"><i class="fa fa-check"></i><b>2.2.6</b> Summary: SST, SSR, SSM, <span class="math inline">\(R^2\)</span></a></li>
<li class="chapter" data-level="2.2.7" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#r2-visually"><i class="fa fa-check"></i><b>2.2.7</b> <span class="math inline">\(R^2\)</span> Visually</a></li>
<li class="chapter" data-level="2.2.8" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#residuals-for-square-feet-model"><i class="fa fa-check"></i><b>2.2.8</b> Residuals for Square Feet Model</a></li>
<li class="chapter" data-level="2.2.9" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#variation-explained-by-squarefeet-model"><i class="fa fa-check"></i><b>2.2.9</b> Variation Explained by SquareFeet Model</a></li>
<li class="chapter" data-level="2.2.10" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#variation-explained-by-square-feet-model"><i class="fa fa-check"></i><b>2.2.10</b> Variation Explained by Square Feet Model</a></li>
<li class="chapter" data-level="2.2.11" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#linear-correlation-coefficient"><i class="fa fa-check"></i><b>2.2.11</b> Linear Correlation Coefficient</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#multiple-regression-model"><i class="fa fa-check"></i><b>2.3</b> Multiple Regression Model</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#multiple-regression-model-1"><i class="fa fa-check"></i><b>2.3.1</b> Multiple Regression Model</a></li>
<li class="chapter" data-level="2.3.2" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#variable-model-different-slopes"><i class="fa fa-check"></i><b>2.3.2</b> 2-Variable Model Different Slopes</a></li>
<li class="chapter" data-level="2.3.3" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#variable-model-with-constant-slope"><i class="fa fa-check"></i><b>2.3.3</b> 2-Variable Model with Constant Slope</a></li>
<li class="chapter" data-level="2.3.4" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#house-price-2-variable-model-summary"><i class="fa fa-check"></i><b>2.3.4</b> House Price 2-Variable Model Summary</a></li>
<li class="chapter" data-level="2.3.5" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#mr-model-for-squarefeet-and-neighborhood"><i class="fa fa-check"></i><b>2.3.5</b> MR Model for SquareFeet and Neighborhood</a></li>
<li class="chapter" data-level="2.3.6" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#predicting-price-in-mr-model"><i class="fa fa-check"></i><b>2.3.6</b> Predicting Price in MR Model</a></li>
<li class="chapter" data-level="2.3.7" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#risk-of-extrapolation"><i class="fa fa-check"></i><b>2.3.7</b> Risk of Extrapolation</a></li>
<li class="chapter" data-level="2.3.8" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#residuals-for-2-variable-model"><i class="fa fa-check"></i><b>2.3.8</b> Residuals for 2-Variable Model</a></li>
<li class="chapter" data-level="2.3.9" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#residuals-for-2-variable-model-cont."><i class="fa fa-check"></i><b>2.3.9</b> Residuals for 2-Variable Model (cont.)</a></li>
<li class="chapter" data-level="2.3.10" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#variation-explained-by-2-variable-model"><i class="fa fa-check"></i><b>2.3.10</b> Variation Explained by 2-Variable Model</a></li>
<li class="chapter" data-level="2.3.11" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#model-comparison-summary"><i class="fa fa-check"></i><b>2.3.11</b> Model Comparison Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#least-squares-estimation"><i class="fa fa-check"></i><b>2.4</b> Least-Squares Estimation</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#line-of-best-fit"><i class="fa fa-check"></i><b>2.4.1</b> Line of Best Fit</a></li>
<li class="chapter" data-level="2.4.2" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#least-squares-estimation-in-simple-linear-regression"><i class="fa fa-check"></i><b>2.4.2</b> Least-Squares Estimation in Simple Linear Regression</a></li>
<li class="chapter" data-level="2.4.3" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#least-squares-estimation-in-simple-linear-regression-cont."><i class="fa fa-check"></i><b>2.4.3</b> Least-Squares Estimation in Simple Linear Regression (cont.)</a></li>
<li class="chapter" data-level="2.4.4" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#ls-estimation-for-one-categorical-variable"><i class="fa fa-check"></i><b>2.4.4</b> LS Estimation for One Categorical Variable</a></li>
<li class="chapter" data-level="2.4.5" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#ls-estimation-more-generally"><i class="fa fa-check"></i><b>2.4.5</b> LS Estimation More Generally</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#analysis-of-variance"><i class="fa fa-check"></i><b>2.5</b> ANalysis Of VAriance</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#submodels"><i class="fa fa-check"></i><b>2.5.1</b> Submodels</a></li>
<li class="chapter" data-level="2.5.2" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#comparing-submodels"><i class="fa fa-check"></i><b>2.5.2</b> Comparing Submodels</a></li>
<li class="chapter" data-level="2.5.3" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#comments-on-f-statistic"><i class="fa fa-check"></i><b>2.5.3</b> Comments on F-Statistic</a></li>
<li class="chapter" data-level="2.5.4" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#anova-f-statistic"><i class="fa fa-check"></i><b>2.5.4</b> ANOVA F-Statistic</a></li>
<li class="chapter" data-level="2.5.5" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#anova-f-statistic-for-m2-vs-m3-in-r"><i class="fa fa-check"></i><b>2.5.5</b> ANOVA F-Statistic for M2 vs M3 in R</a></li>
<li class="chapter" data-level="2.5.6" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#anova-f-statistic-for-m1-vs-m0"><i class="fa fa-check"></i><b>2.5.6</b> ANOVA F-Statistic for M1 vs M0</a></li>
<li class="chapter" data-level="2.5.7" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#anova-f-statistic-for-m0-vs-m1-in-r"><i class="fa fa-check"></i><b>2.5.7</b> ANOVA F-Statistic for M0 vs M1 in R</a></li>
<li class="chapter" data-level="2.5.8" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#anova-f-statistic-for-categorical-variables"><i class="fa fa-check"></i><b>2.5.8</b> ANOVA F-Statistic for Categorical Variables</a></li>
<li class="chapter" data-level="2.5.9" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#f-statistic-for-categorical-variables-illustration"><i class="fa fa-check"></i><b>2.5.9</b> F-Statistic for Categorical Variables Illustration</a></li>
<li class="chapter" data-level="2.5.10" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#alternative-f-statistic-formula"><i class="fa fa-check"></i><b>2.5.10</b> Alternative F-Statistic Formula</a></li>
<li class="chapter" data-level="2.5.11" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#calculating-f-statistic-for-categorical-variables"><i class="fa fa-check"></i><b>2.5.11</b> Calculating F-Statistic for Categorical Variables</a></li>
<li class="chapter" data-level="2.5.12" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#calculating-f-statistic-for-categorical-variables-1"><i class="fa fa-check"></i><b>2.5.12</b> Calculating F-Statistic for Categorical Variables</a></li>
<li class="chapter" data-level="2.5.13" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#alternative-calculation-in-r"><i class="fa fa-check"></i><b>2.5.13</b> Alternative Calculation in R</a></li>
<li class="chapter" data-level="2.5.14" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#f-statistic-in-r-output"><i class="fa fa-check"></i><b>2.5.14</b> F-Statistic in R Output</a></li>
<li class="chapter" data-level="2.5.15" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#f-statistic-in-r-output-m1"><i class="fa fa-check"></i><b>2.5.15</b> F-Statistic in R Output M1</a></li>
<li class="chapter" data-level="2.5.16" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#f-statistic-in-r-output-m2"><i class="fa fa-check"></i><b>2.5.16</b> F-Statistic in R Output M2</a></li>
<li class="chapter" data-level="2.5.17" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#f-statistic-in-r-output-m3"><i class="fa fa-check"></i><b>2.5.17</b> F-Statistic in R Output M3</a></li>
<li class="chapter" data-level="2.5.18" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#when-to-use-f-statistics-for-model-comparison"><i class="fa fa-check"></i><b>2.5.18</b> When to Use F-Statistics for Model Comparison</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#models-involving-interaction"><i class="fa fa-check"></i><b>2.6</b> Models Involving Interaction</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#bear-weights-dataset"><i class="fa fa-check"></i><b>2.6.1</b> Bear Weights Dataset</a></li>
<li class="chapter" data-level="2.6.2" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#exploring-bears-data"><i class="fa fa-check"></i><b>2.6.2</b> Exploring Bears Data</a></li>
<li class="chapter" data-level="2.6.3" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#bears-data-cleaning"><i class="fa fa-check"></i><b>2.6.3</b> Bears Data Cleaning</a></li>
<li class="chapter" data-level="2.6.4" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#bear-weights-and-ages"><i class="fa fa-check"></i><b>2.6.4</b> Bear Weights and Ages</a></li>
<li class="chapter" data-level="2.6.5" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#two-possible-models"><i class="fa fa-check"></i><b>2.6.5</b> Two Possible Models</a></li>
<li class="chapter" data-level="2.6.6" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#models-with-interaction"><i class="fa fa-check"></i><b>2.6.6</b> Models with Interaction</a></li>
<li class="chapter" data-level="2.6.7" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#model-equations"><i class="fa fa-check"></i><b>2.6.7</b> Model Equations</a></li>
<li class="chapter" data-level="2.6.8" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#expected-weight-equations"><i class="fa fa-check"></i><b>2.6.8</b> Expected Weight Equations</a></li>
<li class="chapter" data-level="2.6.9" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#interpretations-of-interaction-model-coefficients"><i class="fa fa-check"></i><b>2.6.9</b> Interpretations of Interaction Model Coefficients</a></li>
<li class="chapter" data-level="2.6.10" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#model-1-r-output"><i class="fa fa-check"></i><b>2.6.10</b> Model 1 R Output</a></li>
<li class="chapter" data-level="2.6.11" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#model-2-r-output"><i class="fa fa-check"></i><b>2.6.11</b> Model 2 R Output</a></li>
<li class="chapter" data-level="2.6.12" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#model-1-interpretations"><i class="fa fa-check"></i><b>2.6.12</b> Model 1 Interpretations</a></li>
<li class="chapter" data-level="2.6.13" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#model-2-interpretations"><i class="fa fa-check"></i><b>2.6.13</b> Model 2 Interpretations</a></li>
<li class="chapter" data-level="2.6.14" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#predicting-bear-weights"><i class="fa fa-check"></i><b>2.6.14</b> Predicting Bear Weights</a></li>
<li class="chapter" data-level="2.6.15" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#predict-function-in-r"><i class="fa fa-check"></i><b>2.6.15</b> <code>predict</code> Function in R</a></li>
<li class="chapter" data-level="2.6.16" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#bears-weight-model-considerations"><i class="fa fa-check"></i><b>2.6.16</b> Bears Weight Model Considerations</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#more-on-interaction"><i class="fa fa-check"></i><b>2.7</b> More on Interaction</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#two-categorical-variables"><i class="fa fa-check"></i><b>2.7.1</b> Two Categorical Variables</a></li>
<li class="chapter" data-level="2.7.2" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#bears-weight-by-season-and-sex"><i class="fa fa-check"></i><b>2.7.2</b> Bears Weight By Season and Sex</a></li>
<li class="chapter" data-level="2.7.3" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#two-models"><i class="fa fa-check"></i><b>2.7.3</b> Two Models</a></li>
<li class="chapter" data-level="2.7.4" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#model-equations-1"><i class="fa fa-check"></i><b>2.7.4</b> Model Equations</a></li>
<li class="chapter" data-level="2.7.5" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#bears-season-and-sex-interaction-model"><i class="fa fa-check"></i><b>2.7.5</b> Bears Season and Sex Interaction Model</a></li>
<li class="chapter" data-level="2.7.6" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#predictions-for-season-and-sex-interaction-model"><i class="fa fa-check"></i><b>2.7.6</b> Predictions for Season and Sex Interaction Model</a></li>
<li class="chapter" data-level="2.7.7" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#season-and-sex-interaction-model-interpretations"><i class="fa fa-check"></i><b>2.7.7</b> Season and Sex Interaction Model Interpretations</a></li>
<li class="chapter" data-level="2.7.8" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#interpretations-for-season-and-sex-interaction-model"><i class="fa fa-check"></i><b>2.7.8</b> Interpretations for Season and Sex Interaction Model</a></li>
<li class="chapter" data-level="2.7.9" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#predicting-new-observations-in-r"><i class="fa fa-check"></i><b>2.7.9</b> Predicting New Observations in R</a></li>
<li class="chapter" data-level="2.7.10" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#interaction-between-two-quantitative-variables"><i class="fa fa-check"></i><b>2.7.10</b> Interaction Between Two Quantitative Variables</a></li>
<li class="chapter" data-level="2.7.11" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#models-for-age-and-length"><i class="fa fa-check"></i><b>2.7.11</b> Models for Age and Length</a></li>
<li class="chapter" data-level="2.7.12" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#model-equations-2"><i class="fa fa-check"></i><b>2.7.12</b> Model Equations</a></li>
<li class="chapter" data-level="2.7.13" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#and-24-month-old-bears"><i class="fa fa-check"></i><b>2.7.13</b> 6 and 24 Month Old Bears</a></li>
<li class="chapter" data-level="2.7.14" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#interaction-model-in-r"><i class="fa fa-check"></i><b>2.7.14</b> Interaction Model in R</a></li>
<li class="chapter" data-level="2.7.15" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#age-length-interaction-interpretations"><i class="fa fa-check"></i><b>2.7.15</b> Age, Length Interaction Interpretations</a></li>
<li class="chapter" data-level="2.7.16" data-path="introduction-to-statistical-models.html"><a href="introduction-to-statistical-models.html#interaction-vs-correlation"><i class="fa fa-check"></i><b>2.7.16</b> Interaction vs Correlation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html"><i class="fa fa-check"></i><b>3</b> Hypothesis Testing via Permutation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#test-for-difference-in-means"><i class="fa fa-check"></i><b>3.1</b> Test for Difference in Means</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#mercury-levels-in-florida-lakes"><i class="fa fa-check"></i><b>3.1.1</b> Mercury Levels in Florida Lakes</a></li>
<li class="chapter" data-level="3.1.2" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#florida-lakes-dataset"><i class="fa fa-check"></i><b>3.1.2</b> Florida Lakes Dataset</a></li>
<li class="chapter" data-level="3.1.3" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#comparing-northern-and-southern-lakes"><i class="fa fa-check"></i><b>3.1.3</b> Comparing Northern and Southern Lakes</a></li>
<li class="chapter" data-level="3.1.4" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#model-for-northern-and-southern-lakes"><i class="fa fa-check"></i><b>3.1.4</b> Model for Northern and Southern Lakes</a></li>
<li class="chapter" data-level="3.1.5" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#model-for-lakes-r-output"><i class="fa fa-check"></i><b>3.1.5</b> Model for Lakes R Output</a></li>
<li class="chapter" data-level="3.1.6" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#interpreting-lakes-regression-output"><i class="fa fa-check"></i><b>3.1.6</b> Interpreting Lakes Regression Output</a></li>
<li class="chapter" data-level="3.1.7" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#evidence-of-difference"><i class="fa fa-check"></i><b>3.1.7</b> Evidence of Difference?</a></li>
<li class="chapter" data-level="3.1.8" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#permutation-test"><i class="fa fa-check"></i><b>3.1.8</b> Permutation Test</a></li>
<li class="chapter" data-level="3.1.9" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#applet-for-permutation-tests"><i class="fa fa-check"></i><b>3.1.9</b> Applet for Permutation Tests</a></li>
<li class="chapter" data-level="3.1.10" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#five-permutations-in-r"><i class="fa fa-check"></i><b>3.1.10</b> Five Permutations in R</a></li>
<li class="chapter" data-level="3.1.11" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#r-code-for-permutation-test"><i class="fa fa-check"></i><b>3.1.11</b> R Code for Permutation Test</a></li>
<li class="chapter" data-level="3.1.12" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#permutation-tests-results"><i class="fa fa-check"></i><b>3.1.12</b> Permutation Tests Results</a></li>
<li class="chapter" data-level="3.1.13" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#conclusions"><i class="fa fa-check"></i><b>3.1.13</b> Conclusions</a></li>
<li class="chapter" data-level="3.1.14" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#hypothesis-testing-terminology"><i class="fa fa-check"></i><b>3.1.14</b> Hypothesis Testing Terminology</a></li>
<li class="chapter" data-level="3.1.15" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#how-low-should-the-p-value-be"><i class="fa fa-check"></i><b>3.1.15</b> How Low Should the p-value Be</a></li>
<li class="chapter" data-level="3.1.16" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#practical-importance"><i class="fa fa-check"></i><b>3.1.16</b> Practical Importance</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#test-for-difference-in-standard-deviation"><i class="fa fa-check"></i><b>3.2</b> Test for Difference in Standard Deviation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#standard-deviation-northern-and-southern-lakes"><i class="fa fa-check"></i><b>3.2.1</b> Standard Deviation Northern and Southern Lakes</a></li>
<li class="chapter" data-level="3.2.2" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#hypotheses"><i class="fa fa-check"></i><b>3.2.2</b> Hypotheses</a></li>
<li class="chapter" data-level="3.2.3" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#permutation-test-steps"><i class="fa fa-check"></i><b>3.2.3</b> Permutation Test Steps</a></li>
<li class="chapter" data-level="3.2.4" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#r-code-for-permutation-test-1"><i class="fa fa-check"></i><b>3.2.4</b> R Code for Permutation Test</a></li>
<li class="chapter" data-level="3.2.5" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#permutation-tests-results-1"><i class="fa fa-check"></i><b>3.2.5</b> Permutation Tests Results</a></li>
<li class="chapter" data-level="3.2.6" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#conclusions-1"><i class="fa fa-check"></i><b>3.2.6</b> Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#test-for-regression-slope"><i class="fa fa-check"></i><b>3.3</b> Test for Regression Slope</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#cars-dataset"><i class="fa fa-check"></i><b>3.3.1</b> 2015 Cars Dataset</a></li>
<li class="chapter" data-level="3.3.2" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#car-price-and-acceleration-time"><i class="fa fa-check"></i><b>3.3.2</b> Car Price and Acceleration Time</a></li>
<li class="chapter" data-level="3.3.3" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#modeling-price-using-acc060"><i class="fa fa-check"></i><b>3.3.3</b> Modeling Price using Acc060</a></li>
<li class="chapter" data-level="3.3.4" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#modeling-for-car-price-and-acceleration"><i class="fa fa-check"></i><b>3.3.4</b> Modeling for Car Price and Acceleration</a></li>
<li class="chapter" data-level="3.3.5" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#acc060-model-interpretations"><i class="fa fa-check"></i><b>3.3.5</b> Acc060 Model Interpretations</a></li>
<li class="chapter" data-level="3.3.6" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#is-car-price-associated-with-acceleration-time"><i class="fa fa-check"></i><b>3.3.6</b> Is Car Price Associated with Acceleration Time?</a></li>
<li class="chapter" data-level="3.3.7" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#acc060-key-question-and-hypotheses"><i class="fa fa-check"></i><b>3.3.7</b> Acc060 Key Question and Hypotheses</a></li>
<li class="chapter" data-level="3.3.8" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#permutation-test-for-slope"><i class="fa fa-check"></i><b>3.3.8</b> Permutation Test for Slope</a></li>
<li class="chapter" data-level="3.3.9" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#five-permutations"><i class="fa fa-check"></i><b>3.3.9</b> Five Permutations</a></li>
<li class="chapter" data-level="3.3.10" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#fourth-permutation"><i class="fa fa-check"></i><b>3.3.10</b> Fourth Permutation</a></li>
<li class="chapter" data-level="3.3.11" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#r-code-for-permutation-test-2"><i class="fa fa-check"></i><b>3.3.11</b> R Code for Permutation Test</a></li>
<li class="chapter" data-level="3.3.12" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#permutation-test-results"><i class="fa fa-check"></i><b>3.3.12</b> Permutation Test Results</a></li>
<li class="chapter" data-level="3.3.13" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#p-value-and-conclusion"><i class="fa fa-check"></i><b>3.3.13</b> P-value and Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#test-for-comparing-multiple-groups"><i class="fa fa-check"></i><b>3.4</b> Test for Comparing Multiple Groups</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#relationship-price-and-car-size"><i class="fa fa-check"></i><b>3.4.1</b> Relationship Price and Car Size</a></li>
<li class="chapter" data-level="3.4.2" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#cars-questions-of-interest"><i class="fa fa-check"></i><b>3.4.2</b> Cars Questions of Interest</a></li>
<li class="chapter" data-level="3.4.3" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#cars-price-and-size-model"><i class="fa fa-check"></i><b>3.4.3</b> Cars Price and Size Model</a></li>
<li class="chapter" data-level="3.4.4" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#relationship-between-size-and-price"><i class="fa fa-check"></i><b>3.4.4</b> Relationship between Size and Price</a></li>
<li class="chapter" data-level="3.4.5" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#test-statistic-for-car-size-and-price"><i class="fa fa-check"></i><b>3.4.5</b> Test Statistic for Car Size and Price</a></li>
<li class="chapter" data-level="3.4.6" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#key-question-in-car-size-investigation"><i class="fa fa-check"></i><b>3.4.6</b> Key Question in Car Size Investigation</a></li>
<li class="chapter" data-level="3.4.7" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#simulation-based-test-for-f-statistic"><i class="fa fa-check"></i><b>3.4.7</b> Simulation-Based Test for F-Statistic</a></li>
<li class="chapter" data-level="3.4.8" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#five-permutations-1"><i class="fa fa-check"></i><b>3.4.8</b> Five Permutations</a></li>
<li class="chapter" data-level="3.4.9" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#r-code-for-permutation-test-3"><i class="fa fa-check"></i><b>3.4.9</b> R Code For Permutation Test</a></li>
<li class="chapter" data-level="3.4.10" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#f-statistic-for-size-simulation-results"><i class="fa fa-check"></i><b>3.4.10</b> F-statistic for Size Simulation Results</a></li>
<li class="chapter" data-level="3.4.11" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#differences-between-different-sizes"><i class="fa fa-check"></i><b>3.4.11</b> Differences Between Different Sizes</a></li>
<li class="chapter" data-level="3.4.12" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#regression-coefficients-for-tests-between-sizes"><i class="fa fa-check"></i><b>3.4.12</b> Regression Coefficients for Tests Between Sizes</a></li>
<li class="chapter" data-level="3.4.13" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#simulation-for-differences-between-types-of-cars"><i class="fa fa-check"></i><b>3.4.13</b> Simulation for Differences between Types of Cars</a></li>
<li class="chapter" data-level="3.4.14" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#code-for-simulation-based-test-of-prices-by-size"><i class="fa fa-check"></i><b>3.4.14</b> Code for Simulation-Based Test of Prices by Size</a></li>
<li class="chapter" data-level="3.4.15" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#car-size-simulation-based-results-for-b_1"><i class="fa fa-check"></i><b>3.4.15</b> Car Size Simulation-Based Results for <span class="math inline">\(b_1\)</span></a></li>
<li class="chapter" data-level="3.4.16" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#car-size-simulation-based-results-for-b_2"><i class="fa fa-check"></i><b>3.4.16</b> Car Size Simulation-Based Results for <span class="math inline">\(b_2\)</span></a></li>
<li class="chapter" data-level="3.4.17" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#car-size-simulation-based-results-for-b_1-b_2"><i class="fa fa-check"></i><b>3.4.17</b> Car Size Simulation-Based Results for <span class="math inline">\(b_1-b_2\)</span></a></li>
<li class="chapter" data-level="3.4.18" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#bonferroni-correction"><i class="fa fa-check"></i><b>3.4.18</b> Bonferroni Correction</a></li>
<li class="chapter" data-level="3.4.19" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#summary-of-tests-between-multiple-groups"><i class="fa fa-check"></i><b>3.4.19</b> Summary of Tests Between Multiple Groups</a></li>
<li class="chapter" data-level="3.4.20" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#bear-weights-by-season"><i class="fa fa-check"></i><b>3.4.20</b> Bear Weights by Season</a></li>
<li class="chapter" data-level="3.4.21" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#bear-weights-by-season-model"><i class="fa fa-check"></i><b>3.4.21</b> Bear Weights by Season Model</a></li>
<li class="chapter" data-level="3.4.22" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#f-statistic-for-bear-weights-by-season"><i class="fa fa-check"></i><b>3.4.22</b> F-Statistic for Bear Weights by Season</a></li>
<li class="chapter" data-level="3.4.23" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#hypotheses-for-bears-seasons-f-test"><i class="fa fa-check"></i><b>3.4.23</b> Hypotheses for Bears Seasons F-Test</a></li>
<li class="chapter" data-level="3.4.24" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#simulation-based-test-for-bears-f-statistic"><i class="fa fa-check"></i><b>3.4.24</b> Simulation-Based Test for Bears F-Statistic</a></li>
<li class="chapter" data-level="3.4.25" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#bears-f-statistic-simulation"><i class="fa fa-check"></i><b>3.4.25</b> Bears F-Statistic Simulation</a></li>
<li class="chapter" data-level="3.4.26" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#f-statistic-for-bears-season-simulation"><i class="fa fa-check"></i><b>3.4.26</b> F-statistic for Bears Season Simulation</a></li>
<li class="chapter" data-level="3.4.27" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#dont-accept-null-hypothesis"><i class="fa fa-check"></i><b>3.4.27</b> Don’t Accept Null Hypothesis</a></li>
<li class="chapter" data-level="3.4.28" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#comparison-of-weights-by-season"><i class="fa fa-check"></i><b>3.4.28</b> Comparison of Weights by Season</a></li>
<li class="chapter" data-level="3.4.29" data-path="hypothesis-testing-via-permutation.html"><a href="hypothesis-testing-via-permutation.html#dont-accept-null-hypothesis-cont."><i class="fa fa-check"></i><b>3.4.29</b> Don’t Accept Null Hypothesis (Cont.)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html"><i class="fa fa-check"></i><b>4</b> Bootstrap Confindence Intervals</a>
<ul>
<li class="chapter" data-level="4.1" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#quantifying-sampling-variability"><i class="fa fa-check"></i><b>4.1</b> Quantifying Sampling Variability</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#distribution-of-mercury-levels-in-florida-lakes"><i class="fa fa-check"></i><b>4.1.1</b> Distribution of Mercury Levels in Florida Lakes</a></li>
<li class="chapter" data-level="4.1.2" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#simulation-to-quantify-variability"><i class="fa fa-check"></i><b>4.1.2</b> Simulation to Quantify Variability</a></li>
<li class="chapter" data-level="4.1.3" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrap-sampling"><i class="fa fa-check"></i><b>4.1.3</b> Bootstrap Sampling</a></li>
<li class="chapter" data-level="4.1.4" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#original-sample"><i class="fa fa-check"></i><b>4.1.4</b> Original Sample</a></li>
<li class="chapter" data-level="4.1.5" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#five-bootstrap-samples-in-r"><i class="fa fa-check"></i><b>4.1.5</b> Five Bootstrap Samples in R</a></li>
<li class="chapter" data-level="4.1.6" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#code-for-bootstrap-for-sample-mean"><i class="fa fa-check"></i><b>4.1.6</b> Code for Bootstrap for Sample Mean</a></li>
<li class="chapter" data-level="4.1.7" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrap-distribution-for-sample-mean"><i class="fa fa-check"></i><b>4.1.7</b> Bootstrap Distribution for Sample Mean</a></li>
<li class="chapter" data-level="4.1.8" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#confidence-intervals"><i class="fa fa-check"></i><b>4.1.8</b> Confidence Intervals</a></li>
<li class="chapter" data-level="4.1.9" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#what-bootstrapping-does-and-doesnt-do"><i class="fa fa-check"></i><b>4.1.9</b> What Bootstrapping Does and Doesn’t Do</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrapping-other-statistics"><i class="fa fa-check"></i><b>4.2</b> Bootstrapping Other Statistics</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#general-bootstrapping-procedure"><i class="fa fa-check"></i><b>4.2.1</b> General Bootstrapping Procedure</a></li>
<li class="chapter" data-level="4.2.2" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrapping-for-other-quantities"><i class="fa fa-check"></i><b>4.2.2</b> Bootstrapping for Other Quantities</a></li>
<li class="chapter" data-level="4.2.3" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#lakes-bootstrap-percentile-ci-for-st.-dev."><i class="fa fa-check"></i><b>4.2.3</b> Lakes Bootstrap Percentile CI for St. Dev.</a></li>
<li class="chapter" data-level="4.2.4" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrap-percentile-ci-for-prop.-1-ppm"><i class="fa fa-check"></i><b>4.2.4</b> Bootstrap Percentile CI for Prop. &gt; 1 ppm</a></li>
<li class="chapter" data-level="4.2.5" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrap-percentile-ci-for-median"><i class="fa fa-check"></i><b>4.2.5</b> Bootstrap Percentile CI for Median</a></li>
<li class="chapter" data-level="4.2.6" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#when-gaps-are-arent-ok"><i class="fa fa-check"></i><b>4.2.6</b> When Gaps are/ aren’t OK</a></li>
<li class="chapter" data-level="4.2.7" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#changing-binwidth-in-histogram"><i class="fa fa-check"></i><b>4.2.7</b> Changing Binwidth in Histogram</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#difference-in-sample-means"><i class="fa fa-check"></i><b>4.3</b> Difference in Sample Means</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#mercury-levels-in-northern-vs-southern-florida-lakes"><i class="fa fa-check"></i><b>4.3.1</b> Mercury Levels in Northern vs Southern Florida Lakes</a></li>
<li class="chapter" data-level="4.3.2" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#model-for-northern-and-southern-lakes-1"><i class="fa fa-check"></i><b>4.3.2</b> Model for Northern and Southern Lakes</a></li>
<li class="chapter" data-level="4.3.3" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#model-for-lakes-r-output-1"><i class="fa fa-check"></i><b>4.3.3</b> Model for Lakes R Output</a></li>
<li class="chapter" data-level="4.3.4" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrapping-for-northern-vs-southern-lakes"><i class="fa fa-check"></i><b>4.3.4</b> Bootstrapping for Northern vs Southern Lakes</a></li>
<li class="chapter" data-level="4.3.5" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#code-for-bootstrapping-for-n-vs-s-lakes"><i class="fa fa-check"></i><b>4.3.5</b> Code for Bootstrapping for N vs S Lakes</a></li>
<li class="chapter" data-level="4.3.6" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#lakes-bootstrap-percentile-ci-for-avg.-diff."><i class="fa fa-check"></i><b>4.3.6</b> Lakes: Bootstrap Percentile CI for Avg. Diff.</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrapping-regression-coefficients"><i class="fa fa-check"></i><b>4.4</b> Bootstrapping Regression Coefficients</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrapping-regression-slope-for-all-cars"><i class="fa fa-check"></i><b>4.4.1</b> Bootstrapping Regression Slope for All Cars</a></li>
<li class="chapter" data-level="4.4.2" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#code-for-cars-regression-bootstrap"><i class="fa fa-check"></i><b>4.4.2</b> Code for Cars Regression Bootstrap</a></li>
<li class="chapter" data-level="4.4.3" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#first-10-bootstrap-regression-lines"><i class="fa fa-check"></i><b>4.4.3</b> First 10 Bootstrap Regression Lines</a></li>
<li class="chapter" data-level="4.4.4" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrap-percentile-ci-for-slope-of-cars-reg.-line"><i class="fa fa-check"></i><b>4.4.4</b> Bootstrap Percentile CI for Slope of Cars Reg. Line</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrapping-coefficients-in-multiple-regression"><i class="fa fa-check"></i><b>4.5</b> Bootstrapping Coefficients in Multiple Regression</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#model-for-predicting-bear-weights"><i class="fa fa-check"></i><b>4.5.1</b> Model for Predicting Bear Weights</a></li>
<li class="chapter" data-level="4.5.2" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#model-for-predicting-bear-weights-cont."><i class="fa fa-check"></i><b>4.5.2</b> Model for Predicting Bear Weights (cont.)</a></li>
<li class="chapter" data-level="4.5.3" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#model-interpretations-in-bears-interaction-model"><i class="fa fa-check"></i><b>4.5.3</b> Model Interpretations in Bears Interaction Model</a></li>
<li class="chapter" data-level="4.5.4" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#quantities-of-interest"><i class="fa fa-check"></i><b>4.5.4</b> Quantities of Interest</a></li>
<li class="chapter" data-level="4.5.5" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrapping-for-bears-regression-coefficients"><i class="fa fa-check"></i><b>4.5.5</b> Bootstrapping for Bears Regression Coefficients</a></li>
<li class="chapter" data-level="4.5.6" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrap-code-for-bears-regression-coefficients"><i class="fa fa-check"></i><b>4.5.6</b> Bootstrap Code for Bears Regression Coefficients</a></li>
<li class="chapter" data-level="4.5.7" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrap-percentile-ci-for-b_1-in-bears-model"><i class="fa fa-check"></i><b>4.5.7</b> Bootstrap Percentile CI for <span class="math inline">\(b_1\)</span> in Bears Model</a></li>
<li class="chapter" data-level="4.5.8" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrap-percentile-ci-for-b_1-b_3"><i class="fa fa-check"></i><b>4.5.8</b> Bootstrap Percentile CI for <span class="math inline">\(b_1 + b_3\)</span></a></li>
<li class="chapter" data-level="4.5.9" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrap-percentile-ci-for-b_0-24b_1"><i class="fa fa-check"></i><b>4.5.9</b> Bootstrap Percentile CI for <span class="math inline">\(b_0 + 24b_1\)</span></a></li>
<li class="chapter" data-level="4.5.10" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrap-percentile-ci-for-b_0-b_2-24b_1b_3"><i class="fa fa-check"></i><b>4.5.10</b> Bootstrap Percentile CI for <span class="math inline">\((b_0 + b_2) + 24(b_1+b_3)\)</span></a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bootstrap-standard-error-confidence-intervals"><i class="fa fa-check"></i><b>4.6</b> Bootstrap Standard Error Confidence Intervals</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#shape-of-bootstrap-distributions"><i class="fa fa-check"></i><b>4.6.1</b> Shape of Bootstrap Distributions</a></li>
<li class="chapter" data-level="4.6.2" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#comparing-se-and-percential-bootstrap-intervals"><i class="fa fa-check"></i><b>4.6.2</b> Comparing SE and Percential Bootstrap Intervals</a></li>
<li class="chapter" data-level="4.6.3" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#mean-hg-in-lakes"><i class="fa fa-check"></i><b>4.6.3</b> Mean Hg in Lakes</a></li>
<li class="chapter" data-level="4.6.4" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#difference-in-mean-hg-in-lakes"><i class="fa fa-check"></i><b>4.6.4</b> Difference in Mean Hg in Lakes</a></li>
<li class="chapter" data-level="4.6.5" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#proportion-lakes-exceeding-1-ppm-hg"><i class="fa fa-check"></i><b>4.6.5</b> Proportion Lakes Exceeding 1 ppm Hg</a></li>
<li class="chapter" data-level="4.6.6" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#cars-regression-slope"><i class="fa fa-check"></i><b>4.6.6</b> Cars Regression Slope</a></li>
<li class="chapter" data-level="4.6.7" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#bears-b1-coefficient"><i class="fa fa-check"></i><b>4.6.7</b> Bears <span class="math inline">\(b1\)</span> Coefficient</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#standard-error-formulas"><i class="fa fa-check"></i><b>4.7</b> Standard Error Formulas</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#what-is-standard-error"><i class="fa fa-check"></i><b>4.7.1</b> What is Standard Error?</a></li>
<li class="chapter" data-level="4.7.2" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#sample-size-and-standard-deviation"><i class="fa fa-check"></i><b>4.7.2</b> Sample Size and Standard Deviation</a></li>
<li class="chapter" data-level="4.7.3" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#sample-size-and-standard-error"><i class="fa fa-check"></i><b>4.7.3</b> Sample Size and Standard Error</a></li>
<li class="chapter" data-level="4.7.4" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#theory-based-standard-error-formulas"><i class="fa fa-check"></i><b>4.7.4</b> Theory-Based Standard Error Formulas</a></li>
<li class="chapter" data-level="4.7.5" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#one-sample-mean-example"><i class="fa fa-check"></i><b>4.7.5</b> One-Sample Mean Example</a></li>
<li class="chapter" data-level="4.7.6" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#standard-error-for-difference-in-means-cont."><i class="fa fa-check"></i><b>4.7.6</b> Standard Error for Difference in Means (cont.)</a></li>
<li class="chapter" data-level="4.7.7" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#theory-based-confidence-intervals"><i class="fa fa-check"></i><b>4.7.7</b> Theory-Based Confidence Intervals</a></li>
<li class="chapter" data-level="4.7.8" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#comparison-of-ci-methods"><i class="fa fa-check"></i><b>4.7.8</b> Comparison of CI Methods</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#intervals-and-tests-in-normal-error-regression-model"><i class="fa fa-check"></i><b>4.8</b> Intervals and Tests in Normal Error Regression Model</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#distribution-of-model-parameters"><i class="fa fa-check"></i><b>4.8.1</b> Distribution of Model Parameters</a></li>
<li class="chapter" data-level="4.8.2" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#hypothesis-tests-in-r-output"><i class="fa fa-check"></i><b>4.8.2</b> Hypothesis Tests in R Output</a></li>
<li class="chapter" data-level="4.8.3" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#coefficients-table-in-r-output"><i class="fa fa-check"></i><b>4.8.3</b> Coefficients Table in R Output</a></li>
<li class="chapter" data-level="4.8.4" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#t-distribution"><i class="fa fa-check"></i><b>4.8.4</b> t-distribution</a></li>
<li class="chapter" data-level="4.8.5" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#t-distribution-for-regression-coefficients"><i class="fa fa-check"></i><b>4.8.5</b> t-Distribution for Regression Coefficients</a></li>
<li class="chapter" data-level="4.8.6" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#hypothesis-test-for-lakes-in-north-and-south-florida"><i class="fa fa-check"></i><b>4.8.6</b> Hypothesis Test for Lakes in North and South Florida</a></li>
<li class="chapter" data-level="4.8.7" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#t-statistic-and-p-value"><i class="fa fa-check"></i><b>4.8.7</b> t-statistic and p-value</a></li>
<li class="chapter" data-level="4.8.8" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#comparison-to-simulation"><i class="fa fa-check"></i><b>4.8.8</b> Comparison to Simulation</a></li>
<li class="chapter" data-level="4.8.9" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#theory-based-ci-for-beta_1-in-florida-lakes"><i class="fa fa-check"></i><b>4.8.9</b> Theory-Based CI for <span class="math inline">\(\beta_1\)</span> in Florida Lakes</a></li>
<li class="chapter" data-level="4.8.10" data-path="bootstrap-confindence-intervals.html"><a href="bootstrap-confindence-intervals.html#when-to-use-theory-based-inference"><i class="fa fa-check"></i><b>4.8.10</b> When to Use “Theory-Based Inference”</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html"><i class="fa fa-check"></i><b>5</b> Normal Error Regression Model</a>
<ul>
<li class="chapter" data-level="5.1" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#the-normal-error-regression-model"><i class="fa fa-check"></i><b>5.1</b> The Normal Error Regression Model</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#example-ice-cream-dispensor"><i class="fa fa-check"></i><b>5.1.1</b> Example: Ice Cream Dispensor</a></li>
<li class="chapter" data-level="5.1.2" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#signal-and-noise"><i class="fa fa-check"></i><b>5.1.2</b> Signal and Noise</a></li>
<li class="chapter" data-level="5.1.3" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#normal-distribution"><i class="fa fa-check"></i><b>5.1.3</b> Normal Distribution</a></li>
<li class="chapter" data-level="5.1.4" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#signal-and-noise-in-icecream-example"><i class="fa fa-check"></i><b>5.1.4</b> Signal and Noise in Icecream Example</a></li>
<li class="chapter" data-level="5.1.5" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#what-we-actually-get-to-see"><i class="fa fa-check"></i><b>5.1.5</b> What We Actually Get to See</a></li>
<li class="chapter" data-level="5.1.6" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#icecream-model-from-simulated-data"><i class="fa fa-check"></i><b>5.1.6</b> IceCream Model From Simulated Data</a></li>
<li class="chapter" data-level="5.1.7" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#mathematical-form-of-normal-error-regression-model"><i class="fa fa-check"></i><b>5.1.7</b> Mathematical Form of Normal Error Regression Model</a></li>
<li class="chapter" data-level="5.1.8" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#parameters-and-statistics"><i class="fa fa-check"></i><b>5.1.8</b> Parameters and Statistics</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#inference-in-normal-error-regression-model"><i class="fa fa-check"></i><b>5.2</b> Inference in Normal Error Regression Model</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#distribution-of-t-fracb_jtextseb_j"><i class="fa fa-check"></i><b>5.2.1</b> Distribution of <span class="math inline">\(t= \frac{{b_j}}{\text{SE}(b_j)}\)</span></a></li>
<li class="chapter" data-level="5.2.2" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#f-distribution"><i class="fa fa-check"></i><b>5.2.2</b> F-Distribution</a></li>
<li class="chapter" data-level="5.2.3" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#distribution-of-f-statistic"><i class="fa fa-check"></i><b>5.2.3</b> Distribution of F-Statistic</a></li>
<li class="chapter" data-level="5.2.4" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#bear-weight-by-season"><i class="fa fa-check"></i><b>5.2.4</b> Bear Weight by Season</a></li>
<li class="chapter" data-level="5.2.5" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#bears-f-test-illustration"><i class="fa fa-check"></i><b>5.2.5</b> Bears F-Test Illustration</a></li>
<li class="chapter" data-level="5.2.6" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#comparison-to-simulation-1"><i class="fa fa-check"></i><b>5.2.6</b> Comparison to Simulation</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#intervals-for-predicted-values"><i class="fa fa-check"></i><b>5.3</b> Intervals for Predicted Values</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#estimation-and-prediction"><i class="fa fa-check"></i><b>5.3.1</b> Estimation and Prediction</a></li>
<li class="chapter" data-level="5.3.2" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#uncertainty-in-estimation-and-prediction"><i class="fa fa-check"></i><b>5.3.2</b> Uncertainty in Estimation and Prediction</a></li>
<li class="chapter" data-level="5.3.3" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#estimation-in-ic-example"><i class="fa fa-check"></i><b>5.3.3</b> Estimation in IC Example</a></li>
<li class="chapter" data-level="5.3.4" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#estimation-in-ic-example-1"><i class="fa fa-check"></i><b>5.3.4</b> Estimation in IC Example</a></li>
<li class="chapter" data-level="5.3.5" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#recall-ice-cream-model-output"><i class="fa fa-check"></i><b>5.3.5</b> Recall Ice Cream Model Output</a></li>
<li class="chapter" data-level="5.3.6" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#estimation-in-slr"><i class="fa fa-check"></i><b>5.3.6</b> Estimation in SLR</a></li>
<li class="chapter" data-level="5.3.7" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#confidence-interval-in-r"><i class="fa fa-check"></i><b>5.3.7</b> Confidence Interval in R</a></li>
<li class="chapter" data-level="5.3.8" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#prediction-interval-in-r"><i class="fa fa-check"></i><b>5.3.8</b> Prediction Interval in R</a></li>
<li class="chapter" data-level="5.3.9" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#confidence-and-prediction-intervals"><i class="fa fa-check"></i><b>5.3.9</b> Confidence and Prediction Intervals</a></li>
<li class="chapter" data-level="5.3.10" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#confidence-and-prediction-bands"><i class="fa fa-check"></i><b>5.3.10</b> Confidence and Prediction Bands</a></li>
<li class="chapter" data-level="5.3.11" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#calculations-optional"><i class="fa fa-check"></i><b>5.3.11</b> Calculations (Optional)</a></li>
<li class="chapter" data-level="5.3.12" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#intervals-in-cars-model"><i class="fa fa-check"></i><b>5.3.12</b> Intervals in Cars Model</a></li>
<li class="chapter" data-level="5.3.13" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#cars-confidence-interval"><i class="fa fa-check"></i><b>5.3.13</b> Cars Confidence Interval</a></li>
<li class="chapter" data-level="5.3.14" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#cars-prediction-interval"><i class="fa fa-check"></i><b>5.3.14</b> Cars Prediction Interval</a></li>
<li class="chapter" data-level="5.3.15" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#cars-interval-visualization"><i class="fa fa-check"></i><b>5.3.15</b> Cars Interval Visualization</a></li>
<li class="chapter" data-level="5.3.16" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#lakes-questions-of-interest"><i class="fa fa-check"></i><b>5.3.16</b> Lakes Questions of Interest</a></li>
<li class="chapter" data-level="5.3.17" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#lakes-confidence-interval"><i class="fa fa-check"></i><b>5.3.17</b> Lakes Confidence Interval</a></li>
<li class="chapter" data-level="5.3.18" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#lakes-prediction-interval"><i class="fa fa-check"></i><b>5.3.18</b> Lakes Prediction Interval</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#regression-model-assumptions"><i class="fa fa-check"></i><b>5.4</b> Regression Model Assumptions</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#what-were-assuming"><i class="fa fa-check"></i><b>5.4.1</b> What We’re Assuming</a></li>
<li class="chapter" data-level="5.4.2" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#illustration-of-model-assumptions"><i class="fa fa-check"></i><b>5.4.2</b> Illustration of Model Assumptions</a></li>
<li class="chapter" data-level="5.4.3" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#checking-model-assumptions"><i class="fa fa-check"></i><b>5.4.3</b> Checking Model Assumptions</a></li>
<li class="chapter" data-level="5.4.4" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#residual-vs-predicted-plots"><i class="fa fa-check"></i><b>5.4.4</b> Residual vs Predicted Plots</a></li>
<li class="chapter" data-level="5.4.5" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#histogram-of-residuals"><i class="fa fa-check"></i><b>5.4.5</b> Histogram of Residuals</a></li>
<li class="chapter" data-level="5.4.6" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#normal-quantile-quantile-qq-plot"><i class="fa fa-check"></i><b>5.4.6</b> Normal Quantile-Quantile (QQ) Plot</a></li>
<li class="chapter" data-level="5.4.7" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#checking-model-assumptions---independence"><i class="fa fa-check"></i><b>5.4.7</b> Checking Model Assumptions - Independence</a></li>
<li class="chapter" data-level="5.4.8" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#summary-of-checks-for-model-assumptions"><i class="fa fa-check"></i><b>5.4.8</b> Summary of Checks for Model Assumptions</a></li>
<li class="chapter" data-level="5.4.9" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#impact-of-model-assumption-violations"><i class="fa fa-check"></i><b>5.4.9</b> Impact of Model Assumption Violations</a></li>
<li class="chapter" data-level="5.4.10" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#cars-model-assumptions"><i class="fa fa-check"></i><b>5.4.10</b> Cars Model Assumptions</a></li>
<li class="chapter" data-level="5.4.11" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#cars-assumptions-check"><i class="fa fa-check"></i><b>5.4.11</b> Cars Assumptions Check</a></li>
<li class="chapter" data-level="5.4.12" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#model-for-mercury-florida-lakes"><i class="fa fa-check"></i><b>5.4.12</b> Model for Mercury Florida Lakes</a></li>
<li class="chapter" data-level="5.4.13" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#lakes-model-assumptions"><i class="fa fa-check"></i><b>5.4.13</b> Lakes Model Assumptions</a></li>
<li class="chapter" data-level="5.4.14" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#lakes-assumptions-check"><i class="fa fa-check"></i><b>5.4.14</b> Lakes Assumptions Check</a></li>
<li class="chapter" data-level="5.4.15" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#general-comments-on-model-assumptions"><i class="fa fa-check"></i><b>5.4.15</b> General Comments on Model Assumptions</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#transformations"><i class="fa fa-check"></i><b>5.5</b> Transformations</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#cars-assumptions-check-1"><i class="fa fa-check"></i><b>5.5.1</b> Cars Assumptions Check</a></li>
<li class="chapter" data-level="5.5.2" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#confidence-interval-for-beta_1-in-cars-example"><i class="fa fa-check"></i><b>5.5.2</b> Confidence Interval for <span class="math inline">\(\beta_1\)</span> in Cars Example</a></li>
<li class="chapter" data-level="5.5.3" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#confidence-and-prediction-intervals-1"><i class="fa fa-check"></i><b>5.5.3</b> Confidence and Prediction Intervals</a></li>
<li class="chapter" data-level="5.5.4" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#prediction-intervals-for-expected-price-given-acc060"><i class="fa fa-check"></i><b>5.5.4</b> Prediction Intervals for Expected Price Given Acc060</a></li>
<li class="chapter" data-level="5.5.5" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#confidence-and-prediction-interval-illustration"><i class="fa fa-check"></i><b>5.5.5</b> Confidence and Prediction Interval Illustration</a></li>
<li class="chapter" data-level="5.5.6" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#concerns-about-intervals-and-model-assumptions"><i class="fa fa-check"></i><b>5.5.6</b> Concerns about Intervals and Model Assumptions</a></li>
<li class="chapter" data-level="5.5.7" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#modeling-log-price"><i class="fa fa-check"></i><b>5.5.7</b> Modeling Log Price</a></li>
<li class="chapter" data-level="5.5.8" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#plot-of-logprice-and-acc060"><i class="fa fa-check"></i><b>5.5.8</b> Plot of LogPrice and Acc060</a></li>
<li class="chapter" data-level="5.5.9" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#model-for-log-transform"><i class="fa fa-check"></i><b>5.5.9</b> Model for Log Transform</a></li>
<li class="chapter" data-level="5.5.10" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#logprice-model-what-were-assuming"><i class="fa fa-check"></i><b>5.5.10</b> LogPrice Model: What We’re Assuming</a></li>
<li class="chapter" data-level="5.5.11" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#model-assumption-check-for-transformed-model"><i class="fa fa-check"></i><b>5.5.11</b> Model Assumption Check for Transformed Model</a></li>
<li class="chapter" data-level="5.5.12" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#model-for-log-of-car-price"><i class="fa fa-check"></i><b>5.5.12</b> Model for Log of Car Price</a></li>
<li class="chapter" data-level="5.5.13" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#log-model-predictions"><i class="fa fa-check"></i><b>5.5.13</b> Log Model Predictions</a></li>
<li class="chapter" data-level="5.5.14" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#log-model-interpretations"><i class="fa fa-check"></i><b>5.5.14</b> Log Model Interpretations</a></li>
<li class="chapter" data-level="5.5.15" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#log-model-ci-for-beta_0-beta_1"><i class="fa fa-check"></i><b>5.5.15</b> Log Model CI for <span class="math inline">\(\beta_0\)</span>, <span class="math inline">\(\beta_1\)</span></a></li>
<li class="chapter" data-level="5.5.16" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#log-model-ci-for-expected-response"><i class="fa fa-check"></i><b>5.5.16</b> Log Model CI for Expected Response</a></li>
<li class="chapter" data-level="5.5.17" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#log-model-prediction-interval"><i class="fa fa-check"></i><b>5.5.17</b> Log Model Prediction Interval</a></li>
<li class="chapter" data-level="5.5.18" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#confidence-interval-comparison"><i class="fa fa-check"></i><b>5.5.18</b> Confidence Interval Comparison</a></li>
<li class="chapter" data-level="5.5.19" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#prediction-interval-comparison"><i class="fa fa-check"></i><b>5.5.19</b> Prediction Interval Comparison</a></li>
<li class="chapter" data-level="5.5.20" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#log-model-visualization"><i class="fa fa-check"></i><b>5.5.20</b> Log Model Visualization</a></li>
<li class="chapter" data-level="5.5.21" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#comments-on-transformations"><i class="fa fa-check"></i><b>5.5.21</b> Comments on Transformations</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#responsible-statistical-inference"><i class="fa fa-check"></i><b>5.6</b> Responsible Statistical Inference</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#statistical-significance-vs-practical-importance"><i class="fa fa-check"></i><b>5.6.1</b> Statistical Significance vs Practical Importance</a></li>
<li class="chapter" data-level="5.6.2" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#what-a-p-value-tells-us"><i class="fa fa-check"></i><b>5.6.2</b> What a p-value tells us</a></li>
<li class="chapter" data-level="5.6.3" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#flights-from-new-york-to-chicago"><i class="fa fa-check"></i><b>5.6.3</b> Flights from New York to Chicago</a></li>
<li class="chapter" data-level="5.6.4" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#visualizing-new-york-to-chicago-flights"><i class="fa fa-check"></i><b>5.6.4</b> Visualizing New York to Chicago Flights</a></li>
<li class="chapter" data-level="5.6.5" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#model-for-airlines-data"><i class="fa fa-check"></i><b>5.6.5</b> Model for Airlines Data</a></li>
<li class="chapter" data-level="5.6.6" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#confidence-interval-for-flights"><i class="fa fa-check"></i><b>5.6.6</b> Confidence Interval for Flights</a></li>
<li class="chapter" data-level="5.6.7" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#flights-conclusions"><i class="fa fa-check"></i><b>5.6.7</b> Flights Conclusions?</a></li>
<li class="chapter" data-level="5.6.8" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#smoking-and-birthweight-example"><i class="fa fa-check"></i><b>5.6.8</b> Smoking and Birthweight Example</a></li>
<li class="chapter" data-level="5.6.9" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#model-for-birthweight"><i class="fa fa-check"></i><b>5.6.9</b> Model for Birthweight</a></li>
<li class="chapter" data-level="5.6.10" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#conclusions-from-birthweight-data"><i class="fa fa-check"></i><b>5.6.10</b> Conclusions from Birthweight Data</a></li>
<li class="chapter" data-level="5.6.11" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#impact-of-small-sample-size"><i class="fa fa-check"></i><b>5.6.11</b> Impact of Small Sample Size</a></li>
<li class="chapter" data-level="5.6.12" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#larger-dataset"><i class="fa fa-check"></i><b>5.6.12</b> Larger Dataset</a></li>
<li class="chapter" data-level="5.6.13" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#cautions-and-advice"><i class="fa fa-check"></i><b>5.6.13</b> Cautions and Advice</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#the-regression-effect"><i class="fa fa-check"></i><b>5.7</b> The Regression Effect</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#the-regression-effect-1"><i class="fa fa-check"></i><b>5.7.1</b> The Regression Effect</a></li>
<li class="chapter" data-level="5.7.2" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#the-regression-effect-2"><i class="fa fa-check"></i><b>5.7.2</b> The Regression Effect</a></li>
<li class="chapter" data-level="5.7.3" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#the-regression-effect-3"><i class="fa fa-check"></i><b>5.7.3</b> The Regression Effect</a></li>
<li class="chapter" data-level="5.7.4" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#simulating-regression-effect"><i class="fa fa-check"></i><b>5.7.4</b> Simulating Regression Effect</a></li>
<li class="chapter" data-level="5.7.5" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#test-scores-simulation---highest-scores"><i class="fa fa-check"></i><b>5.7.5</b> Test Scores Simulation - Highest Scores</a></li>
<li class="chapter" data-level="5.7.6" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#test-scores-simulation---lowest-scores"><i class="fa fa-check"></i><b>5.7.6</b> Test Scores Simulation - Lowest Scores</a></li>
<li class="chapter" data-level="5.7.7" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#another-example"><i class="fa fa-check"></i><b>5.7.7</b> Another Example</a></li>
<li class="chapter" data-level="5.7.8" data-path="normal-error-regression-model.html"><a href="normal-error-regression-model.html#other-examples-of-regression-effect"><i class="fa fa-check"></i><b>5.7.8</b> Other Examples of Regression Effect</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html"><i class="fa fa-check"></i><b>6</b> Building Models for Interpretation</a>
<ul>
<li class="chapter" data-level="6.1" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#modeling-sat-score"><i class="fa fa-check"></i><b>6.1</b> Modeling SAT Score</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#overview-of-model-building"><i class="fa fa-check"></i><b>6.1.1</b> Overview of Model Building</a></li>
<li class="chapter" data-level="6.1.2" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#considerations-in-modeling"><i class="fa fa-check"></i><b>6.1.2</b> Considerations in Modeling</a></li>
<li class="chapter" data-level="6.1.3" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#sat-scores-dataset"><i class="fa fa-check"></i><b>6.1.3</b> SAT Scores Dataset</a></li>
<li class="chapter" data-level="6.1.4" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#teacher-salaries-and-sat-scores"><i class="fa fa-check"></i><b>6.1.4</b> Teacher Salaries and SAT Scores</a></li>
<li class="chapter" data-level="6.1.5" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#simple-linear-regression-model"><i class="fa fa-check"></i><b>6.1.5</b> Simple Linear Regression Model</a></li>
<li class="chapter" data-level="6.1.6" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#a-closer-look"><i class="fa fa-check"></i><b>6.1.6</b> A Closer Look</a></li>
<li class="chapter" data-level="6.1.7" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#a-closer-look-1"><i class="fa fa-check"></i><b>6.1.7</b> A Closer Look</a></li>
<li class="chapter" data-level="6.1.8" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#multiple-regression-model-2"><i class="fa fa-check"></i><b>6.1.8</b> Multiple Regression Model</a></li>
<li class="chapter" data-level="6.1.9" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#add-other-variables"><i class="fa fa-check"></i><b>6.1.9</b> Add Other Variables?</a></li>
<li class="chapter" data-level="6.1.10" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#add-student-to-teacher-ratio"><i class="fa fa-check"></i><b>6.1.10</b> Add Student-to-Teacher Ratio</a></li>
<li class="chapter" data-level="6.1.11" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#add-expendatures"><i class="fa fa-check"></i><b>6.1.11</b> Add Expendatures</a></li>
<li class="chapter" data-level="6.1.12" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#confidence-intervals-1"><i class="fa fa-check"></i><b>6.1.12</b> Confidence Intervals</a></li>
<li class="chapter" data-level="6.1.13" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#residual-plots-for-sat-3-variable-model"><i class="fa fa-check"></i><b>6.1.13</b> Residual Plots for SAT 3-variable Model</a></li>
<li class="chapter" data-level="6.1.14" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#plots-of-residuals-against-predictors"><i class="fa fa-check"></i><b>6.1.14</b> Plots of Residuals Against Predictors</a></li>
<li class="chapter" data-level="6.1.15" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#model-using-frac2"><i class="fa fa-check"></i><b>6.1.15</b> Model Using Frac^2</a></li>
<li class="chapter" data-level="6.1.16" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#residual-plots-for-quadratic-sat-model"><i class="fa fa-check"></i><b>6.1.16</b> Residual Plots for Quadratic SAT Model</a></li>
<li class="chapter" data-level="6.1.17" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#model-with-linear-term-on-frac"><i class="fa fa-check"></i><b>6.1.17</b> Model with Linear Term on Frac</a></li>
<li class="chapter" data-level="6.1.18" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#interpretations-for-model-with-linear-terms"><i class="fa fa-check"></i><b>6.1.18</b> Interpretations for Model with Linear Terms</a></li>
<li class="chapter" data-level="6.1.19" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#model-with-quadratic-term-on-frac"><i class="fa fa-check"></i><b>6.1.19</b> Model with Quadratic Term on Frac</a></li>
<li class="chapter" data-level="6.1.20" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#interpretations-for-model-with-quadratic-terms"><i class="fa fa-check"></i><b>6.1.20</b> Interpretations for Model with Quadratic Terms</a></li>
<li class="chapter" data-level="6.1.21" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#plot-of-sat-and-frac"><i class="fa fa-check"></i><b>6.1.21</b> Plot of SAT and Frac</a></li>
<li class="chapter" data-level="6.1.22" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#sat-model-summary"><i class="fa fa-check"></i><b>6.1.22</b> SAT Model Summary</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#modeling-car-price"><i class="fa fa-check"></i><b>6.2</b> Modeling Car Price</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#model-for-price-of-2015-cars"><i class="fa fa-check"></i><b>6.2.1</b> Model for Price of 2015 Cars</a></li>
<li class="chapter" data-level="6.2.2" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#categorical-variables"><i class="fa fa-check"></i><b>6.2.2</b> Categorical Variables</a></li>
<li class="chapter" data-level="6.2.3" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#correlation-matrix"><i class="fa fa-check"></i><b>6.2.3</b> Correlation Matrix</a></li>
<li class="chapter" data-level="6.2.4" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#model-using-acceleration-time"><i class="fa fa-check"></i><b>6.2.4</b> Model Using Acceleration Time</a></li>
<li class="chapter" data-level="6.2.5" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#model-using-quarter-mile-time"><i class="fa fa-check"></i><b>6.2.5</b> Model Using Quarter Mile Time</a></li>
<li class="chapter" data-level="6.2.6" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#model-using-quarter-mile-time-and-acc.-time"><i class="fa fa-check"></i><b>6.2.6</b> Model Using Quarter Mile Time and Acc. Time</a></li>
<li class="chapter" data-level="6.2.7" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#problems-with-multicollinearity-in-modeling"><i class="fa fa-check"></i><b>6.2.7</b> Problems with Multicollinearity in Modeling</a></li>
<li class="chapter" data-level="6.2.8" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#impact-on-prediction"><i class="fa fa-check"></i><b>6.2.8</b> Impact on Prediction</a></li>
<li class="chapter" data-level="6.2.9" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#adding-weight-to-model"><i class="fa fa-check"></i><b>6.2.9</b> Adding Weight to Model</a></li>
<li class="chapter" data-level="6.2.10" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#add-interaction-term"><i class="fa fa-check"></i><b>6.2.10</b> Add Interaction Term?</a></li>
<li class="chapter" data-level="6.2.11" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#add-hwy-mpg"><i class="fa fa-check"></i><b>6.2.11</b> Add HWY MPG?</a></li>
<li class="chapter" data-level="6.2.12" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#categorical-variables-to-consider"><i class="fa fa-check"></i><b>6.2.12</b> Categorical Variables to Consider</a></li>
<li class="chapter" data-level="6.2.13" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#model-with-qtrmile-weight-and-drive"><i class="fa fa-check"></i><b>6.2.13</b> Model with QtrMile, Weight, and Drive</a></li>
<li class="chapter" data-level="6.2.14" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#add-size"><i class="fa fa-check"></i><b>6.2.14</b> Add Size</a></li>
<li class="chapter" data-level="6.2.15" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#check-of-model-assumptions"><i class="fa fa-check"></i><b>6.2.15</b> Check of Model Assumptions</a></li>
<li class="chapter" data-level="6.2.16" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#residual-by-predictor-plots"><i class="fa fa-check"></i><b>6.2.16</b> Residual by Predictor Plots</a></li>
<li class="chapter" data-level="6.2.17" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#coefficients-and-exponentiation"><i class="fa fa-check"></i><b>6.2.17</b> Coefficients and Exponentiation</a></li>
<li class="chapter" data-level="6.2.18" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#interpretation-of-coefficients"><i class="fa fa-check"></i><b>6.2.18</b> Interpretation of Coefficients</a></li>
<li class="chapter" data-level="6.2.19" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#adjusted-r2-aic-bic"><i class="fa fa-check"></i><b>6.2.19</b> Adjusted <span class="math inline">\(R^2\)</span>, AIC, BIC</a></li>
<li class="chapter" data-level="6.2.20" data-path="building-models-for-interpretation.html"><a href="building-models-for-interpretation.html#model-building-summary"><i class="fa fa-check"></i><b>6.2.20</b> Model Building Summary</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="predictive-modeling.html"><a href="predictive-modeling.html"><i class="fa fa-check"></i><b>7</b> Predictive Modeling</a>
<ul>
<li class="chapter" data-level="7.1" data-path="predictive-modeling.html"><a href="predictive-modeling.html#training-and-test-error"><i class="fa fa-check"></i><b>7.1</b> Training and Test Error</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="predictive-modeling.html"><a href="predictive-modeling.html#prediction-simulation-example"><i class="fa fa-check"></i><b>7.1.1</b> Prediction Simulation Example</a></li>
<li class="chapter" data-level="7.1.2" data-path="predictive-modeling.html"><a href="predictive-modeling.html#model-complexity"><i class="fa fa-check"></i><b>7.1.2</b> Model Complexity</a></li>
<li class="chapter" data-level="7.1.3" data-path="predictive-modeling.html"><a href="predictive-modeling.html#new-data-for-prediction"><i class="fa fa-check"></i><b>7.1.3</b> New Data for Prediction</a></li>
<li class="chapter" data-level="7.1.4" data-path="predictive-modeling.html"><a href="predictive-modeling.html#fit-polynomial-models"><i class="fa fa-check"></i><b>7.1.4</b> Fit Polynomial Models</a></li>
<li class="chapter" data-level="7.1.5" data-path="predictive-modeling.html"><a href="predictive-modeling.html#predictions-for-new-data"><i class="fa fa-check"></i><b>7.1.5</b> Predictions for New Data</a></li>
<li class="chapter" data-level="7.1.6" data-path="predictive-modeling.html"><a href="predictive-modeling.html#predicted-values-and-true-y"><i class="fa fa-check"></i><b>7.1.6</b> Predicted Values and True y</a></li>
<li class="chapter" data-level="7.1.7" data-path="predictive-modeling.html"><a href="predictive-modeling.html#evaluating-predictions---rmse"><i class="fa fa-check"></i><b>7.1.7</b> Evaluating Predictions - RMSE</a></li>
<li class="chapter" data-level="7.1.8" data-path="predictive-modeling.html"><a href="predictive-modeling.html#calculate-prediction-error"><i class="fa fa-check"></i><b>7.1.8</b> Calculate Prediction Error</a></li>
<li class="chapter" data-level="7.1.9" data-path="predictive-modeling.html"><a href="predictive-modeling.html#prediction-rmspe-by-model"><i class="fa fa-check"></i><b>7.1.9</b> Prediction RMSPE by Model</a></li>
<li class="chapter" data-level="7.1.10" data-path="predictive-modeling.html"><a href="predictive-modeling.html#training-and-test-data"><i class="fa fa-check"></i><b>7.1.10</b> Training and Test Data</a></li>
<li class="chapter" data-level="7.1.11" data-path="predictive-modeling.html"><a href="predictive-modeling.html#training-data-error"><i class="fa fa-check"></i><b>7.1.11</b> Training Data Error</a></li>
<li class="chapter" data-level="7.1.12" data-path="predictive-modeling.html"><a href="predictive-modeling.html#test-and-training-error"><i class="fa fa-check"></i><b>7.1.12</b> Test and Training Error</a></li>
<li class="chapter" data-level="7.1.13" data-path="predictive-modeling.html"><a href="predictive-modeling.html#graph-of-rmspe"><i class="fa fa-check"></i><b>7.1.13</b> Graph of RMSPE</a></li>
<li class="chapter" data-level="7.1.14" data-path="predictive-modeling.html"><a href="predictive-modeling.html#third-degree-model-summary"><i class="fa fa-check"></i><b>7.1.14</b> Third Degree Model Summary</a></li>
<li class="chapter" data-level="7.1.15" data-path="predictive-modeling.html"><a href="predictive-modeling.html#true-data-model"><i class="fa fa-check"></i><b>7.1.15</b> True Data Model</a></li>
<li class="chapter" data-level="7.1.16" data-path="predictive-modeling.html"><a href="predictive-modeling.html#true-data-model-1"><i class="fa fa-check"></i><b>7.1.16</b> True Data Model</a></li>
<li class="chapter" data-level="7.1.17" data-path="predictive-modeling.html"><a href="predictive-modeling.html#linear-model-on-larger-population"><i class="fa fa-check"></i><b>7.1.17</b> Linear Model on Larger Population</a></li>
<li class="chapter" data-level="7.1.18" data-path="predictive-modeling.html"><a href="predictive-modeling.html#cubic-model-on-larger-population"><i class="fa fa-check"></i><b>7.1.18</b> Cubic Model on Larger Population</a></li>
<li class="chapter" data-level="7.1.19" data-path="predictive-modeling.html"><a href="predictive-modeling.html#eighth-degree-model-on-larger-population"><i class="fa fa-check"></i><b>7.1.19</b> Eighth-Degree Model on Larger Population</a></li>
<li class="chapter" data-level="7.1.20" data-path="predictive-modeling.html"><a href="predictive-modeling.html#model-complexity-training-error-and-test-error"><i class="fa fa-check"></i><b>7.1.20</b> Model Complexity, Training Error, and Test Error</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="predictive-modeling.html"><a href="predictive-modeling.html#variance-bias-tradeoff"><i class="fa fa-check"></i><b>7.2</b> Variance-Bias Tradeoff</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="predictive-modeling.html"><a href="predictive-modeling.html#what-contributes-to-prediction-error"><i class="fa fa-check"></i><b>7.2.1</b> What Contributes to Prediction Error?</a></li>
<li class="chapter" data-level="7.2.2" data-path="predictive-modeling.html"><a href="predictive-modeling.html#variance-and-bias"><i class="fa fa-check"></i><b>7.2.2</b> Variance and Bias</a></li>
<li class="chapter" data-level="7.2.3" data-path="predictive-modeling.html"><a href="predictive-modeling.html#variance-bias-tradeoff-1"><i class="fa fa-check"></i><b>7.2.3</b> Variance-Bias Tradeoff</a></li>
<li class="chapter" data-level="7.2.4" data-path="predictive-modeling.html"><a href="predictive-modeling.html#modeling-for-prediction"><i class="fa fa-check"></i><b>7.2.4</b> Modeling for Prediction</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="predictive-modeling.html"><a href="predictive-modeling.html#cross-validation"><i class="fa fa-check"></i><b>7.3</b> Cross-Validation</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="predictive-modeling.html"><a href="predictive-modeling.html#cross-validation-cv"><i class="fa fa-check"></i><b>7.3.1</b> Cross-Validation (CV)</a></li>
<li class="chapter" data-level="7.3.2" data-path="predictive-modeling.html"><a href="predictive-modeling.html#cross-validation-illustration"><i class="fa fa-check"></i><b>7.3.2</b> Cross-Validation Illustration</a></li>
<li class="chapter" data-level="7.3.3" data-path="predictive-modeling.html"><a href="predictive-modeling.html#models-for-price-of-new-cars"><i class="fa fa-check"></i><b>7.3.3</b> Models for Price of New Cars</a></li>
<li class="chapter" data-level="7.3.4" data-path="predictive-modeling.html"><a href="predictive-modeling.html#cross-validation-in-cars-dataset"><i class="fa fa-check"></i><b>7.3.4</b> Cross Validation in Cars Dataset</a></li>
<li class="chapter" data-level="7.3.5" data-path="predictive-modeling.html"><a href="predictive-modeling.html#cv-results"><i class="fa fa-check"></i><b>7.3.5</b> CV Results</a></li>
<li class="chapter" data-level="7.3.6" data-path="predictive-modeling.html"><a href="predictive-modeling.html#cv-conclusions"><i class="fa fa-check"></i><b>7.3.6</b> CV Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="predictive-modeling.html"><a href="predictive-modeling.html#ridge-regression"><i class="fa fa-check"></i><b>7.4</b> Ridge Regression</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="predictive-modeling.html"><a href="predictive-modeling.html#complexity-in-model-coefficients"><i class="fa fa-check"></i><b>7.4.1</b> Complexity in Model Coefficients</a></li>
<li class="chapter" data-level="7.4.2" data-path="predictive-modeling.html"><a href="predictive-modeling.html#regression-on-housing-dataset"><i class="fa fa-check"></i><b>7.4.2</b> Regression on Housing Dataset</a></li>
<li class="chapter" data-level="7.4.3" data-path="predictive-modeling.html"><a href="predictive-modeling.html#housing-model--some-exp.-vars."><i class="fa fa-check"></i><b>7.4.3</b> Housing Model- Some Exp. Vars.</a></li>
<li class="chapter" data-level="7.4.4" data-path="predictive-modeling.html"><a href="predictive-modeling.html#ridge-regression-penalty"><i class="fa fa-check"></i><b>7.4.4</b> Ridge Regression Penalty</a></li>
<li class="chapter" data-level="7.4.5" data-path="predictive-modeling.html"><a href="predictive-modeling.html#choosing-lambda"><i class="fa fa-check"></i><b>7.4.5</b> Choosing <span class="math inline">\(\lambda\)</span></a></li>
<li class="chapter" data-level="7.4.6" data-path="predictive-modeling.html"><a href="predictive-modeling.html#optimal-value-of-lambda"><i class="fa fa-check"></i><b>7.4.6</b> Optimal value of <span class="math inline">\(\lambda\)</span></a></li>
<li class="chapter" data-level="7.4.7" data-path="predictive-modeling.html"><a href="predictive-modeling.html#standardizing"><i class="fa fa-check"></i><b>7.4.7</b> Standardizing</a></li>
<li class="chapter" data-level="7.4.8" data-path="predictive-modeling.html"><a href="predictive-modeling.html#ridge-regression-on-housing-dataset"><i class="fa fa-check"></i><b>7.4.8</b> Ridge Regression on Housing Dataset</a></li>
<li class="chapter" data-level="7.4.9" data-path="predictive-modeling.html"><a href="predictive-modeling.html#ridge-regression-rmspe-by-lambda"><i class="fa fa-check"></i><b>7.4.9</b> Ridge Regression RMSPE by <span class="math inline">\(\lambda\)</span></a></li>
<li class="chapter" data-level="7.4.10" data-path="predictive-modeling.html"><a href="predictive-modeling.html#ridge-regression-coefficients-for-optimal-model"><i class="fa fa-check"></i><b>7.4.10</b> Ridge Regression Coefficients for Optimal Model</a></li>
<li class="chapter" data-level="7.4.11" data-path="predictive-modeling.html"><a href="predictive-modeling.html#ols-and-ridge-predictions"><i class="fa fa-check"></i><b>7.4.11</b> OLS and Ridge Predictions</a></li>
<li class="chapter" data-level="7.4.12" data-path="predictive-modeling.html"><a href="predictive-modeling.html#choosing-b_j-in-ols"><i class="fa fa-check"></i><b>7.4.12</b> Choosing <span class="math inline">\(b_j\)</span> in OLS</a></li>
<li class="chapter" data-level="7.4.13" data-path="predictive-modeling.html"><a href="predictive-modeling.html#choosing-b_j-in-ridge-regression"><i class="fa fa-check"></i><b>7.4.13</b> Choosing <span class="math inline">\(b_j\)</span> in Ridge Regression</a></li>
<li class="chapter" data-level="7.4.14" data-path="predictive-modeling.html"><a href="predictive-modeling.html#lasso-regression"><i class="fa fa-check"></i><b>7.4.14</b> Lasso Regression</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="predictive-modeling.html"><a href="predictive-modeling.html#decision-trees"><i class="fa fa-check"></i><b>7.5</b> Decision Trees</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="predictive-modeling.html"><a href="predictive-modeling.html#basics-of-decision-trees"><i class="fa fa-check"></i><b>7.5.1</b> Basics of Decision Trees</a></li>
<li class="chapter" data-level="7.5.2" data-path="predictive-modeling.html"><a href="predictive-modeling.html#decision-tree-example"><i class="fa fa-check"></i><b>7.5.2</b> Decision Tree Example</a></li>
<li class="chapter" data-level="7.5.3" data-path="predictive-modeling.html"><a href="predictive-modeling.html#partitioning-in-a-decision-tree"><i class="fa fa-check"></i><b>7.5.3</b> Partitioning in A Decision Tree</a></li>
<li class="chapter" data-level="7.5.4" data-path="predictive-modeling.html"><a href="predictive-modeling.html#partitioning-example"><i class="fa fa-check"></i><b>7.5.4</b> Partitioning Example</a></li>
<li class="chapter" data-level="7.5.5" data-path="predictive-modeling.html"><a href="predictive-modeling.html#one-possible-split-x_1-5.5"><i class="fa fa-check"></i><b>7.5.5</b> One Possible Split (<span class="math inline">\(x_1 &lt; 5.5\)</span>)</a></li>
<li class="chapter" data-level="7.5.6" data-path="predictive-modeling.html"><a href="predictive-modeling.html#one-possible-split-x_1-5.5-cont."><i class="fa fa-check"></i><b>7.5.6</b> One Possible Split (<span class="math inline">\(x_1 &lt; 5.5\)</span>) (cont.)</a></li>
<li class="chapter" data-level="7.5.7" data-path="predictive-modeling.html"><a href="predictive-modeling.html#second-possible-split-x_1-6.5"><i class="fa fa-check"></i><b>7.5.7</b> Second Possible Split (<span class="math inline">\(x_1 &lt; 6.5\)</span>)</a></li>
<li class="chapter" data-level="7.5.8" data-path="predictive-modeling.html"><a href="predictive-modeling.html#second-possible-split-x_1-6.5-cont."><i class="fa fa-check"></i><b>7.5.8</b> Second Possible Split (<span class="math inline">\(x_1 &lt; 6.5\)</span>) (cont.)</a></li>
<li class="chapter" data-level="7.5.9" data-path="predictive-modeling.html"><a href="predictive-modeling.html#third-possible-split-x_2-5.5"><i class="fa fa-check"></i><b>7.5.9</b> Third Possible Split (<span class="math inline">\(x_2 &lt; 5.5\)</span>)</a></li>
<li class="chapter" data-level="7.5.10" data-path="predictive-modeling.html"><a href="predictive-modeling.html#third-possible-split-x_2-5.5-cont."><i class="fa fa-check"></i><b>7.5.10</b> Third Possible Split (<span class="math inline">\(x_2 &lt; 5.5\)</span>) (cont.)</a></li>
<li class="chapter" data-level="7.5.11" data-path="predictive-modeling.html"><a href="predictive-modeling.html#comparison-of-splits"><i class="fa fa-check"></i><b>7.5.11</b> Comparison of Splits</a></li>
<li class="chapter" data-level="7.5.12" data-path="predictive-modeling.html"><a href="predictive-modeling.html#first-split"><i class="fa fa-check"></i><b>7.5.12</b> First Split</a></li>
<li class="chapter" data-level="7.5.13" data-path="predictive-modeling.html"><a href="predictive-modeling.html#first-split-in-the-tree"><i class="fa fa-check"></i><b>7.5.13</b> First Split in the Tree</a></li>
<li class="chapter" data-level="7.5.14" data-path="predictive-modeling.html"><a href="predictive-modeling.html#next-splits"><i class="fa fa-check"></i><b>7.5.14</b> Next Splits</a></li>
<li class="chapter" data-level="7.5.15" data-path="predictive-modeling.html"><a href="predictive-modeling.html#next-splits-in-tree"><i class="fa fa-check"></i><b>7.5.15</b> Next Splits in Tree</a></li>
<li class="chapter" data-level="7.5.16" data-path="predictive-modeling.html"><a href="predictive-modeling.html#recursive-partitioning"><i class="fa fa-check"></i><b>7.5.16</b> Recursive Partitioning</a></li>
<li class="chapter" data-level="7.5.17" data-path="predictive-modeling.html"><a href="predictive-modeling.html#tree-on-housing-data"><i class="fa fa-check"></i><b>7.5.17</b> Tree on Housing Data</a></li>
<li class="chapter" data-level="7.5.18" data-path="predictive-modeling.html"><a href="predictive-modeling.html#model-complexity-in-trees"><i class="fa fa-check"></i><b>7.5.18</b> Model Complexity in Trees</a></li>
<li class="chapter" data-level="7.5.19" data-path="predictive-modeling.html"><a href="predictive-modeling.html#cross-validation-on-housing-data"><i class="fa fa-check"></i><b>7.5.19</b> Cross-Validation on Housing Data</a></li>
<li class="chapter" data-level="7.5.20" data-path="predictive-modeling.html"><a href="predictive-modeling.html#comparing-ols-lasso-ridge-and-tree"><i class="fa fa-check"></i><b>7.5.20</b> Comparing OLS, Lasso, Ridge, and Tree</a></li>
<li class="chapter" data-level="7.5.21" data-path="predictive-modeling.html"><a href="predictive-modeling.html#random-forest"><i class="fa fa-check"></i><b>7.5.21</b> Random Forest</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="predictive-modeling.html"><a href="predictive-modeling.html#regression-splines"><i class="fa fa-check"></i><b>7.6</b> Regression Splines</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="predictive-modeling.html"><a href="predictive-modeling.html#regression-splines-1"><i class="fa fa-check"></i><b>7.6.1</b> Regression Splines</a></li>
<li class="chapter" data-level="7.6.2" data-path="predictive-modeling.html"><a href="predictive-modeling.html#price-of-2015-new-cars"><i class="fa fa-check"></i><b>7.6.2</b> Price of 2015 New Cars</a></li>
<li class="chapter" data-level="7.6.3" data-path="predictive-modeling.html"><a href="predictive-modeling.html#two-models-with-high-bias"><i class="fa fa-check"></i><b>7.6.3</b> Two Models with High Bias</a></li>
<li class="chapter" data-level="7.6.4" data-path="predictive-modeling.html"><a href="predictive-modeling.html#cubic-model"><i class="fa fa-check"></i><b>7.6.4</b> Cubic Model</a></li>
<li class="chapter" data-level="7.6.5" data-path="predictive-modeling.html"><a href="predictive-modeling.html#cubic-splines"><i class="fa fa-check"></i><b>7.6.5</b> Cubic Splines</a></li>
<li class="chapter" data-level="7.6.6" data-path="predictive-modeling.html"><a href="predictive-modeling.html#cubic-splines-1"><i class="fa fa-check"></i><b>7.6.6</b> Cubic Splines</a></li>
<li class="chapter" data-level="7.6.7" data-path="predictive-modeling.html"><a href="predictive-modeling.html#cubic-spline-with-5-knots"><i class="fa fa-check"></i><b>7.6.7</b> Cubic Spline with 5 Knots</a></li>
<li class="chapter" data-level="7.6.8" data-path="predictive-modeling.html"><a href="predictive-modeling.html#cubic-spline-with-10-knots"><i class="fa fa-check"></i><b>7.6.8</b> Cubic Spline with 10 Knots</a></li>
<li class="chapter" data-level="7.6.9" data-path="predictive-modeling.html"><a href="predictive-modeling.html#cubic-spline-with-20-knots"><i class="fa fa-check"></i><b>7.6.9</b> Cubic Spline with 20 Knots</a></li>
<li class="chapter" data-level="7.6.10" data-path="predictive-modeling.html"><a href="predictive-modeling.html#model-evaluation"><i class="fa fa-check"></i><b>7.6.10</b> Model Evaluation</a></li>
<li class="chapter" data-level="7.6.11" data-path="predictive-modeling.html"><a href="predictive-modeling.html#implementation-of-splines"><i class="fa fa-check"></i><b>7.6.11</b> Implementation of Splines</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="predictive-modeling.html"><a href="predictive-modeling.html#predicting-house-prices-summary"><i class="fa fa-check"></i><b>7.7</b> Predicting House Prices Summary</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="predictive-modeling.html"><a href="predictive-modeling.html#modeling-with-ols"><i class="fa fa-check"></i><b>7.7.1</b> Modeling with OLS</a></li>
<li class="chapter" data-level="7.7.2" data-path="predictive-modeling.html"><a href="predictive-modeling.html#ridge-regression-with-housing-data"><i class="fa fa-check"></i><b>7.7.2</b> Ridge Regression with Housing Data</a></li>
<li class="chapter" data-level="7.7.3" data-path="predictive-modeling.html"><a href="predictive-modeling.html#decision-tree"><i class="fa fa-check"></i><b>7.7.3</b> Decision Tree</a></li>
<li class="chapter" data-level="7.7.4" data-path="predictive-modeling.html"><a href="predictive-modeling.html#comparing-performance"><i class="fa fa-check"></i><b>7.7.4</b> Comparing Performance</a></li>
<li class="chapter" data-level="7.7.5" data-path="predictive-modeling.html"><a href="predictive-modeling.html#predictions-on-new-data"><i class="fa fa-check"></i><b>7.7.5</b> Predictions on New Data</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="predictive-modeling.html"><a href="predictive-modeling.html#assumptions-in-predictive-models"><i class="fa fa-check"></i><b>7.8</b> Assumptions in Predictive Models</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="predictive-modeling.html"><a href="predictive-modeling.html#assumptions-in-predictive-models-1"><i class="fa fa-check"></i><b>7.8.1</b> Assumptions in Predictive Models</a></li>
<li class="chapter" data-level="7.8.2" data-path="predictive-modeling.html"><a href="predictive-modeling.html#amazon-hiring-algorithm"><i class="fa fa-check"></i><b>7.8.2</b> Amazon Hiring Algorithm</a></li>
<li class="chapter" data-level="7.8.3" data-path="predictive-modeling.html"><a href="predictive-modeling.html#facial-recognition"><i class="fa fa-check"></i><b>7.8.3</b> Facial Recognition</a></li>
<li class="chapter" data-level="7.8.4" data-path="predictive-modeling.html"><a href="predictive-modeling.html#comments"><i class="fa fa-check"></i><b>7.8.4</b> Comments</a></li>
<li class="chapter" data-level="7.8.5" data-path="predictive-modeling.html"><a href="predictive-modeling.html#modeling-for-prediction-1"><i class="fa fa-check"></i><b>7.8.5</b> Modeling for Prediction</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html"><i class="fa fa-check"></i><b>8</b> Logistic Regression and Classification</a>
<ul>
<li class="chapter" data-level="8.1" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#logistic-regression"><i class="fa fa-check"></i><b>8.1</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#modeling-binary-response"><i class="fa fa-check"></i><b>8.1.1</b> Modeling Binary Response</a></li>
<li class="chapter" data-level="8.1.2" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#credit-card-dataset"><i class="fa fa-check"></i><b>8.1.2</b> Credit Card Dataset</a></li>
<li class="chapter" data-level="8.1.3" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#default-and-balance"><i class="fa fa-check"></i><b>8.1.3</b> Default and Balance</a></li>
<li class="chapter" data-level="8.1.4" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#linear-regression-model-for-default"><i class="fa fa-check"></i><b>8.1.4</b> Linear Regression Model for Default</a></li>
<li class="chapter" data-level="8.1.5" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#transforming-into-interval-01"><i class="fa fa-check"></i><b>8.1.5</b> Transforming into interval (0,1)</a></li>
<li class="chapter" data-level="8.1.6" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#logistic-regression-model-for-default"><i class="fa fa-check"></i><b>8.1.6</b> Logistic Regression Model for Default</a></li>
<li class="chapter" data-level="8.1.7" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#fitting-the-logistic-regression-model-in-r"><i class="fa fa-check"></i><b>8.1.7</b> Fitting the Logistic Regression Model in R</a></li>
<li class="chapter" data-level="8.1.8" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#the-logistic-regression-equation"><i class="fa fa-check"></i><b>8.1.8</b> The Logistic Regression Equation</a></li>
<li class="chapter" data-level="8.1.9" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#predict-in-r"><i class="fa fa-check"></i><b>8.1.9</b> Predict in R</a></li>
<li class="chapter" data-level="8.1.10" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#where-do-the-bs-come-from"><i class="fa fa-check"></i><b>8.1.10</b> Where do the b’s come from?</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#interpretations-in-a-logistic-regression-model"><i class="fa fa-check"></i><b>8.2</b> Interpretations in a Logistic Regression Model</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#recall-logistic-regression-curve-for-credit-card-data"><i class="fa fa-check"></i><b>8.2.1</b> Recall Logistic Regression Curve for Credit Card Data</a></li>
<li class="chapter" data-level="8.2.2" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#recall-credit-card-model-output"><i class="fa fa-check"></i><b>8.2.2</b> Recall Credit Card Model Output</a></li>
<li class="chapter" data-level="8.2.3" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#balance-logistic-model-equation"><i class="fa fa-check"></i><b>8.2.3</b> Balance Logistic Model Equation</a></li>
<li class="chapter" data-level="8.2.4" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#odds-and-odds-ratio"><i class="fa fa-check"></i><b>8.2.4</b> Odds and Odds Ratio</a></li>
<li class="chapter" data-level="8.2.5" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#odds-in-logistic-regression"><i class="fa fa-check"></i><b>8.2.5</b> Odds in Logistic Regression</a></li>
<li class="chapter" data-level="8.2.6" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#odds-ratio-in-regression"><i class="fa fa-check"></i><b>8.2.6</b> Odds Ratio in Regression</a></li>
<li class="chapter" data-level="8.2.7" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#interpretation-of-beta_1"><i class="fa fa-check"></i><b>8.2.7</b> Interpretation of <span class="math inline">\(\beta_1\)</span></a></li>
<li class="chapter" data-level="8.2.8" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#intrepretation-in-credit-card-example"><i class="fa fa-check"></i><b>8.2.8</b> Intrepretation in Credit Card Example</a></li>
<li class="chapter" data-level="8.2.9" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#hypothesis-tests-in-logistic-regression"><i class="fa fa-check"></i><b>8.2.9</b> Hypothesis Tests in Logistic Regression</a></li>
<li class="chapter" data-level="8.2.10" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#confidence-intervals-for-beta_1"><i class="fa fa-check"></i><b>8.2.10</b> Confidence Intervals for <span class="math inline">\(\beta_1\)</span></a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#multiple-logistic-regression"><i class="fa fa-check"></i><b>8.3</b> Multiple Logistic Regression</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#logistic-regression-models-with-multiple-explanatory-variables"><i class="fa fa-check"></i><b>8.3.1</b> Logistic Regression Models with Multiple Explanatory Variables</a></li>
<li class="chapter" data-level="8.3.2" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#logistic-model-with-multiple-predictors"><i class="fa fa-check"></i><b>8.3.2</b> Logistic Model with Multiple Predictors</a></li>
<li class="chapter" data-level="8.3.3" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#multiple-logistic-model-illustration"><i class="fa fa-check"></i><b>8.3.3</b> Multiple Logistic Model Illustration</a></li>
<li class="chapter" data-level="8.3.4" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#multiple-logistic-regression-interpretation"><i class="fa fa-check"></i><b>8.3.4</b> Multiple Logistic Regression Interpretation</a></li>
<li class="chapter" data-level="8.3.5" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#hypothesis-tests-in-multiple-logistic-regression-model"><i class="fa fa-check"></i><b>8.3.5</b> Hypothesis Tests in Multiple Logistic Regression Model</a></li>
<li class="chapter" data-level="8.3.6" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#multiple-logistic-regression-model-with-interaction"><i class="fa fa-check"></i><b>8.3.6</b> Multiple Logistic Regression Model with Interaction</a></li>
<li class="chapter" data-level="8.3.7" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#interpretations-for-logistic-model-with-interaction"><i class="fa fa-check"></i><b>8.3.7</b> Interpretations for Logistic Model with Interaction</a></li>
<li class="chapter" data-level="8.3.8" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#logistic-regression-key-points"><i class="fa fa-check"></i><b>8.3.8</b> Logistic Regression Key Points</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#assessing-a-classifiers-performance"><i class="fa fa-check"></i><b>8.4</b> Assessing a Classifier’s Performance</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#measuring-prediction-accuracy"><i class="fa fa-check"></i><b>8.4.1</b> Measuring Prediction Accuracy</a></li>
<li class="chapter" data-level="8.4.2" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#classification-accuracy"><i class="fa fa-check"></i><b>8.4.2</b> Classification Accuracy</a></li>
<li class="chapter" data-level="8.4.3" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#first-50-cases"><i class="fa fa-check"></i><b>8.4.3</b> First 50 Cases</a></li>
<li class="chapter" data-level="8.4.4" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#confusion-matrix"><i class="fa fa-check"></i><b>8.4.4</b> Confusion Matrix</a></li>
<li class="chapter" data-level="8.4.5" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#full-test-data-confusion-matrix"><i class="fa fa-check"></i><b>8.4.5</b> Full Test Data Confusion Matrix</a></li>
<li class="chapter" data-level="8.4.6" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#decision-tree-classifier"><i class="fa fa-check"></i><b>8.4.6</b> Decision Tree Classifier</a></li>
<li class="chapter" data-level="8.4.7" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#tree-confusion-matrix"><i class="fa fa-check"></i><b>8.4.7</b> Tree Confusion Matrix</a></li>
<li class="chapter" data-level="8.4.8" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#more-on-accuracy-rate"><i class="fa fa-check"></i><b>8.4.8</b> More on Accuracy Rate</a></li>
<li class="chapter" data-level="8.4.9" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#sensitivity-and-specificity"><i class="fa fa-check"></i><b>8.4.9</b> Sensitivity and Specificity</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#receiver-operating-characteristic-curve"><i class="fa fa-check"></i><b>8.5</b> Receiver Operating Characteristic Curve</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#roc-curve"><i class="fa fa-check"></i><b>8.5.1</b> ROC Curve</a></li>
<li class="chapter" data-level="8.5.2" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#lr-and-tree-roc-curves"><i class="fa fa-check"></i><b>8.5.2</b> LR and Tree ROC Curves</a></li>
<li class="chapter" data-level="8.5.3" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#constructing-roc-curve"><i class="fa fa-check"></i><b>8.5.3</b> Constructing ROC Curve</a></li>
<li class="chapter" data-level="8.5.4" data-path="logistic-regression-and-classification.html"><a href="logistic-regression-and-classification.html#construct-roc-example"><i class="fa fa-check"></i><b>8.5.4</b> Construct ROC Example</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Stat 255: Statistics for Data Science Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="predictive-modeling" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Chapter 7</span> Predictive Modeling<a href="predictive-modeling.html#predictive-modeling" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><strong>Learning Outcomes:</strong></p>
<ol style="list-style-type: decimal">
<li>Explain how prediction error changes, depending on model complexity, for both training data and test data.<br />
</li>
<li>Explain the variance bias tradeoff, and identify situations when predictions might be impacted by either variance or bias.<br />
</li>
<li>Describe how overfitting can impact prediction accuracy.<br />
</li>
<li>Explain how and why we use cross-validation in predictive modeling.<br />
</li>
<li>Compare and contrast Ridge regression and ordinary least squares regression.<br />
</li>
<li>Explain the role of the parameter <span class="math inline">\(\lambda\)</span> is Ridge regression.<br />
</li>
<li>Given possible sets of regression coefficients, determine which would be optimal, using either ordinary least squares, Ridge regression, or Lasso regression.<br />
</li>
<li>Compare and contrast the assumptions made in decision trees, to those in the normal error regression model.<br />
</li>
<li>Given possible splits for a node in a decision tree, determine which is optimal.<br />
</li>
<li>Explain how the depth of a tree impacts prediction variance and bias, and overfitting.<br />
</li>
<li>Describe how decision trees in a random forest differ from one another.<br />
</li>
<li>Explain the process of fitting a polynomial spline to data, and the impact the the number of knots has on the process.<br />
</li>
<li>Explain the assumptions made in predictive modeling, and identify situations where these assumptions might be inappropriate or problematic from an ethical standpoint.</li>
</ol>
<div id="training-and-test-error" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Training and Test Error<a href="predictive-modeling.html#training-and-test-error" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="prediction-simulation-example" class="section level3 hasAnchor" number="7.1.1">
<h3><span class="header-section-number">7.1.1</span> Prediction Simulation Example<a href="predictive-modeling.html#prediction-simulation-example" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Suppose we have a set of 100 observations of a single explanatory variable <span class="math inline">\(x\)</span>, and response variable <span class="math inline">\(y\)</span>. A scatterplot of the data is shown below.</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-498-1.png" width="768" /></p>
<p>We want to find a model that captures the trend in the data and will be best able to predict new values of y, for given x.</p>
<p><strong>Constant Model to Sample Data</strong></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-499-1.png" width="768" /></p>
<p><strong>Linear Model to Sample Data</strong></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-500-1.png" width="768" /></p>
<p><strong>Quadratic Model</strong></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-501-1.png" width="768" /></p>
<p><strong>Cubic Model</strong></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-502-1.png" width="768" /></p>
<p><strong>Quartic Model</strong></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-503-1.png" width="768" /></p>
<p><strong>Degree 8 Model</strong></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-504-1.png" width="768" /></p>
</div>
<div id="model-complexity" class="section level3 hasAnchor" number="7.1.2">
<h3><span class="header-section-number">7.1.2</span> Model Complexity<a href="predictive-modeling.html#model-complexity" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>The complexity of the model increases as we add higher-order terms. This makes the model more flexible. The curve is allowed to have more twists and bends.</p></li>
<li><p>For higher-order, more complex models, individual points have more influence on the shape of the curve.</p></li>
</ul>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-505-1.png" width="960" /></p>
</div>
<div id="new-data-for-prediction" class="section level3 hasAnchor" number="7.1.3">
<h3><span class="header-section-number">7.1.3</span> New Data for Prediction<a href="predictive-modeling.html#new-data-for-prediction" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now, suppose we have a new dataset of 100, x-values, and want to predict <span class="math inline">\(y\)</span>. The first 5 rows of the new dataset are shown</p>
<table>
<thead>
<tr class="header">
<th align="right">x</th>
<th align="left">Prediction</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">3.196237</td>
<td align="left">?</td>
</tr>
<tr class="even">
<td align="right">1.475586</td>
<td align="left">?</td>
</tr>
<tr class="odd">
<td align="right">5.278882</td>
<td align="left">?</td>
</tr>
<tr class="even">
<td align="right">5.529299</td>
<td align="left">?</td>
</tr>
<tr class="odd">
<td align="right">7.626731</td>
<td align="left">?</td>
</tr>
</tbody>
</table>
</div>
<div id="fit-polynomial-models" class="section level3 hasAnchor" number="7.1.4">
<h3><span class="header-section-number">7.1.4</span> Fit Polynomial Models<a href="predictive-modeling.html#fit-polynomial-models" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb637"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb637-1"><a href="predictive-modeling.html#cb637-1" aria-hidden="true" tabindex="-1"></a>Sim_M0 <span class="ot">&lt;-</span><span class="fu">lm</span>(<span class="at">data=</span>Sampdf, y<span class="sc">~</span><span class="dv">1</span>)</span>
<span id="cb637-2"><a href="predictive-modeling.html#cb637-2" aria-hidden="true" tabindex="-1"></a>Sim_M1 <span class="ot">&lt;-</span><span class="fu">lm</span>(<span class="at">data=</span>Sampdf, y<span class="sc">~</span>x)</span>
<span id="cb637-3"><a href="predictive-modeling.html#cb637-3" aria-hidden="true" tabindex="-1"></a>Sim_M2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Sampdf, y<span class="sc">~</span>x<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb637-4"><a href="predictive-modeling.html#cb637-4" aria-hidden="true" tabindex="-1"></a>Sim_M3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Sampdf, y<span class="sc">~</span>x<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">2</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">3</span>))</span>
<span id="cb637-5"><a href="predictive-modeling.html#cb637-5" aria-hidden="true" tabindex="-1"></a>Sim_M4 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Sampdf, y<span class="sc">~</span>x<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">2</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">3</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">4</span>))</span>
<span id="cb637-6"><a href="predictive-modeling.html#cb637-6" aria-hidden="true" tabindex="-1"></a>Sim_M5 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Sampdf, y<span class="sc">~</span>x<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">2</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">3</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">4</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">5</span>))</span>
<span id="cb637-7"><a href="predictive-modeling.html#cb637-7" aria-hidden="true" tabindex="-1"></a>Sim_M6 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Sampdf, y<span class="sc">~</span>x<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">2</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">3</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">4</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">5</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">6</span>))</span>
<span id="cb637-8"><a href="predictive-modeling.html#cb637-8" aria-hidden="true" tabindex="-1"></a>Sim_M7 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Sampdf, y<span class="sc">~</span>x<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">2</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">3</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">4</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">5</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">6</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">7</span>))</span>
<span id="cb637-9"><a href="predictive-modeling.html#cb637-9" aria-hidden="true" tabindex="-1"></a>Sim_M8 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Sampdf, y<span class="sc">~</span>x<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">2</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">3</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">4</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">5</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">6</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">7</span>)<span class="sc">+</span><span class="fu">I</span>(x<span class="sc">^</span><span class="dv">8</span>))</span></code></pre></div>
</div>
<div id="predictions-for-new-data" class="section level3 hasAnchor" number="7.1.5">
<h3><span class="header-section-number">7.1.5</span> Predictions for New Data<a href="predictive-modeling.html#predictions-for-new-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb638"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb638-1"><a href="predictive-modeling.html#cb638-1" aria-hidden="true" tabindex="-1"></a>Newdf<span class="sc">$</span>Deg0Pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Sim_M0, <span class="at">newdata=</span>Newdf)</span>
<span id="cb638-2"><a href="predictive-modeling.html#cb638-2" aria-hidden="true" tabindex="-1"></a>Newdf<span class="sc">$</span>Deg1Pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Sim_M1, <span class="at">newdata=</span>Newdf)</span>
<span id="cb638-3"><a href="predictive-modeling.html#cb638-3" aria-hidden="true" tabindex="-1"></a>Newdf<span class="sc">$</span>Deg2Pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Sim_M2, <span class="at">newdata=</span>Newdf)</span>
<span id="cb638-4"><a href="predictive-modeling.html#cb638-4" aria-hidden="true" tabindex="-1"></a>Newdf<span class="sc">$</span>Deg3Pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Sim_M3, <span class="at">newdata=</span>Newdf)</span>
<span id="cb638-5"><a href="predictive-modeling.html#cb638-5" aria-hidden="true" tabindex="-1"></a>Newdf<span class="sc">$</span>Deg4Pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Sim_M4, <span class="at">newdata=</span>Newdf)</span>
<span id="cb638-6"><a href="predictive-modeling.html#cb638-6" aria-hidden="true" tabindex="-1"></a>Newdf<span class="sc">$</span>Deg5Pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Sim_M5, <span class="at">newdata=</span>Newdf)</span>
<span id="cb638-7"><a href="predictive-modeling.html#cb638-7" aria-hidden="true" tabindex="-1"></a>Newdf<span class="sc">$</span>Deg6Pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Sim_M6, <span class="at">newdata=</span>Newdf)</span>
<span id="cb638-8"><a href="predictive-modeling.html#cb638-8" aria-hidden="true" tabindex="-1"></a>Newdf<span class="sc">$</span>Deg7Pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Sim_M7, <span class="at">newdata=</span>Newdf)</span>
<span id="cb638-9"><a href="predictive-modeling.html#cb638-9" aria-hidden="true" tabindex="-1"></a>Newdf<span class="sc">$</span>Deg8Pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Sim_M8, <span class="at">newdata=</span>Newdf)</span></code></pre></div>
</div>
<div id="predicted-values-and-true-y" class="section level3 hasAnchor" number="7.1.6">
<h3><span class="header-section-number">7.1.6</span> Predicted Values and True y<a href="predictive-modeling.html#predicted-values-and-true-y" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In fact, since these data were simulated, we know the true value of <span class="math inline">\(y\)</span>, so we can compare the predicted values to the true ones.</p>
<div class="sourceCode" id="cb639"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb639-1"><a href="predictive-modeling.html#cb639-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(Newdf <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(samp)) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">5</span>))</span></code></pre></div>
<table>
<colgroup>
<col width="5%" />
<col width="5%" />
<col width="6%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">x</th>
<th align="right">y</th>
<th align="right">Deg0Pred</th>
<th align="right">Deg1Pred</th>
<th align="right">Deg2Pred</th>
<th align="right">Deg3Pred</th>
<th align="right">Deg4Pred</th>
<th align="right">Deg5Pred</th>
<th align="right">Deg6Pred</th>
<th align="right">Deg7Pred</th>
<th align="right">Deg8Pred</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">108</td>
<td align="right">5.53</td>
<td align="right">5.49</td>
<td align="right">1.17</td>
<td align="right">1.05</td>
<td align="right">0.41</td>
<td align="right">-0.14</td>
<td align="right">-0.30</td>
<td align="right">0.10</td>
<td align="right">0.40</td>
<td align="right">0.25</td>
<td align="right">0.31</td>
</tr>
<tr class="even">
<td align="left">4371</td>
<td align="right">2.05</td>
<td align="right">3.92</td>
<td align="right">1.17</td>
<td align="right">1.89</td>
<td align="right">2.02</td>
<td align="right">3.66</td>
<td align="right">3.95</td>
<td align="right">4.26</td>
<td align="right">3.82</td>
<td align="right">3.37</td>
<td align="right">3.49</td>
</tr>
<tr class="odd">
<td align="left">4839</td>
<td align="right">3.16</td>
<td align="right">1.46</td>
<td align="right">1.17</td>
<td align="right">1.63</td>
<td align="right">1.29</td>
<td align="right">3.24</td>
<td align="right">3.35</td>
<td align="right">2.78</td>
<td align="right">2.24</td>
<td align="right">2.15</td>
<td align="right">2.07</td>
</tr>
<tr class="even">
<td align="left">6907</td>
<td align="right">2.06</td>
<td align="right">6.79</td>
<td align="right">1.17</td>
<td align="right">1.89</td>
<td align="right">2.02</td>
<td align="right">3.66</td>
<td align="right">3.95</td>
<td align="right">4.25</td>
<td align="right">3.80</td>
<td align="right">3.36</td>
<td align="right">3.47</td>
</tr>
<tr class="odd">
<td align="left">7334</td>
<td align="right">2.92</td>
<td align="right">-1.03</td>
<td align="right">1.17</td>
<td align="right">1.68</td>
<td align="right">1.42</td>
<td align="right">3.43</td>
<td align="right">3.60</td>
<td align="right">3.14</td>
<td align="right">2.51</td>
<td align="right">2.31</td>
<td align="right">2.25</td>
</tr>
</tbody>
</table>
</div>
<div id="evaluating-predictions---rmse" class="section level3 hasAnchor" number="7.1.7">
<h3><span class="header-section-number">7.1.7</span> Evaluating Predictions - RMSE<a href="predictive-modeling.html#evaluating-predictions---rmse" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For quantitative response variables, we can evaluate the predictions by calculating the average of the squared differences between the true and predicted values. Often, we look at the square root of this quantity. This is called the Root Mean Square Prediction Error (RMSPE).</p>
<p><span class="math display">\[
\text{RMSPE} = \sqrt{\displaystyle\sum_{i=1}^{n&#39;}\frac{(y_i-\hat{y}_i)^2}{n&#39;}},
\]</span></p>
<p>where <span class="math inline">\(n&#39;\)</span> represents the number of new cases being predicted.</p>
</div>
<div id="calculate-prediction-error" class="section level3 hasAnchor" number="7.1.8">
<h3><span class="header-section-number">7.1.8</span> Calculate Prediction Error<a href="predictive-modeling.html#calculate-prediction-error" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb640"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb640-1"><a href="predictive-modeling.html#cb640-1" aria-hidden="true" tabindex="-1"></a>RMSPE0 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((Newdf<span class="sc">$</span>y<span class="sc">-</span>Newdf<span class="sc">$</span>Deg0Pred)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb640-2"><a href="predictive-modeling.html#cb640-2" aria-hidden="true" tabindex="-1"></a>RMSPE1 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((Newdf<span class="sc">$</span>y<span class="sc">-</span>Newdf<span class="sc">$</span>Deg1Pred)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb640-3"><a href="predictive-modeling.html#cb640-3" aria-hidden="true" tabindex="-1"></a>RMSPE2 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((Newdf<span class="sc">$</span>y<span class="sc">-</span>Newdf<span class="sc">$</span>Deg2Pred)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb640-4"><a href="predictive-modeling.html#cb640-4" aria-hidden="true" tabindex="-1"></a>RMSPE3 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((Newdf<span class="sc">$</span>y<span class="sc">-</span>Newdf<span class="sc">$</span>Deg3Pred)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb640-5"><a href="predictive-modeling.html#cb640-5" aria-hidden="true" tabindex="-1"></a>RMSPE4 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((Newdf<span class="sc">$</span>y<span class="sc">-</span>Newdf<span class="sc">$</span>Deg4Pred)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb640-6"><a href="predictive-modeling.html#cb640-6" aria-hidden="true" tabindex="-1"></a>RMSPE5 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((Newdf<span class="sc">$</span>y<span class="sc">-</span>Newdf<span class="sc">$</span>Deg5Pred)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb640-7"><a href="predictive-modeling.html#cb640-7" aria-hidden="true" tabindex="-1"></a>RMSPE6 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((Newdf<span class="sc">$</span>y<span class="sc">-</span>Newdf<span class="sc">$</span>Deg6Pred)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb640-8"><a href="predictive-modeling.html#cb640-8" aria-hidden="true" tabindex="-1"></a>RMSPE7 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((Newdf<span class="sc">$</span>y<span class="sc">-</span>Newdf<span class="sc">$</span>Deg7Pred)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb640-9"><a href="predictive-modeling.html#cb640-9" aria-hidden="true" tabindex="-1"></a>RMSPE8 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((Newdf<span class="sc">$</span>y<span class="sc">-</span>Newdf<span class="sc">$</span>Deg8Pred)<span class="sc">^</span><span class="dv">2</span>))</span></code></pre></div>
</div>
<div id="prediction-rmspe-by-model" class="section level3 hasAnchor" number="7.1.9">
<h3><span class="header-section-number">7.1.9</span> Prediction RMSPE by Model<a href="predictive-modeling.html#prediction-rmspe-by-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<table>
<thead>
<tr class="header">
<th align="right">Degree</th>
<th align="right">RMSPE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">4.051309</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">3.849624</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">3.726767</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">3.256592</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">3.283513</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">3.341336</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">3.346908</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">3.370821</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">3.350198</td>
</tr>
</tbody>
</table>
</div>
<div id="training-and-test-data" class="section level3 hasAnchor" number="7.1.10">
<h3><span class="header-section-number">7.1.10</span> Training and Test Data<a href="predictive-modeling.html#training-and-test-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>The new data on which we make predictions is called <strong>test data</strong>.</p></li>
<li><p>The data used to fit the model is called <strong>training data</strong>.</p></li>
<li><p>In the training data, we know the values of the explanatory and response variables. In the test data, we know only the values of the explanatory variables and want to predict the values of the response variable.</p></li>
<li><p>For quantitative response variables, if we find out the values of <span class="math inline">\(y\)</span>, we can evaluate predictions, using RMSPE. This is referred to as <strong>test error</strong>.</p></li>
<li><p>We can also calculate root mean square error on the training data from the known y-values. This is called <strong>training error</strong>.</p></li>
</ul>
</div>
<div id="training-data-error" class="section level3 hasAnchor" number="7.1.11">
<h3><span class="header-section-number">7.1.11</span> Training Data Error<a href="predictive-modeling.html#training-data-error" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb641"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb641-1"><a href="predictive-modeling.html#cb641-1" aria-hidden="true" tabindex="-1"></a>RMSE0 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>(Sim_M0<span class="sc">$</span>residuals<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb641-2"><a href="predictive-modeling.html#cb641-2" aria-hidden="true" tabindex="-1"></a>RMSE1 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>(Sim_M1<span class="sc">$</span>residuals<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb641-3"><a href="predictive-modeling.html#cb641-3" aria-hidden="true" tabindex="-1"></a>RMSE2 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>(Sim_M2<span class="sc">$</span>residuals<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb641-4"><a href="predictive-modeling.html#cb641-4" aria-hidden="true" tabindex="-1"></a>RMSE3 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>(Sim_M3<span class="sc">$</span>residuals<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb641-5"><a href="predictive-modeling.html#cb641-5" aria-hidden="true" tabindex="-1"></a>RMSE4 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>(Sim_M4<span class="sc">$</span>residuals<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb641-6"><a href="predictive-modeling.html#cb641-6" aria-hidden="true" tabindex="-1"></a>RMSE5 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>(Sim_M5<span class="sc">$</span>residuals<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb641-7"><a href="predictive-modeling.html#cb641-7" aria-hidden="true" tabindex="-1"></a>RMSE6 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>(Sim_M6<span class="sc">$</span>residuals<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb641-8"><a href="predictive-modeling.html#cb641-8" aria-hidden="true" tabindex="-1"></a>RMSE7 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>(Sim_M7<span class="sc">$</span>residuals<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb641-9"><a href="predictive-modeling.html#cb641-9" aria-hidden="true" tabindex="-1"></a>RMSE8 <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>(Sim_M8<span class="sc">$</span>residuals<span class="sc">^</span><span class="dv">2</span>))</span></code></pre></div>
</div>
<div id="test-and-training-error" class="section level3 hasAnchor" number="7.1.12">
<h3><span class="header-section-number">7.1.12</span> Test and Training Error<a href="predictive-modeling.html#test-and-training-error" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb642"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb642-1"><a href="predictive-modeling.html#cb642-1" aria-hidden="true" tabindex="-1"></a>Degree <span class="ot">&lt;-</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">8</span></span>
<span id="cb642-2"><a href="predictive-modeling.html#cb642-2" aria-hidden="true" tabindex="-1"></a>Test <span class="ot">&lt;-</span> <span class="fu">c</span>(RMSPE0, RMSPE1, RMSPE2, RMSPE3, RMSPE4, RMSPE5, RMSPE6, RMSPE7, RMSPE8)</span>
<span id="cb642-3"><a href="predictive-modeling.html#cb642-3" aria-hidden="true" tabindex="-1"></a>Train <span class="ot">&lt;-</span> <span class="fu">c</span>(RMSE0, RMSE1, RMSE2, RMSE3, RMSE4, RMSE5, RMSE6, RMSE7, RMSE8)</span>
<span id="cb642-4"><a href="predictive-modeling.html#cb642-4" aria-hidden="true" tabindex="-1"></a>RMSPEdf <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(Degree, Test, Train)</span>
<span id="cb642-5"><a href="predictive-modeling.html#cb642-5" aria-hidden="true" tabindex="-1"></a>RMSPEdf</span></code></pre></div>
<pre><code>##   Degree     Test    Train
## 1      0 4.051309 3.431842
## 2      1 3.849624 3.366650
## 3      2 3.726767 3.296821
## 4      3 3.256592 2.913233
## 5      4 3.283513 2.906845
## 6      5 3.341336 2.838738
## 7      6 3.346908 2.809928
## 8      7 3.370821 2.800280
## 9      8 3.350198 2.799066</code></pre>
</div>
<div id="graph-of-rmspe" class="section level3 hasAnchor" number="7.1.13">
<h3><span class="header-section-number">7.1.13</span> Graph of RMSPE<a href="predictive-modeling.html#graph-of-rmspe" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-515-1.png" width="672" /></p>
<ul>
<li>Training error decreases as model becomes more complex<br />
</li>
<li>Testing error is lowest for the 3rd degree model, then starts to increase again</li>
</ul>
</div>
<div id="third-degree-model-summary" class="section level3 hasAnchor" number="7.1.14">
<h3><span class="header-section-number">7.1.14</span> Third Degree Model Summary<a href="predictive-modeling.html#third-degree-model-summary" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb644"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb644-1"><a href="predictive-modeling.html#cb644-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(Sim_M3)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = y ~ x + I(x^2) + I(x^3), data = Sampdf)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -8.9451 -1.7976  0.1685  1.3988  6.8064 
## 
## Coefficients:
##             Estimate Std. Error t value   Pr(&gt;|t|)    
## (Intercept) -0.54165    1.26803  -0.427   0.670221    
## x            4.16638    1.09405   3.808   0.000247 ***
## I(x^2)      -1.20601    0.25186  -4.788 0.00000610 ***
## I(x^3)       0.08419    0.01622   5.191 0.00000117 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 2.973 on 96 degrees of freedom
## Multiple R-squared:  0.2794, Adjusted R-squared:  0.2569 
## F-statistic: 12.41 on 3 and 96 DF,  p-value: 0.0000006309</code></pre>
</div>
<div id="true-data-model" class="section level3 hasAnchor" number="7.1.15">
<h3><span class="header-section-number">7.1.15</span> True Data Model<a href="predictive-modeling.html#true-data-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In fact, the data were generated from the model <span class="math inline">\(y_i = 4.5x - 1.4x^2 + 0.1x^3 + \epsilon_i\)</span>, where <span class="math inline">\(\epsilon_i\sim\mathcal{N}(0,3)\)</span></p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-517-1.png" width="768" /></p>
</div>
<div id="true-data-model-1" class="section level3 hasAnchor" number="7.1.16">
<h3><span class="header-section-number">7.1.16</span> True Data Model<a href="predictive-modeling.html#true-data-model-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In fact, the data were generated from the model <span class="math inline">\(y_i = 4.5x - 1.4x^2 + 0.1x^3 + \epsilon_i\)</span>, where <span class="math inline">\(\epsilon_i\sim\mathcal{N}(0,3)\)</span></p>
<p>The yellow curve represents the true expected response curve.</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-519-1.png" width="768" /></p>
</div>
<div id="linear-model-on-larger-population" class="section level3 hasAnchor" number="7.1.17">
<h3><span class="header-section-number">7.1.17</span> Linear Model on Larger Population<a href="predictive-modeling.html#linear-model-on-larger-population" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The yellow curve represents the true expected response curve.</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-520-1.png" width="768" /></p>
</div>
<div id="cubic-model-on-larger-population" class="section level3 hasAnchor" number="7.1.18">
<h3><span class="header-section-number">7.1.18</span> Cubic Model on Larger Population<a href="predictive-modeling.html#cubic-model-on-larger-population" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The yellow curve represents the true expected response curve.</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-522-1.png" width="768" /></p>
</div>
<div id="eighth-degree-model-on-larger-population" class="section level3 hasAnchor" number="7.1.19">
<h3><span class="header-section-number">7.1.19</span> Eighth-Degree Model on Larger Population<a href="predictive-modeling.html#eighth-degree-model-on-larger-population" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The yellow curve represents the true expected response curve.</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-524-1.png" width="768" /></p>
<p>The 8th degree model performs worse than the cubic. The extra terms cause the model to be “too flexible,” and it starts to model random fluctuations (noise) in the training data, that do not capture the true trend for the population. This is called <strong>overfitting.</strong></p>
</div>
<div id="model-complexity-training-error-and-test-error" class="section level3 hasAnchor" number="7.1.20">
<h3><span class="header-section-number">7.1.20</span> Model Complexity, Training Error, and Test Error<a href="predictive-modeling.html#model-complexity-training-error-and-test-error" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-525-1.png" width="960" /></p>
</div>
</div>
<div id="variance-bias-tradeoff" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Variance-Bias Tradeoff<a href="predictive-modeling.html#variance-bias-tradeoff" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="what-contributes-to-prediction-error" class="section level3 hasAnchor" number="7.2.1">
<h3><span class="header-section-number">7.2.1</span> What Contributes to Prediction Error?<a href="predictive-modeling.html#what-contributes-to-prediction-error" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Suppose <span class="math inline">\(Y_i = f(x_i) + \epsilon_i\)</span>, where <span class="math inline">\(\epsilon_i\sim\mathcal{N}(0,\sigma)\)</span>.</p>
<p>Let <span class="math inline">\(\hat{f}\)</span> represent the function of our explanatory variable(s) <span class="math inline">\(x^*\)</span> used to predict the value of response variable <span class="math inline">\(y^*\)</span>. Thus <span class="math inline">\(\hat{y}^* = f(x^*)\)</span>.</p>
<p>There are three factors that contribute to the expected value of <span class="math inline">\(\left(y^* - \hat{y}\right)^2 = \left(y^* - \hat{f}(x^*)\right)^2\)</span>.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Bias associated with fitting model:</strong> Model bias pertains to the difference between the true response function value <span class="math inline">\(f(x^*)\)</span>, and the average value of <span class="math inline">\(\hat{f}(x^*)\)</span> that would be obtained in the long run over many samples.<br />
- for example, if the true response function <span class="math inline">\(f\)</span> is cubic, then using a constant, linear, or quadratic model would result in biased predictions for most values of <span class="math inline">\(x^*\)</span>.</p></li>
<li><p><strong>Variance associated with fitting model:</strong> Individual observations in the training data are subject to random sampling variability. The more flexible a model is, the more weight is put on each individual observation increasing the variance associated with the model.</p></li>
<li><p><strong>Variability associated with prediction:</strong> Even if we knew the true value <span class="math inline">\(f(x^*)\)</span>, which represents the expected value of <span class="math inline">\(y^*\)</span> given <span class="math inline">\(x=x^*\)</span>, the actual value of <span class="math inline">\(y^*\)</span> will vary due to random noise (i.e. the <span class="math inline">\(\epsilon_i\sim\mathcal{N}(0,\sigma)\)</span> term).</p></li>
</ol>
</div>
<div id="variance-and-bias" class="section level3 hasAnchor" number="7.2.2">
<h3><span class="header-section-number">7.2.2</span> Variance and Bias<a href="predictive-modeling.html#variance-and-bias" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The third source of variability cannot be controlled or eliminated. The first two, however are things we can control. If we could figure out how to minimize bias while also minimizing variance associated with a prediction, that would be great! But…</p>
<p>The constant model suffers from high bias. Since it does not include a linear, quadratic, or cubic term, it cannot accurately approximate the true regression function.</p>
<p>The Eighth degree model suffers from high variance. Although it could, in theory, approximate the true regression function correctly, it is too flexible, and is thrown off because of the influence of individual points with high degrees of variability.</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-526-1.png" width="960" /></p>
</div>
<div id="variance-bias-tradeoff-1" class="section level3 hasAnchor" number="7.2.3">
<h3><span class="header-section-number">7.2.3</span> Variance-Bias Tradeoff<a href="predictive-modeling.html#variance-bias-tradeoff-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As model complexity (flexibility) increases, bias decreases. Variance, however, increases.</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-527-1.png" width="960" /></p>
<p>In fact, it can be shown that:</p>
<p><span class="math inline">\(\text{Expected RMSPE} = \text{Variance} + \text{Bias}^2\)</span></p>
<p>Our goal is the find the “sweetspot” where expected RMSPE is minimized.</p>
</div>
<div id="modeling-for-prediction" class="section level3 hasAnchor" number="7.2.4">
<h3><span class="header-section-number">7.2.4</span> Modeling for Prediction<a href="predictive-modeling.html#modeling-for-prediction" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>When our purpose is purely prediction, we don’t need to worry about keeping the model simple enough to interpret.<br />
</li>
<li>Goal is to fit data well enough to make good predictions on new data without modeling random noise in the training (overfitting)<br />
</li>
<li>A model that is too simple suffers from high bias<br />
</li>
<li>A model that is too complex suffers from high variance and is prone to overfitting<br />
</li>
<li>The right balance is different for every dataset<br />
</li>
<li>Measuring error on data used to fit the model (training data) does not accurately predict how well model will be able to predict new data (test data)</li>
</ul>
</div>
</div>
<div id="cross-validation" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Cross-Validation<a href="predictive-modeling.html#cross-validation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="cross-validation-cv" class="section level3 hasAnchor" number="7.3.1">
<h3><span class="header-section-number">7.3.1</span> Cross-Validation (CV)<a href="predictive-modeling.html#cross-validation-cv" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We’ve seen that training error is not an accurate approximation of test error. Instead, we’ll approximate test error, by setting aside a set of the training data, and using it as if it were a test set. This process is called <strong>cross-validation</strong>, and the set we put aside is called the <strong>validation set.</strong></p>
<ol style="list-style-type: decimal">
<li>Partition data into disjoint sets (folds). Approximately 5 folds recommended.<br />
</li>
<li>Build a model using 4 of the 5 folds.<br />
</li>
<li>Use model to predict responses for remaining fold.</li>
<li>Calculate root mean square error <span class="math inline">\(RMSPE=\displaystyle\sqrt{\frac{\sum((\hat{y}_i-y_i)^2)}{n&#39;}}\)</span>.<br />
</li>
<li>Repeat for each of 5 folds.<br />
</li>
<li>Average RMSPE values across folds.</li>
</ol>
<p>If computational resources permit, it is often beneficial to perform CV multiple times, using different sets of folds.</p>
</div>
<div id="cross-validation-illustration" class="section level3 hasAnchor" number="7.3.2">
<h3><span class="header-section-number">7.3.2</span> Cross-Validation Illustration<a href="predictive-modeling.html#cross-validation-illustration" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="CV.png" width="75%" /></p>
<div class="sourceCode" id="cb646"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb646-1"><a href="predictive-modeling.html#cb646-1" aria-hidden="true" tabindex="-1"></a>Order <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(Cars2015))</span>
<span id="cb646-2"><a href="predictive-modeling.html#cb646-2" aria-hidden="true" tabindex="-1"></a>fold1 <span class="ot">&lt;-</span> Order[<span class="dv">1</span><span class="sc">:</span><span class="dv">22</span>]</span>
<span id="cb646-3"><a href="predictive-modeling.html#cb646-3" aria-hidden="true" tabindex="-1"></a>fold2 <span class="ot">&lt;-</span> Order[<span class="dv">23</span><span class="sc">:</span><span class="dv">44</span>]</span>
<span id="cb646-4"><a href="predictive-modeling.html#cb646-4" aria-hidden="true" tabindex="-1"></a>fold3 <span class="ot">&lt;-</span> Order[<span class="dv">45</span><span class="sc">:</span><span class="dv">66</span>]</span>
<span id="cb646-5"><a href="predictive-modeling.html#cb646-5" aria-hidden="true" tabindex="-1"></a>fold4 <span class="ot">&lt;-</span> Order[<span class="dv">67</span><span class="sc">:</span><span class="dv">88</span>]</span>
<span id="cb646-6"><a href="predictive-modeling.html#cb646-6" aria-hidden="true" tabindex="-1"></a>fold5 <span class="ot">&lt;-</span> Order[<span class="dv">89</span><span class="sc">:</span><span class="dv">110</span>]</span>
<span id="cb646-7"><a href="predictive-modeling.html#cb646-7" aria-hidden="true" tabindex="-1"></a>Fold <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(fold1, fold2, fold3, fold4, fold5)</span></code></pre></div>
</div>
<div id="models-for-price-of-new-cars" class="section level3 hasAnchor" number="7.3.3">
<h3><span class="header-section-number">7.3.3</span> Models for Price of New Cars<a href="predictive-modeling.html#models-for-price-of-new-cars" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Consider the following five models for predicting the price of a new car:</p>
<div class="sourceCode" id="cb647"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb647-1"><a href="predictive-modeling.html#cb647-1" aria-hidden="true" tabindex="-1"></a>M1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Cars2015, LowPrice<span class="sc">~</span>Acc060)</span>
<span id="cb647-2"><a href="predictive-modeling.html#cb647-2" aria-hidden="true" tabindex="-1"></a>M2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Cars2015, LowPrice<span class="sc">~</span>Acc060 <span class="sc">+</span> <span class="fu">I</span>(Acc060<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb647-3"><a href="predictive-modeling.html#cb647-3" aria-hidden="true" tabindex="-1"></a>M3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Cars2015, LowPrice<span class="sc">~</span>Acc060 <span class="sc">+</span> <span class="fu">I</span>(Acc060<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> Size)</span>
<span id="cb647-4"><a href="predictive-modeling.html#cb647-4" aria-hidden="true" tabindex="-1"></a>M4 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Cars2015, LowPrice<span class="sc">~</span>Acc060 <span class="sc">+</span> <span class="fu">I</span>(Acc060<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> Size <span class="sc">+</span> PageNum)</span>
<span id="cb647-5"><a href="predictive-modeling.html#cb647-5" aria-hidden="true" tabindex="-1"></a>M5 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Cars2015, LowPrice<span class="sc">~</span>Acc060 <span class="sc">*</span> <span class="fu">I</span>(Acc060<span class="sc">^</span><span class="dv">2</span>) <span class="sc">*</span> Size)</span>
<span id="cb647-6"><a href="predictive-modeling.html#cb647-6" aria-hidden="true" tabindex="-1"></a>M6 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Cars2015, LowPrice<span class="sc">~</span>Acc060 <span class="sc">*</span> <span class="fu">I</span>(Acc060<span class="sc">^</span><span class="dv">2</span>) <span class="sc">*</span> Size <span class="sc">*</span> PageNum)</span></code></pre></div>
<div class="sourceCode" id="cb648"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb648-1"><a href="predictive-modeling.html#cb648-1" aria-hidden="true" tabindex="-1"></a>RMSPE <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="at">dim=</span><span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">6</span>)) <span class="co">#5 folds, 5 models</span></span>
<span id="cb648-2"><a href="predictive-modeling.html#cb648-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb648-3"><a href="predictive-modeling.html#cb648-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>){</span>
<span id="cb648-4"><a href="predictive-modeling.html#cb648-4" aria-hidden="true" tabindex="-1"></a>M1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Cars2015[<span class="sc">-</span>Fold[,i], ], LowPrice<span class="sc">~</span>Acc060)</span>
<span id="cb648-5"><a href="predictive-modeling.html#cb648-5" aria-hidden="true" tabindex="-1"></a>M2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Cars2015[<span class="sc">-</span>Fold[,i], ], LowPrice<span class="sc">~</span>Acc060 <span class="sc">+</span> <span class="fu">I</span>(Acc060<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb648-6"><a href="predictive-modeling.html#cb648-6" aria-hidden="true" tabindex="-1"></a>M3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Cars2015[<span class="sc">-</span>Fold[,i], ], LowPrice<span class="sc">~</span>Acc060 <span class="sc">+</span> <span class="fu">I</span>(Acc060<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> Size)</span>
<span id="cb648-7"><a href="predictive-modeling.html#cb648-7" aria-hidden="true" tabindex="-1"></a>M4 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Cars2015[<span class="sc">-</span>Fold[,i], ], LowPrice<span class="sc">~</span>Acc060 <span class="sc">+</span> <span class="fu">I</span>(Acc060<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> Size <span class="sc">+</span> PageNum)</span>
<span id="cb648-8"><a href="predictive-modeling.html#cb648-8" aria-hidden="true" tabindex="-1"></a>M5 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Cars2015[<span class="sc">-</span>Fold[,i], ], LowPrice<span class="sc">~</span>Acc060 <span class="sc">*</span> <span class="fu">I</span>(Acc060<span class="sc">^</span><span class="dv">2</span>) <span class="sc">*</span> Size)</span>
<span id="cb648-9"><a href="predictive-modeling.html#cb648-9" aria-hidden="true" tabindex="-1"></a>M6 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Cars2015[<span class="sc">-</span>Fold[,i], ], LowPrice<span class="sc">~</span>Acc060 <span class="sc">*</span> <span class="fu">I</span>(Acc060<span class="sc">^</span><span class="dv">2</span>) <span class="sc">*</span> Size <span class="sc">*</span> PageNum)</span>
<span id="cb648-10"><a href="predictive-modeling.html#cb648-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb648-11"><a href="predictive-modeling.html#cb648-11" aria-hidden="true" tabindex="-1"></a>Yhat1 <span class="ot">&lt;-</span> <span class="fu">predict</span>(M1, <span class="at">newdata=</span>Cars2015[Fold[,i], ])</span>
<span id="cb648-12"><a href="predictive-modeling.html#cb648-12" aria-hidden="true" tabindex="-1"></a>Yhat2 <span class="ot">&lt;-</span> <span class="fu">predict</span>(M2, <span class="at">newdata=</span>Cars2015[Fold[,i], ])</span>
<span id="cb648-13"><a href="predictive-modeling.html#cb648-13" aria-hidden="true" tabindex="-1"></a>Yhat3 <span class="ot">&lt;-</span> <span class="fu">predict</span>(M3, <span class="at">newdata=</span>Cars2015[Fold[,i], ])</span>
<span id="cb648-14"><a href="predictive-modeling.html#cb648-14" aria-hidden="true" tabindex="-1"></a>Yhat4 <span class="ot">&lt;-</span> <span class="fu">predict</span>(M4, <span class="at">newdata=</span>Cars2015[Fold[,i], ])</span>
<span id="cb648-15"><a href="predictive-modeling.html#cb648-15" aria-hidden="true" tabindex="-1"></a>Yhat5 <span class="ot">&lt;-</span> <span class="fu">predict</span>(M5, <span class="at">newdata=</span>Cars2015[Fold[,i], ])</span>
<span id="cb648-16"><a href="predictive-modeling.html#cb648-16" aria-hidden="true" tabindex="-1"></a>Yhat6 <span class="ot">&lt;-</span> <span class="fu">predict</span>(M6, <span class="at">newdata=</span>Cars2015[Fold[,i], ])</span>
<span id="cb648-17"><a href="predictive-modeling.html#cb648-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb648-18"><a href="predictive-modeling.html#cb648-18" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> Cars2015[Fold[,i], ]<span class="sc">$</span>LowPrice</span>
<span id="cb648-19"><a href="predictive-modeling.html#cb648-19" aria-hidden="true" tabindex="-1"></a>RMSPE[i, <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((Y<span class="sc">-</span>Yhat1)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb648-20"><a href="predictive-modeling.html#cb648-20" aria-hidden="true" tabindex="-1"></a>RMSPE[i, <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((Y<span class="sc">-</span>Yhat2)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb648-21"><a href="predictive-modeling.html#cb648-21" aria-hidden="true" tabindex="-1"></a>RMSPE[i, <span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((Y<span class="sc">-</span>Yhat3)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb648-22"><a href="predictive-modeling.html#cb648-22" aria-hidden="true" tabindex="-1"></a>RMSPE[i, <span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((Y<span class="sc">-</span>Yhat4)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb648-23"><a href="predictive-modeling.html#cb648-23" aria-hidden="true" tabindex="-1"></a>RMSPE[i, <span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((Y<span class="sc">-</span>Yhat5)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb648-24"><a href="predictive-modeling.html#cb648-24" aria-hidden="true" tabindex="-1"></a>RMSPE[i, <span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((Y<span class="sc">-</span>Yhat6)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb648-25"><a href="predictive-modeling.html#cb648-25" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="cross-validation-in-cars-dataset" class="section level3 hasAnchor" number="7.3.4">
<h3><span class="header-section-number">7.3.4</span> Cross Validation in Cars Dataset<a href="predictive-modeling.html#cross-validation-in-cars-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To Use cross validation on the cars dataset, we’ll fit each model to 4 folds (88 cars), while withholding the other 1 fold (22 cars).</p>
<p>We then make predictions on the last fold, and see which model yields the lowest MSPE.</p>
<div class="sourceCode" id="cb649"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb649-1"><a href="predictive-modeling.html#cb649-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(Fold)</span></code></pre></div>
<pre><code>##       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
## fold1   76   82   73   14   30   15  109    5  102    92    25    24     6
## fold2   65   80  107   62    8    4   91   75    2    41    99    81    37
## fold3   68  101  108   31   23   59  105   42   35    21     1    84   106
## fold4   50  104   13   52   29   98   66   54   49   110    38    48    63
## fold5   55   22   17    3   10   28   39   51   20    47    69    83    88
##       [,14] [,15] [,16] [,17] [,18] [,19] [,20] [,21] [,22]
## fold1    36    16    57    44    72    53    86    94    34
## fold2    74    56    27    90    19    40    61    78    71
## fold3    60    43    77    64    67   100     7    58    87
## fold4    12   103    97    85    95    96    32    45    89
## fold5     9    70    46    11    33    79    26    93    18</code></pre>
</div>
<div id="cv-results" class="section level3 hasAnchor" number="7.3.5">
<h3><span class="header-section-number">7.3.5</span> CV Results<a href="predictive-modeling.html#cv-results" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Rows show RMSPE, columns show model.</p>
<div class="sourceCode" id="cb651"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb651-1"><a href="predictive-modeling.html#cb651-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(RMSPE)</span></code></pre></div>
<table>
<tbody>
<tr class="odd">
<td align="right">11.329817</td>
<td align="right">11.460672</td>
<td align="right">9.989957</td>
<td align="right">10.130743</td>
<td align="right">10.808705</td>
<td align="right">10.66698</td>
</tr>
<tr class="even">
<td align="right">11.904377</td>
<td align="right">12.406512</td>
<td align="right">10.998581</td>
<td align="right">10.993984</td>
<td align="right">13.447907</td>
<td align="right">17.27614</td>
</tr>
<tr class="odd">
<td align="right">10.044277</td>
<td align="right">9.399102</td>
<td align="right">8.482429</td>
<td align="right">9.167676</td>
<td align="right">7.906023</td>
<td align="right">13.84186</td>
</tr>
<tr class="even">
<td align="right">9.868489</td>
<td align="right">9.081304</td>
<td align="right">10.658656</td>
<td align="right">10.661173</td>
<td align="right">9.435986</td>
<td align="right">12.09450</td>
</tr>
<tr class="odd">
<td align="right">10.630225</td>
<td align="right">9.538196</td>
<td align="right">9.178224</td>
<td align="right">9.681109</td>
<td align="right">8.266503</td>
<td align="right">18.80454</td>
</tr>
</tbody>
</table>
<p>Mean RMSPE</p>
<div class="sourceCode" id="cb652"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb652-1"><a href="predictive-modeling.html#cb652-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(RMSPE,<span class="dv">2</span>,mean)</span></code></pre></div>
<pre><code>## [1] 10.755437 10.377157  9.861570 10.126937  9.973025 14.536803</code></pre>
</div>
<div id="cv-conclusions" class="section level3 hasAnchor" number="7.3.6">
<h3><span class="header-section-number">7.3.6</span> CV Conclusions<a href="predictive-modeling.html#cv-conclusions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>Model 3 achieves the best performance using cross-validation.</p></li>
<li><p>This is the model that includes a quadratic function of acceleration time and size.</p></li>
<li><p>Including page number, or interactions harms the performance of the model.</p></li>
<li><p>We should use Model 3 if we want to make predictions on new data.</p></li>
</ul>
</div>
</div>
<div id="ridge-regression" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Ridge Regression<a href="predictive-modeling.html#ridge-regression" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="complexity-in-model-coefficients" class="section level3 hasAnchor" number="7.4.1">
<h3><span class="header-section-number">7.4.1</span> Complexity in Model Coefficients<a href="predictive-modeling.html#complexity-in-model-coefficients" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>We’ve thought about complexity in terms of the number of terms we include in a model, as well as whether we include quadratic terms and higher order terms and interactions</p></li>
<li><p>We can also think about model complexity in terms of the coefficients <span class="math inline">\(b_1, \ldots, b_p\)</span>.</p></li>
<li><p>Larger values of <span class="math inline">\(b_1, \ldots, b_p\)</span> are associated with more complex models. Smaller values of <span class="math inline">\(b_1, \ldots, b_p\)</span> are associated with less complex models. When <span class="math inline">\(b_j=0\)</span>, this mean variable <span class="math inline">\(j\)</span> is not used in the model.</p></li>
</ul>
</div>
<div id="regression-on-housing-dataset" class="section level3 hasAnchor" number="7.4.2">
<h3><span class="header-section-number">7.4.2</span> Regression on Housing Dataset<a href="predictive-modeling.html#regression-on-housing-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb654"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb654-1"><a href="predictive-modeling.html#cb654-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">10302021</span>)</span>
<span id="cb654-2"><a href="predictive-modeling.html#cb654-2" aria-hidden="true" tabindex="-1"></a>samp <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(ames_raw), <span class="dv">1000</span>)</span>
<span id="cb654-3"><a href="predictive-modeling.html#cb654-3" aria-hidden="true" tabindex="-1"></a>Train_Data <span class="ot">&lt;-</span> ames_raw[samp,]</span></code></pre></div>
<div class="sourceCode" id="cb655"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb655-1"><a href="predictive-modeling.html#cb655-1" aria-hidden="true" tabindex="-1"></a>M_OLS <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Train_Data, SalePrice <span class="sc">~</span> .)</span>
<span id="cb655-2"><a href="predictive-modeling.html#cb655-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="fu">summary</span>(M_OLS)<span class="sc">$</span>coefficients) <span class="sc">%&gt;%</span> </span>
<span id="cb655-3"><a href="predictive-modeling.html#cb655-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">mutate_if</span>(is.numeric, round, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>##                              Estimate   Std..Error t.value Pr...t..
## (Intercept)             -14136063.894 19081301.598  -0.741    0.459
## `Overall Qual`               6975.925     1187.414   5.875    0.000
## `Year Built`                  494.582      107.166   4.615    0.000
## `Mas Vnr Area`                 33.382        6.471   5.159    0.000
## `Central Air`Y              -3745.363     4857.875  -0.771    0.441
## `Gr Liv Area`                  37.229       18.530   2.009    0.045
## `Lot Frontage`                -14.959       60.399  -0.248    0.804
## `1st Flr SF`                   13.369       19.256   0.694    0.488
## `Bedroom AbvGr`             -2353.038     1675.480  -1.404    0.161
## `TotRms AbvGrd`               914.559     1112.378   0.822    0.411
## Order                           9.073       15.101   0.601    0.548
## PID                             0.794        4.338   0.183    0.855
## `MS SubClass`030             1747.388     6199.347   0.282    0.778
## `MS SubClass`040             5867.289    18051.443   0.325    0.745
## `MS SubClass`045             7182.707    10431.291   0.689    0.491
## `MS SubClass`050            -1330.010     5044.692  -0.264    0.792
## `MS SubClass`060            -7400.859     5261.280  -1.407    0.160
## `MS SubClass`070             -953.700     7122.463  -0.134    0.894
## `MS SubClass`075           -10585.740    12375.983  -0.855    0.393
## `MS SubClass`080            -6516.131     4515.361  -1.443    0.149
## `MS SubClass`085            -6527.234     6376.720  -1.024    0.306
## `MS SubClass`090           -21891.226     9761.297  -2.243    0.025
## `MS SubClass`120           -20296.470     4678.143  -4.339    0.000
## `MS SubClass`160           -34837.666     7079.263  -4.921    0.000
## `MS SubClass`180           -18822.187    12977.394  -1.450    0.147
## `MS SubClass`190           -12421.428     7938.149  -1.565    0.118
## `MS Zoning`C (all)         -38785.687    33604.385  -1.154    0.249
## `MS Zoning`FV              -23114.718    29478.126  -0.784    0.433
## `MS Zoning`I (all)         -17213.333    41603.567  -0.414    0.679
## `MS Zoning`RH              -13306.222    29844.866  -0.446    0.656
## `MS Zoning`RL              -17643.548    28756.236  -0.614    0.540
## `MS Zoning`RM              -24783.447    29226.717  -0.848    0.397
## `Lot Area`                      0.741        0.166   4.468    0.000
## StreetPave                  37262.639    17051.509   2.185    0.029
## AlleyPave                    2527.184     7354.595   0.344    0.731
## AlleyNA                        29.027     5198.481   0.006    0.996
## `Lot Shape`IR2               8575.587     5485.467   1.563    0.118
## `Lot Shape`IR3              10397.800    12598.228   0.825    0.409
## `Lot Shape`Reg               2676.269     2031.291   1.318    0.188
## `Land Contour`HLS           11318.162     6089.701   1.859    0.063
## `Land Contour`Low          -22452.187    11524.145  -1.948    0.052
## `Land Contour`Lvl           12230.711     4699.390   2.603    0.009
## `Lot Config`CulDSac         10427.652     5333.039   1.955    0.051
## `Lot Config`FR2            -12317.542     5422.230  -2.272    0.023
## `Lot Config`FR3            -14557.281    11621.472  -1.253    0.211
## `Lot Config`Inside          -1168.231     2362.097  -0.495    0.621
## `Land Slope`Mod             10550.377     4611.996   2.288    0.022
## `Land Slope`Sev            -24213.759    18971.968  -1.276    0.202
## NeighborhoodBlueste         19001.140    15359.208   1.237    0.216
## NeighborhoodBrDale          20558.054    14183.697   1.449    0.148
## NeighborhoodBrkSide         14314.579    12163.186   1.177    0.240
## NeighborhoodClearCr          7379.347    15007.273   0.492    0.623
## NeighborhoodCollgCr           -46.631    10100.608  -0.005    0.996
## NeighborhoodCrawfor         28775.438    11758.900   2.447    0.015
## NeighborhoodEdwards         -7491.292    10588.590  -0.707    0.479
## NeighborhoodGilbert          1951.621     9311.241   0.210    0.834
## NeighborhoodGreens           4667.759    24819.372   0.188    0.851
## NeighborhoodIDOTRR          12473.149    13394.539   0.931    0.352
## NeighborhoodMeadowV         18891.126    14852.390   1.272    0.204
## NeighborhoodMitchel         -9274.321    11674.474  -0.794    0.427
## NeighborhoodNAmes            1781.910     9557.583   0.186    0.852
## NeighborhoodNoRidge         32109.488    10208.186   3.145    0.002
## NeighborhoodNPkVill         19601.414    12568.277   1.560    0.119
## NeighborhoodNridgHt         34407.200     9268.634   3.712    0.000
## NeighborhoodNWAmes          -3367.848     9915.033  -0.340    0.734
## NeighborhoodOldTown          9857.079    11660.035   0.845    0.398
## NeighborhoodSawyer           6761.651    10233.720   0.661    0.509
## NeighborhoodSawyerW          3945.851     9472.848   0.417    0.677
## NeighborhoodSomerst         20453.172     9940.545   2.058    0.040
## NeighborhoodStoneBr         44556.080    10407.787   4.281    0.000
## NeighborhoodSWISU            8518.931    12621.764   0.675    0.500
## NeighborhoodTimber           1455.916    11778.962   0.124    0.902
## NeighborhoodVeenker          5759.552    11938.691   0.482    0.630
## `Condition 1`Feedr           -315.537     6556.319  -0.048    0.962
## `Condition 1`Norm           10041.975     5463.894   1.838    0.066
## `Condition 1`PosA           49498.875    23721.311   2.087    0.037
## `Condition 1`PosN           15873.931     9869.506   1.608    0.108
## `Condition 1`RRAe          -11599.328     9309.085  -1.246    0.213
## `Condition 1`RRAn            7894.046     8747.555   0.902    0.367
## `Condition 1`RRNn            6045.125    14793.645   0.409    0.683
## `Condition 2`Feedr           7639.793    31157.399   0.245    0.806
## `Condition 2`Norm            6804.658    27562.193   0.247    0.805
## `Condition 2`PosA            1496.130    39927.828   0.037    0.970
## `Condition 2`PosN         -224695.913    33982.683  -6.612    0.000
## `Condition 2`RRNn           20826.255    37187.702   0.560    0.576
## `Overall Cond`               5652.450     1110.963   5.088    0.000
## `Year Remod/Add`              115.103       67.432   1.707    0.088
## `Roof Style`Gable            -983.497    21461.885  -0.046    0.963
## `Roof Style`Gambrel         -3775.470    23821.055  -0.158    0.874
## `Roof Style`Hip             -1020.977    21560.981  -0.047    0.962
## `Roof Style`Mansard         18711.807    32901.537   0.569    0.570
## `Roof Style`Shed            -9552.031    40823.610  -0.234    0.815
## `Roof Matl`CompShg         671041.067    49405.063  13.582    0.000
## `Roof Matl`Membran         738250.209    60710.073  12.160    0.000
## `Roof Matl`Tar&amp;Grv         653237.717    51651.966  12.647    0.000
## `Roof Matl`WdShngl         757954.946    51602.028  14.688    0.000
## `Mas Vnr Type`BrkFace      -14297.143    10170.997  -1.406    0.160
## `Mas Vnr Type`None          -5178.275    10178.912  -0.509    0.611
## `Mas Vnr Type`Stone        -11764.374    10522.700  -1.118    0.264
## `Exter Qual`Fa             -21903.621    14605.491  -1.500    0.134
## `Exter Qual`Gd             -37435.032     5548.928  -6.746    0.000
## `Exter Qual`TA             -40396.277     6354.042  -6.358    0.000
## `Exter Cond`Fa              -2499.173    12458.929  -0.201    0.841
## `Exter Cond`Gd               9625.518    10138.448   0.949    0.343
## `Exter Cond`Po              -9090.336    27937.932  -0.325    0.745
## `Exter Cond`TA              10976.504     9966.771   1.101    0.271
## FoundationCBlock             2136.660     3877.014   0.551    0.582
## FoundationPConc              4341.377     4362.730   0.995    0.320
## FoundationSlab              -8011.210    13611.488  -0.589    0.556
## FoundationStone              5209.408    17623.676   0.296    0.768
## FoundationWood             -21499.868    15486.893  -1.388    0.165
## `Bsmt Qual`Fa              -19118.114     7414.213  -2.579    0.010
## `Bsmt Qual`Gd              -13338.113     3835.210  -3.478    0.001
## `Bsmt Qual`Po               58476.807    51564.967   1.134    0.257
## `Bsmt Qual`TA              -14904.683     5075.833  -2.936    0.003
## `Bsmt Qual`NA               29237.669    26500.257   1.103    0.270
## `Bsmt Exposure`Gd            8445.856     3569.055   2.366    0.018
## `Bsmt Exposure`Mn           -5636.153     3589.679  -1.570    0.117
## `Bsmt Exposure`No           -5726.866     2630.330  -2.177    0.030
## `Bsmt Exposure`NA          -28286.680    22803.949  -1.240    0.215
## `BsmtFin SF 1`                 33.813        5.919   5.713    0.000
## `BsmtFin SF 2`                 24.952        7.497   3.328    0.001
## `Bsmt Unf SF`                  13.202        5.776   2.286    0.023
## HeatingGasW                  3554.600     9352.065   0.380    0.704
## HeatingWall                 16477.827    25523.197   0.646    0.519
## `Heating QC`Fa              -7277.067     5802.559  -1.254    0.210
## `Heating QC`Gd               -760.532     2379.185  -0.320    0.749
## `Heating QC`Po             -17982.827    20110.291  -0.894    0.371
## `Heating QC`TA              -5710.284     2478.722  -2.304    0.021
## ElectricalFuseF               728.435     8127.380   0.090    0.929
## ElectricalFuseP             25345.901    20610.373   1.230    0.219
## ElectricalMix               51715.082    52375.424   0.987    0.324
## ElectricalSBrkr             -2872.354     3735.638  -0.769    0.442
## `2nd Flr SF`                   12.489       18.368   0.680    0.497
## `Bsmt Full Bath`             -498.467     2188.604  -0.228    0.820
## `Bsmt Half Bath`             3026.885     3865.054   0.783    0.434
## `Full Bath`                  3781.817     2857.087   1.324    0.186
## `Half Bath`                  3333.834     2530.994   1.317    0.188
## `Kitchen AbvGr`            -12956.848     9020.308  -1.436    0.151
## `Kitchen Qual`Fa            -7789.898     8251.151  -0.944    0.345
## `Kitchen Qual`Gd           -13554.156     4309.126  -3.145    0.002
## `Kitchen Qual`TA           -13298.538     4825.684  -2.756    0.006
## FunctionalMaj2             -24570.419    29046.546  -0.846    0.398
## FunctionalMin1              -8664.316    13350.110  -0.649    0.517
## FunctionalMin2             -12709.060    13033.967  -0.975    0.330
## FunctionalMod              -14394.718    14722.755  -0.978    0.329
## FunctionalTyp                4206.104    12139.015   0.346    0.729
## Fireplaces                  11467.201     3016.683   3.801    0.000
## `Fireplace Qu`Fa           -12766.123     8228.999  -1.551    0.121
## `Fireplace Qu`Gd           -14204.231     6274.368  -2.264    0.024
## `Fireplace Qu`Po           -23140.943     9267.664  -2.497    0.013
## `Fireplace Qu`TA           -17684.262     6494.672  -2.723    0.007
## `Fireplace Qu`NA            -5555.012     7184.252  -0.773    0.440
## `Garage Type`Attchd         -1098.546    10410.783  -0.106    0.916
## `Garage Type`Basment         -698.429    12956.410  -0.054    0.957
## `Garage Type`BuiltIn        -4596.878    11028.118  -0.417    0.677
## `Garage Type`CarPort       -10478.563    14668.521  -0.714    0.475
## `Garage Type`Detchd          -138.978    10352.749  -0.013    0.989
## `Garage Yr Blt`               -61.663       71.081  -0.868    0.386
## `Garage Finish`RFn          -4343.268     2324.350  -1.869    0.062
## `Garage Finish`Unf          -1482.510     2761.989  -0.537    0.592
## `Garage Cars`                2990.418     2575.052   1.161    0.246
## `Garage Area`                  24.301        8.431   2.882    0.004
## `Garage Qual`Fa            -70420.903    34399.083  -2.047    0.041
## `Garage Qual`Gd            -51114.497    34997.446  -1.461    0.145
## `Garage Qual`Po           -134052.976    53225.962  -2.519    0.012
## `Garage Qual`TA            -67768.261    34050.030  -1.990    0.047
## `Garage Cond`Fa             73986.105    38135.569   1.940    0.053
## `Garage Cond`Gd             64104.427    44282.093   1.448    0.148
## `Garage Cond`Po            112712.402    42502.311   2.652    0.008
## `Garage Cond`TA             71259.249    37706.963   1.890    0.059
## `Paved Drive`P               5257.032     6578.885   0.799    0.424
## `Paved Drive`Y               2077.186     4637.941   0.448    0.654
## `Wood Deck SF`                  7.641        7.155   1.068    0.286
## `Open Porch SF`               -16.288       14.771  -1.103    0.270
## `Enclosed Porch`              -11.374       15.586  -0.730    0.466
## `3Ssn Porch`                   16.122       25.063   0.643    0.520
## `Screen Porch`                 38.257       13.270   2.883    0.004
## `Pool Area`                  -106.868      172.557  -0.619    0.536
## `Pool QC`TA                 24551.037    50543.005   0.486    0.627
## `Pool QC`NA               -100661.222   115845.266  -0.869    0.385
## FenceGdWo                       3.723     6004.965   0.001    1.000
## FenceMnPrv                   1567.238     5154.542   0.304    0.761
## FenceMnWw                    -880.404    11445.727  -0.077    0.939
## FenceNA                      1297.215     4799.135   0.270    0.787
## `Misc Feature`Gar2         545161.543    41606.652  13.103    0.000
## `Misc Feature`Othr         569599.202    49966.978  11.400    0.000
## `Misc Feature`Shed         551469.257    55133.872  10.002    0.000
## `Misc Feature`NA           547892.245    57027.550   9.608    0.000
## `Misc Val`                      1.636        2.916   0.561    0.575
## `Mo Sold`                    -262.197      301.130  -0.871    0.384
## `Yr Sold`                    5937.290     9495.773   0.625    0.532
## `Sale Type`Con               7985.975    14377.683   0.555    0.579
## `Sale Type`ConLD            23972.110    12356.747   1.940    0.053
## `Sale Type`ConLI             9525.193    14763.137   0.645    0.519
## `Sale Type`ConLw            11056.387    17164.197   0.644    0.520
## `Sale Type`CWD              -9551.094    15096.901  -0.633    0.527
## `Sale Type`New              23118.131    16568.083   1.395    0.163
## `Sale Type`Oth              39733.034    17369.174   2.288    0.022
## `Sale Type`VWD             -11729.698    24093.725  -0.487    0.627
## `Sale Type`WD                4819.940     4886.036   0.986    0.324
## `Sale Condition`AdjLand     41276.951    18154.239   2.274    0.023
## `Sale Condition`Alloca      24461.628    10762.922   2.273    0.023
## `Sale Condition`Family        404.850     6776.364   0.060    0.952
## `Sale Condition`Normal       1592.263     3745.575   0.425    0.671
## `Sale Condition`Partial     -4641.758    15793.517  -0.294    0.769</code></pre>
</div>
<div id="housing-model--some-exp.-vars." class="section level3 hasAnchor" number="7.4.3">
<h3><span class="header-section-number">7.4.3</span> Housing Model- Some Exp. Vars.<a href="predictive-modeling.html#housing-model--some-exp.-vars." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s focus on the first 10 variables on the list.</p>
<div class="sourceCode" id="cb657"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb657-1"><a href="predictive-modeling.html#cb657-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">coef</span>(M_OLS),<span class="dv">10</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>##     (Intercept)  `Overall Qual`    `Year Built`  `Mas Vnr Area`  `Central Air`Y 
##   -14136063.894        6975.925         494.582          33.382       -3745.363 
##   `Gr Liv Area`  `Lot Frontage`    `1st Flr SF` `Bedroom AbvGr` `TotRms AbvGrd` 
##          37.229         -14.959          13.369       -2353.038         914.559</code></pre>
</div>
<div id="ridge-regression-penalty" class="section level3 hasAnchor" number="7.4.4">
<h3><span class="header-section-number">7.4.4</span> Ridge Regression Penalty<a href="predictive-modeling.html#ridge-regression-penalty" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>We’ve seen that in ordinary least-squares regression, <span class="math inline">\(b_0, b_1, \ldots, b_p\)</span> are chosen in a way that to minimizes</li>
</ul>
<p><span class="math display">\[ \displaystyle\sum_{i=1}^n (y_i -\hat{y}_i)^2  = \displaystyle\sum_{i=1}^n (y_i -(b_0 + b_1x_{i1} + b_2{x_i2} + \ldots +b_px_{ip}))^2 \]</span></p>
<ul>
<li>When <span class="math inline">\(p\)</span> is large, and we want to be careful of overfitting, a common approach is to add a “penalty term” to this function, to incentivize choosing low values of <span class="math inline">\(b_1, \ldots, b_p\)</span>.</li>
</ul>
<p>Specifically, we minimize:</p>
<p><span class="math display">\[
\begin{aligned}
&amp; \displaystyle\sum_{i=1}^n (y_i -\hat{y}_i)^2  + \lambda\displaystyle\sum_{j=1}^pb_j^2\\ =  &amp; \displaystyle\sum_{i=1}^n (y_i -(b_0 + b_1x_{i1} + b_2x_{i2} + \ldots + b_px_{ip}))^2 + \lambda\displaystyle\sum_{j=1}^pb_j^2
\end{aligned}
\]</span></p>
<p>where <span class="math inline">\(\lambda\)</span> is a pre-determined positive constant.</p>
<ul>
<li><p>Larger values of <span class="math inline">\(b_j\)</span> typically help the model better fit the training data, thereby making the first term smaller, but also make the second term larger.</p></li>
<li><p>The idea is the find optimal values of <span class="math inline">\(b_0, b_1, \ldots, b_p\)</span> that are large enough to allow the model to fit the data well, thus keeping the first term (SSR) small, while also keeping the penalty term small as well.</p></li>
</ul>
</div>
<div id="choosing-lambda" class="section level3 hasAnchor" number="7.4.5">
<h3><span class="header-section-number">7.4.5</span> Choosing <span class="math inline">\(\lambda\)</span><a href="predictive-modeling.html#choosing-lambda" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The value of <span class="math inline">\(\lambda\)</span> is predetermined by the user. The larger the value of <span class="math inline">\(\lambda\)</span>, the more heavily large <span class="math inline">\(b_j&#39;s\)</span> are penalized. A value of <span class="math inline">\(\lambda=0\)</span> corresponds to ordinary least-squares.</p>
<p><span class="math display">\[
\begin{aligned}
Q=&amp; \displaystyle\sum_{i=1}^n (y_i -\hat{y}_i)^2  + \lambda\displaystyle\sum_{j=1}^pb_j^2\\ =  &amp; \displaystyle\sum_{i=1}^n (y_i -(b_0 + b_1x_{i1} + b_2x_{i2} + \ldots + b_px_{ip}))^2 + \lambda\displaystyle\sum_{j=1}^pb_j^2
\end{aligned}
\]</span></p>
</div>
<div id="optimal-value-of-lambda" class="section level3 hasAnchor" number="7.4.6">
<h3><span class="header-section-number">7.4.6</span> Optimal value of <span class="math inline">\(\lambda\)</span><a href="predictive-modeling.html#optimal-value-of-lambda" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Small values of <span class="math inline">\(\lambda\)</span> lead to more complex models, with larger <span class="math inline">\(|b_j|\)</span>’s.<br />
</li>
<li>As <span class="math inline">\(\lambda\)</span> increases, <span class="math inline">\(|b_j|\)</span>’s shrink toward 0. The model becomes less complex, thus bias increases, but variance decreases.<br />
</li>
<li>We can use cross validation to determine the optimal value of <span class="math inline">\(\lambda\)</span></li>
</ul>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-539-1.png" width="960" /></p>
</div>
<div id="standardizing" class="section level3 hasAnchor" number="7.4.7">
<h3><span class="header-section-number">7.4.7</span> Standardizing<a href="predictive-modeling.html#standardizing" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb659"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb659-1"><a href="predictive-modeling.html#cb659-1" aria-hidden="true" tabindex="-1"></a>Train_sc <span class="ot">&lt;-</span> Train_Data <span class="sc">%&gt;%</span> <span class="fu">mutate_if</span>(is.numeric, scale)</span></code></pre></div>
<ul>
<li><p>It is important to standardize each explanatory variable (i.e. subtract the mean and divide by the standard deviation).</p></li>
<li><p>This ensures each variable has mean 0 and standard deviation 1.</p></li>
<li><p>Without standardizing the optimal choice of <span class="math inline">\(b_j\)</span>’s would depend on scale, with variables with larger absolute measurements having more influence.</p></li>
<li><p>We’ll standardize the response variable too. Though this is not strictly necessary, it doesn’t hurt. We can always transform back if necessary.</p></li>
<li><p>Standardization is performed using the <code>scale</code> command in R.</p></li>
</ul>
</div>
<div id="ridge-regression-on-housing-dataset" class="section level3 hasAnchor" number="7.4.8">
<h3><span class="header-section-number">7.4.8</span> Ridge Regression on Housing Dataset<a href="predictive-modeling.html#ridge-regression-on-housing-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb660"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb660-1"><a href="predictive-modeling.html#cb660-1" aria-hidden="true" tabindex="-1"></a>control <span class="ot">=</span> <span class="fu">trainControl</span>(<span class="st">&quot;repeatedcv&quot;</span>, <span class="at">number =</span> <span class="dv">10</span>, <span class="at">repeats=</span><span class="dv">10</span>)</span>
<span id="cb660-2"><a href="predictive-modeling.html#cb660-2" aria-hidden="true" tabindex="-1"></a>l_vals <span class="ot">=</span> <span class="dv">10</span><span class="sc">^</span><span class="fu">seq</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">3</span>, <span class="at">length =</span> <span class="dv">100</span>)</span>
<span id="cb660-3"><a href="predictive-modeling.html#cb660-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb660-4"><a href="predictive-modeling.html#cb660-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">11162020</span>)</span>
<span id="cb660-5"><a href="predictive-modeling.html#cb660-5" aria-hidden="true" tabindex="-1"></a>Housing_ridge <span class="ot">&lt;-</span> <span class="fu">train</span>(SalePrice <span class="sc">~</span> .,</span>
<span id="cb660-6"><a href="predictive-modeling.html#cb660-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">data =</span> Train_sc, <span class="at">method =</span> <span class="st">&quot;glmnet&quot;</span>, <span class="at">trControl=</span>control , </span>
<span id="cb660-7"><a href="predictive-modeling.html#cb660-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">tuneGrid=</span><span class="fu">expand.grid</span>(<span class="at">alpha=</span><span class="dv">0</span>, <span class="at">lambda=</span>l_vals))</span></code></pre></div>
<div class="sourceCode" id="cb661"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb661-1"><a href="predictive-modeling.html#cb661-1" aria-hidden="true" tabindex="-1"></a>Housing_ridge<span class="sc">$</span>bestTune<span class="sc">$</span>lambda</span></code></pre></div>
<pre><code>## [1] 0.6135907</code></pre>
</div>
<div id="ridge-regression-rmspe-by-lambda" class="section level3 hasAnchor" number="7.4.9">
<h3><span class="header-section-number">7.4.9</span> Ridge Regression RMSPE by <span class="math inline">\(\lambda\)</span><a href="predictive-modeling.html#ridge-regression-rmspe-by-lambda" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-543-1.png" width="672" /></p>
</div>
<div id="ridge-regression-coefficients-for-optimal-model" class="section level3 hasAnchor" number="7.4.10">
<h3><span class="header-section-number">7.4.10</span> Ridge Regression Coefficients for Optimal Model<a href="predictive-modeling.html#ridge-regression-coefficients-for-optimal-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb663"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb663-1"><a href="predictive-modeling.html#cb663-1" aria-hidden="true" tabindex="-1"></a>M_OLS_sc <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Train_sc, SalePrice <span class="sc">~</span> .)</span>
<span id="cb663-2"><a href="predictive-modeling.html#cb663-2" aria-hidden="true" tabindex="-1"></a>OLS_coef <span class="ot">&lt;-</span> M_OLS_sc<span class="sc">$</span>coefficients</span>
<span id="cb663-3"><a href="predictive-modeling.html#cb663-3" aria-hidden="true" tabindex="-1"></a>Ridge_coef <span class="ot">&lt;-</span> <span class="fu">coef</span>(Housing_ridge<span class="sc">$</span>finalModel, Housing_ridge<span class="sc">$</span>bestTune<span class="sc">$</span>lambda)[,<span class="dv">1</span>]</span>
<span id="cb663-4"><a href="predictive-modeling.html#cb663-4" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(OLS_coef[<span class="dv">2</span><span class="sc">:</span><span class="dv">10</span>], Ridge_coef[<span class="dv">2</span><span class="sc">:</span><span class="dv">10</span>])</span>
<span id="cb663-5"><a href="predictive-modeling.html#cb663-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df) <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;OLS Coeff&quot;</span>, <span class="st">&quot;Ridge Coeff&quot;</span>)</span>
<span id="cb663-6"><a href="predictive-modeling.html#cb663-6" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##                    OLS Coeff Ridge Coeff
## `Overall Qual`   0.121728754  0.10435284
## `Year Built`     0.187102422  0.03451303
## `Mas Vnr Area`   0.080212607  0.06202880
## `Central Air`Y  -0.046191694  0.04289126
## `Gr Liv Area`    0.237623291  0.00000000
## `Lot Frontage`  -0.004290945  0.07967743
## `1st Flr SF`     0.069910650  0.01020597
## `Bedroom AbvGr` -0.022457937  0.07194208
## `TotRms AbvGrd`  0.017574153  0.01342224</code></pre>
</div>
<div id="ols-and-ridge-predictions" class="section level3 hasAnchor" number="7.4.11">
<h3><span class="header-section-number">7.4.11</span> OLS and Ridge Predictions<a href="predictive-modeling.html#ols-and-ridge-predictions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb665"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb665-1"><a href="predictive-modeling.html#cb665-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glmnet)</span>
<span id="cb665-2"><a href="predictive-modeling.html#cb665-2" aria-hidden="true" tabindex="-1"></a>MAT <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(SalePrice<span class="sc">~</span>., <span class="at">data=</span>Train_sc)</span>
<span id="cb665-3"><a href="predictive-modeling.html#cb665-3" aria-hidden="true" tabindex="-1"></a>ridge_mod <span class="ot">&lt;-</span> <span class="fu">glmnet</span>(<span class="at">x=</span>MAT, <span class="at">y=</span>Train_sc<span class="sc">$</span>SalePrice, <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">lambda=</span>Housing_ridge<span class="sc">$</span>bestTune<span class="sc">$</span>lambda )</span></code></pre></div>
<div class="sourceCode" id="cb666"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb666-1"><a href="predictive-modeling.html#cb666-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> Train_sc<span class="sc">$</span>SalePrice</span>
<span id="cb666-2"><a href="predictive-modeling.html#cb666-2" aria-hidden="true" tabindex="-1"></a>Pred_OLS <span class="ot">&lt;-</span> <span class="fu">predict</span>(M_OLS_sc)</span>
<span id="cb666-3"><a href="predictive-modeling.html#cb666-3" aria-hidden="true" tabindex="-1"></a>Pred_Ridge <span class="ot">&lt;-</span> <span class="fu">predict</span>(ridge_mod, <span class="at">newx=</span>MAT)</span>
<span id="cb666-4"><a href="predictive-modeling.html#cb666-4" aria-hidden="true" tabindex="-1"></a>OLS_Resid <span class="ot">&lt;-</span> y <span class="sc">-</span> Pred_OLS</span>
<span id="cb666-5"><a href="predictive-modeling.html#cb666-5" aria-hidden="true" tabindex="-1"></a>Ridge_Resid <span class="ot">&lt;-</span> y <span class="sc">-</span> Pred_Ridge</span>
<span id="cb666-6"><a href="predictive-modeling.html#cb666-6" aria-hidden="true" tabindex="-1"></a>Resdf <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(y, Pred_OLS, Pred_Ridge, OLS_Resid, Ridge_Resid)</span>
<span id="cb666-7"><a href="predictive-modeling.html#cb666-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(Resdf) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;y&quot;</span>, <span class="st">&quot;OLS Pred&quot;</span>, <span class="st">&quot;Ridge Pred&quot;</span>, <span class="st">&quot;OLS Resid&quot;</span>, <span class="st">&quot;Ridge Resid&quot;</span>)</span>
<span id="cb666-8"><a href="predictive-modeling.html#cb666-8" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(Resdf))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">y</th>
<th align="right">OLS Pred</th>
<th align="right">Ridge Pred</th>
<th align="right">OLS Resid</th>
<th align="right">Ridge Resid</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">859</td>
<td align="right">-0.6210832</td>
<td align="right">-0.4637429</td>
<td align="right">-0.4651589</td>
<td align="right">-0.1573403</td>
<td align="right">-0.1559243</td>
</tr>
<tr class="even">
<td align="left">1850</td>
<td align="right">0.6800520</td>
<td align="right">1.1897467</td>
<td align="right">1.0528536</td>
<td align="right">-0.5096947</td>
<td align="right">-0.3728016</td>
</tr>
<tr class="odd">
<td align="left">1301</td>
<td align="right">-0.4545873</td>
<td align="right">-0.4527781</td>
<td align="right">-0.4958630</td>
<td align="right">-0.0018092</td>
<td align="right">0.0412758</td>
</tr>
<tr class="even">
<td align="left">981</td>
<td align="right">-0.6408161</td>
<td align="right">-0.6626212</td>
<td align="right">-0.7711186</td>
<td align="right">0.0218051</td>
<td align="right">0.1303025</td>
</tr>
<tr class="odd">
<td align="left">2694</td>
<td align="right">-0.7937457</td>
<td align="right">-0.8679455</td>
<td align="right">-0.7543093</td>
<td align="right">0.0741997</td>
<td align="right">-0.0394365</td>
</tr>
<tr class="even">
<td align="left">2209</td>
<td align="right">-0.7906625</td>
<td align="right">-0.6955254</td>
<td align="right">-0.6449779</td>
<td align="right">-0.0951370</td>
<td align="right">-0.1456845</td>
</tr>
</tbody>
</table>
</div>
<div id="choosing-b_j-in-ols" class="section level3 hasAnchor" number="7.4.12">
<h3><span class="header-section-number">7.4.12</span> Choosing <span class="math inline">\(b_j\)</span> in OLS<a href="predictive-modeling.html#choosing-b_j-in-ols" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In OLS, we choose <span class="math inline">\(b_0, b_1, \ldots, b_p\)</span> are chosen in a way that minimizes</p>
<p><span class="math display">\[ \displaystyle\sum_{i=1}^n (y_i -\hat{y}_i)^2  = \displaystyle\sum_{i=1}^n (y_i -(b_0 + b_1x_{i1} + b_2x_{i2} + \ldots + b_px_{ip}))^2 \]</span></p>
<p>OLS: <span class="math inline">\(\displaystyle\sum_{i=1}^n (y_i -\hat{y}_i)^2\)</span></p>
<div class="sourceCode" id="cb667"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb667-1"><a href="predictive-modeling.html#cb667-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>((y<span class="sc">-</span>Pred_OLS)<span class="sc">^</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 56.94383</code></pre>
<p>Ridge: <span class="math inline">\(\displaystyle\sum_{i=1}^n (y_i -\hat{y}_i)^2\)</span></p>
<div class="sourceCode" id="cb669"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb669-1"><a href="predictive-modeling.html#cb669-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>((y<span class="sc">-</span>Pred_Ridge)<span class="sc">^</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 127.1331</code></pre>
<p>Not surprisingly the OLS model achieves smaller <span class="math inline">\(\displaystyle\sum_{i=1}^n (y_i -\hat{y}_i)^2\)</span>. This has to be true, since the OLS coefficients are chosen to minimize this quantity.</p>
</div>
<div id="choosing-b_j-in-ridge-regression" class="section level3 hasAnchor" number="7.4.13">
<h3><span class="header-section-number">7.4.13</span> Choosing <span class="math inline">\(b_j\)</span> in Ridge Regression<a href="predictive-modeling.html#choosing-b_j-in-ridge-regression" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In ridge regression, <span class="math inline">\(b_0, b_1, \ldots, b_p\)</span> are chosen in a way that minimizes</p>
<p><span class="math display">\[
\begin{aligned}
Q=&amp; \displaystyle\sum_{i=1}^n (y_i -\hat{y}_i)^2  + \lambda\displaystyle\sum_{j=1}^pb_j^2\\ =  &amp; \displaystyle\sum_{i=1}^n (y_i -(b_0 + b_1x_{i1} + b_2x_{i2} + \ldots + b_px_{ip}))^2 + \lambda\displaystyle\sum_{j=1}^pb_j^2
\end{aligned}
\]</span></p>
<p>OLS: <span class="math inline">\(\displaystyle\sum_{i=1}^n (y_i -\hat{y}_i)^2 + \lambda\displaystyle\sum_{j=1}^pb_j^2\)</span></p>
<div class="sourceCode" id="cb671"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb671-1"><a href="predictive-modeling.html#cb671-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>((y<span class="sc">-</span>Pred_OLS)<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> <span class="fl">0.6136</span><span class="sc">*</span><span class="fu">sum</span>(<span class="fu">coef</span>(M_OLS_sc)[<span class="sc">-</span><span class="dv">1</span>]<span class="sc">^</span><span class="dv">2</span>) </span></code></pre></div>
<pre><code>## [1] 373.1205</code></pre>
<p>Ridge: <span class="math inline">\(\displaystyle\sum_{i=1}^n (y_i -\hat{y}_i)^2 + \lambda\displaystyle\sum_{j=1}^pb_j^2\)</span></p>
<div class="sourceCode" id="cb673"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb673-1"><a href="predictive-modeling.html#cb673-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>((y<span class="sc">-</span>Pred_Ridge)<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> <span class="fl">0.6136</span><span class="sc">*</span><span class="fu">sum</span>((Ridge_coef)[<span class="sc">-</span><span class="dv">1</span>]<span class="sc">^</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 130.3375</code></pre>
<p>We see that the ridge coefficients achieve a lower value of Q than the OLS ones.</p>
</div>
<div id="lasso-regression" class="section level3 hasAnchor" number="7.4.14">
<h3><span class="header-section-number">7.4.14</span> Lasso Regression<a href="predictive-modeling.html#lasso-regression" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Lasso regression is very similar to ridge regression. Coefficients <span class="math inline">\(b_0, b_1, \ldots, b_p\)</span> are chosen in a way that to minimizes</p>
<p><span class="math display">\[
\begin{aligned}
&amp; \displaystyle\sum_{i=1}^n (y_i -\hat{y}_i)^2  + \lambda\displaystyle\sum_{j=1}^p|b_j|\\ =  &amp; \displaystyle\sum_{i=1}^n (y_i -(b_0 + b_1x_{i1} + b_2x_{i2} + \ldots + b_px_{ip}))^2 + \lambda\displaystyle\sum_{j=1}^p|b_j|
\end{aligned}
\]</span></p>
</div>
</div>
<div id="decision-trees" class="section level2 hasAnchor" number="7.5">
<h2><span class="header-section-number">7.5</span> Decision Trees<a href="predictive-modeling.html#decision-trees" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="basics-of-decision-trees" class="section level3 hasAnchor" number="7.5.1">
<h3><span class="header-section-number">7.5.1</span> Basics of Decision Trees<a href="predictive-modeling.html#basics-of-decision-trees" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>A decision tree is a flexible alternative to a regression model. It is said to be <strong>nonparametric</strong> because it does not involve parameters like <span class="math inline">\(\beta_0, \beta_1, \ldots \beta_p\)</span>.</p></li>
<li><p>A tree makes no assumption about the nature of the relationship between the response and explanatory variables, and instead allows us to learn this relationship from the data.</p></li>
<li><p>A tree makes prediction by repeatedly grouping together like observations in the training data.</p></li>
<li><p>We can make predictions for a new case, by tracing it through the tree, and averaging responses of training cases in the same terminal node.</p></li>
</ul>
</div>
<div id="decision-tree-example" class="section level3 hasAnchor" number="7.5.2">
<h3><span class="header-section-number">7.5.2</span> Decision Tree Example<a href="predictive-modeling.html#decision-tree-example" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb675"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb675-1"><a href="predictive-modeling.html#cb675-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rpart)</span>
<span id="cb675-2"><a href="predictive-modeling.html#cb675-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rpart.plot)</span>
<span id="cb675-3"><a href="predictive-modeling.html#cb675-3" aria-hidden="true" tabindex="-1"></a>tree <span class="ot">&lt;-</span> <span class="fu">rpart</span>(SalePrice<span class="sc">~</span>., <span class="at">data=</span>Train_Data, <span class="at">cp=</span><span class="fl">0.04</span>)</span>
<span id="cb675-4"><a href="predictive-modeling.html#cb675-4" aria-hidden="true" tabindex="-1"></a><span class="fu">rpart.plot</span>(tree, <span class="at">box.palette=</span><span class="st">&quot;RdBu&quot;</span>, <span class="at">shadow.col=</span><span class="st">&quot;gray&quot;</span>, <span class="at">nn=</span><span class="cn">TRUE</span>, <span class="at">cex=</span><span class="dv">1</span>, <span class="at">extra=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-551-1.png" width="1056" /></p>
<ul>
<li><p>The predicted price of a House with overall quality 7, and was built in 1995 is $200,000.</p></li>
<li><p>The predicted price of a House overall quality 8 and 1,750 sq. ft. on the first floor is $370,000.</p></li>
</ul>
</div>
<div id="partitioning-in-a-decision-tree" class="section level3 hasAnchor" number="7.5.3">
<h3><span class="header-section-number">7.5.3</span> Partitioning in A Decision Tree<a href="predictive-modeling.html#partitioning-in-a-decision-tree" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>For a quantitative response variable, data are split into two nodes so that responses in the same node are as similar as possible, while responses in the different nodes are as different as possible.</p></li>
<li><p>Let L and R represent the left and right nodes from a possible split. Let <span class="math inline">\(n_L\)</span> and <span class="math inline">\(n_R\)</span> represent the number of observations in each node, and <span class="math inline">\(\bar{y}_L\)</span> and <span class="math inline">\(\bar{y}_R\)</span> represent the mean of the training data responses in each node.</p></li>
<li><p>For each possible split, involving an explanatory variable, we calculate:</p></li>
</ul>
<p><span class="math display">\[ \displaystyle\sum_{i=1}^{n_L} (y_i -\bar{y}_L)^2 + \displaystyle\sum_{i=1}^{n_R} (y_i -\bar{y}_R)^2
\]</span></p>
<ul>
<li>We choose the split that minimizes this quantity.</li>
</ul>
</div>
<div id="partitioning-example" class="section level3 hasAnchor" number="7.5.4">
<h3><span class="header-section-number">7.5.4</span> Partitioning Example<a href="predictive-modeling.html#partitioning-example" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>##    [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13] [,14]
## x1    8    2    8    1    8    6    2    5    1     8     4    10     9     8
## x2    5    3    1    1    4    3    8    1   10     8     6     5     0     2
## y   253   64  258   21  257  203  246  114  331   256   213   406   326   273
##    [,15]
## x1     6
## x2     1
## y    155</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-553-1.png" width="672" /></p>
</div>
<div id="one-possible-split-x_1-5.5" class="section level3 hasAnchor" number="7.5.5">
<h3><span class="header-section-number">7.5.5</span> One Possible Split (<span class="math inline">\(x_1 &lt; 5.5\)</span>)<a href="predictive-modeling.html#one-possible-split-x_1-5.5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We could split the data into 2 groups depending on whether <span class="math inline">\(x_1 &lt; 5.5\)</span>.</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-554-1.png" width="768" /></p>
</div>
<div id="one-possible-split-x_1-5.5-cont." class="section level3 hasAnchor" number="7.5.6">
<h3><span class="header-section-number">7.5.6</span> One Possible Split (<span class="math inline">\(x_1 &lt; 5.5\)</span>) (cont.)<a href="predictive-modeling.html#one-possible-split-x_1-5.5-cont." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><span class="math inline">\(\bar{y}_L = (331+246+213+21+64+114)/6 \approx 164.84\)</span><br />
</li>
<li><span class="math inline">\(\bar{y}_R = (203+155+256+253+257+273+258+326+406)/9 \approx 265.22\)</span></li>
</ul>
<p><span class="math display">\[
\begin{aligned}
&amp; \displaystyle\sum_{i=1}^{n_L} (y_i -\bar{y}_L)^2  \\
&amp; =(331-164.83)^2+(246-164.33)^2 + \ldots+(114-164.33)^2 \\
&amp; =69958.83
\end{aligned}
\]</span></p>
<p><span class="math display">\[
\begin{aligned}
\displaystyle\sum_{i=1}^{n_R} (y_i -\bar{y}_R)^2 \\
&amp; =(203-265.22)^2+(155-265.22)^2 + \ldots+(406-265.22)^2 \\
&amp; =39947.56
\end{aligned}
\]</span></p>
<ul>
<li>69958.83 + 39947.56 = 109906.4</li>
</ul>
</div>
<div id="second-possible-split-x_1-6.5" class="section level3 hasAnchor" number="7.5.7">
<h3><span class="header-section-number">7.5.7</span> Second Possible Split (<span class="math inline">\(x_1 &lt; 6.5\)</span>)<a href="predictive-modeling.html#second-possible-split-x_1-6.5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We could split the data into 2 groups depending on whether <span class="math inline">\(x_1 &lt; 6.5\)</span>.</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-555-1.png" width="768" /></p>
</div>
<div id="second-possible-split-x_1-6.5-cont." class="section level3 hasAnchor" number="7.5.8">
<h3><span class="header-section-number">7.5.8</span> Second Possible Split (<span class="math inline">\(x_1 &lt; 6.5\)</span>) (cont.)<a href="predictive-modeling.html#second-possible-split-x_1-6.5-cont." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><span class="math inline">\(\bar{y}_L = (331+246+213+21+64+114 + 203+155)/8 \approx 168.375\)</span><br />
</li>
<li><span class="math inline">\(\bar{y}_R = (256+253+257+273+258+326+406)/7 \approx 289.857\)</span></li>
</ul>
<p><span class="math display">\[
\begin{aligned}
&amp; \displaystyle\sum_{i=1}^{n_L} (y_i -\bar{y}_L)^2  \\
&amp; =(331-168.375)^2+(246-168.375)^2 + \ldots+(203-168.375)^2 \\
&amp; =71411.88
\end{aligned}
\]</span></p>
<p><span class="math display">\[
\begin{aligned}
\displaystyle\sum_{i=1}^{n_R} (y_i -\bar{y}_R)^2 \\
&amp; =(203-289.857)^2+(155-289.857)^2 + \ldots+(406-289.857)^2 \\
&amp; =19678.86
\end{aligned}
\]</span></p>
<ul>
<li>71411.88 + 19678.86 = 91090.74</li>
</ul>
<p>The split at <span class="math inline">\(x1 &lt; 6.5\)</span> is better than <span class="math inline">\(x_1&lt;5.5\)</span></p>
</div>
<div id="third-possible-split-x_2-5.5" class="section level3 hasAnchor" number="7.5.9">
<h3><span class="header-section-number">7.5.9</span> Third Possible Split (<span class="math inline">\(x_2 &lt; 5.5\)</span>)<a href="predictive-modeling.html#third-possible-split-x_2-5.5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We could split the data into 2 groups depending on whether <span class="math inline">\(x_2 &lt; 5.5\)</span>.</p>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-556-1.png" width="768" /></p>
</div>
<div id="third-possible-split-x_2-5.5-cont." class="section level3 hasAnchor" number="7.5.10">
<h3><span class="header-section-number">7.5.10</span> Third Possible Split (<span class="math inline">\(x_2 &lt; 5.5\)</span>) (cont.)<a href="predictive-modeling.html#third-possible-split-x_2-5.5-cont." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><span class="math inline">\(\bar{y}_L = (331+246+213+256)/4 \approx 261.5\)</span><br />
</li>
<li><span class="math inline">\(\bar{y}_R = (21 + 64 + \ldots + 406)/11 \approx 211.82\)</span></li>
</ul>
<p><span class="math display">\[
\begin{aligned}
&amp; \displaystyle\sum_{i=1}^{n_L} (y_i -\bar{y}_L)^2  \\
&amp; =(331-261.5)^2+(246-261.5)^2 + (213-261.5)^2+(256-261.5)^2 \\
&amp; =7453
\end{aligned}
\]</span></p>
<p><span class="math display">\[
\begin{aligned}
\displaystyle\sum_{i=1}^{n_R} (y_i -\bar{y}_R)^2 \\
&amp; =(21-211.82)^2+(64-211.82)^2 + \ldots+(406-211.82)^2 \\
&amp; =131493.6
\end{aligned}
\]</span></p>
<ul>
<li>7453 + 131493.6 = 138946.6</li>
</ul>
</div>
<div id="comparison-of-splits" class="section level3 hasAnchor" number="7.5.11">
<h3><span class="header-section-number">7.5.11</span> Comparison of Splits<a href="predictive-modeling.html#comparison-of-splits" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>Of the three split’s we’ve calculated, <span class="math inline">\(\displaystyle\sum_{i=1}^{n_L} (y_i -\bar{y}_L)^2 + \displaystyle\sum_{i=1}^{n_R} (y_i -\bar{y}_R)^2\)</span> is minimized using <span class="math inline">\(x_1 &lt; 6.5\)</span>.</p></li>
<li><p>In fact, if we calculate all possible splits over <span class="math inline">\(x_1\)</span> and <span class="math inline">\(x_2\)</span>, <span class="math inline">\(\displaystyle\sum_{i=1}^{n_L} (y_i -\bar{y}_L)^2 + \displaystyle\sum_{i=1}^{n_R} (y_i -\bar{y}_R)^2\)</span> is minimized by splitting on <span class="math inline">\(x_1 &lt; 6.5\)</span></p></li>
</ul>
</div>
<div id="first-split" class="section level3 hasAnchor" number="7.5.12">
<h3><span class="header-section-number">7.5.12</span> First Split<a href="predictive-modeling.html#first-split" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-557-1.png" width="768" /></p>
</div>
<div id="first-split-in-the-tree" class="section level3 hasAnchor" number="7.5.13">
<h3><span class="header-section-number">7.5.13</span> First Split in the Tree<a href="predictive-modeling.html#first-split-in-the-tree" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-558-1.png" width="1056" /></p>
</div>
<div id="next-splits" class="section level3 hasAnchor" number="7.5.14">
<h3><span class="header-section-number">7.5.14</span> Next Splits<a href="predictive-modeling.html#next-splits" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Next, we find the best splits on the resulting two nodes. It turns out that the left node is best split on <span class="math inline">\(x_2 &lt; 4.5\)</span>, and the right node is best split on <span class="math inline">\(x_1 &lt; 8.5\)</span>.</li>
</ul>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-559-1.png" width="768" /></p>
</div>
<div id="next-splits-in-tree" class="section level3 hasAnchor" number="7.5.15">
<h3><span class="header-section-number">7.5.15</span> Next Splits in Tree<a href="predictive-modeling.html#next-splits-in-tree" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-560-1.png" width="1056" /></p>
</div>
<div id="recursive-partitioning" class="section level3 hasAnchor" number="7.5.16">
<h3><span class="header-section-number">7.5.16</span> Recursive Partitioning<a href="predictive-modeling.html#recursive-partitioning" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Splitting continues until nodes reach a certain predetermined minimal size, or until change improvement in model fit drops below a predetermined value</li>
</ul>
</div>
<div id="tree-on-housing-data" class="section level3 hasAnchor" number="7.5.17">
<h3><span class="header-section-number">7.5.17</span> Tree on Housing Data<a href="predictive-modeling.html#tree-on-housing-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-561-1.png" width="1056" /></p>
</div>
<div id="model-complexity-in-trees" class="section level3 hasAnchor" number="7.5.18">
<h3><span class="header-section-number">7.5.18</span> Model Complexity in Trees<a href="predictive-modeling.html#model-complexity-in-trees" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>The more we partition data into smaller nodes, the more complex the model becomes.</p></li>
<li><p>As we continue to partition, bias decreases, as cases are grouped with those that are more similar to themselves. On the other hand, variance increases, as there are fewer cases in each node to be averaged, putting more weight on each individual observation.</p></li>
<li><p>Splitting into too small of nodes can lead to drastic overfitting. In the extreme case, if we split all the way to nodes of size 1, we would get RMSE of 0 on the training data, but should certainly not expect RMSPE of 0 on the test data.</p></li>
<li><p>The optimal depth of the tree, or minimal size for terminal nodes can be determined using cross-validation.</p></li>
<li><p>the <code>rpart</code> package uses a complexity parameter <code>cp</code>, which determines how much a split must improve model fit in order to be made. Smaller values of <code>cp</code> are associated with more complex tree models.</p></li>
</ul>
</div>
<div id="cross-validation-on-housing-data" class="section level3 hasAnchor" number="7.5.19">
<h3><span class="header-section-number">7.5.19</span> Cross-Validation on Housing Data<a href="predictive-modeling.html#cross-validation-on-housing-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb677"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb677-1"><a href="predictive-modeling.html#cb677-1" aria-hidden="true" tabindex="-1"></a>cp_vals <span class="ot">=</span> <span class="dv">10</span><span class="sc">^</span><span class="fu">seq</span>(<span class="sc">-</span><span class="dv">8</span>, <span class="dv">1</span>, <span class="at">length =</span> <span class="dv">100</span>)</span>
<span id="cb677-2"><a href="predictive-modeling.html#cb677-2" aria-hidden="true" tabindex="-1"></a><span class="co">#cp_vals = c(0.00000001, 0.00001)</span></span>
<span id="cb677-3"><a href="predictive-modeling.html#cb677-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(Train_sc) <span class="ot">&lt;-</span> <span class="fu">make.names</span>(<span class="fu">colnames</span>(Train_sc))</span>
<span id="cb677-4"><a href="predictive-modeling.html#cb677-4" aria-hidden="true" tabindex="-1"></a><span class="co">#colnames(Train_Data) &lt;- make.names(colnames(Train_Data))</span></span>
<span id="cb677-5"><a href="predictive-modeling.html#cb677-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb677-6"><a href="predictive-modeling.html#cb677-6" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">11162020</span>)</span>
<span id="cb677-7"><a href="predictive-modeling.html#cb677-7" aria-hidden="true" tabindex="-1"></a>Housing_Tree <span class="ot">&lt;-</span> <span class="fu">train</span>(<span class="at">data=</span>Train_sc, SalePrice <span class="sc">~</span> .,  <span class="at">method=</span><span class="st">&quot;rpart&quot;</span>, <span class="at">trControl=</span>control, </span>
<span id="cb677-8"><a href="predictive-modeling.html#cb677-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tuneGrid=</span><span class="fu">expand.grid</span>(<span class="at">cp=</span>cp_vals))</span>
<span id="cb677-9"><a href="predictive-modeling.html#cb677-9" aria-hidden="true" tabindex="-1"></a>Housing_Tree<span class="sc">$</span>bestTune</span></code></pre></div>
<pre><code>##              cp
## 52 0.0004328761</code></pre>
<div class="sourceCode" id="cb679"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb679-1"><a href="predictive-modeling.html#cb679-1" aria-hidden="true" tabindex="-1"></a>cp <span class="ot">&lt;-</span> Housing_Tree<span class="sc">$</span>results<span class="sc">$</span>cp</span>
<span id="cb679-2"><a href="predictive-modeling.html#cb679-2" aria-hidden="true" tabindex="-1"></a>RMSPE <span class="ot">&lt;-</span> Housing_Tree<span class="sc">$</span>results<span class="sc">$</span>RMSE</span>
<span id="cb679-3"><a href="predictive-modeling.html#cb679-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span><span class="fu">data.frame</span>(cp, RMSPE), <span class="fu">aes</span>(<span class="at">x=</span>cp, <span class="at">y=</span>RMSPE))<span class="sc">+</span><span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">xlim</span>(<span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.001</span>)) <span class="sc">+</span> <span class="fu">ylim</span>(<span class="fu">c</span>(<span class="fl">0.475</span>,<span class="fl">0.485</span>))  <span class="sc">+</span> </span>
<span id="cb679-4"><a href="predictive-modeling.html#cb679-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Regression Tree Cross Validation Results&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-563-1.png" width="672" /></p>
</div>
<div id="comparing-ols-lasso-ridge-and-tree" class="section level3 hasAnchor" number="7.5.20">
<h3><span class="header-section-number">7.5.20</span> Comparing OLS, Lasso, Ridge, and Tree<a href="predictive-modeling.html#comparing-ols-lasso-ridge-and-tree" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb680"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb680-1"><a href="predictive-modeling.html#cb680-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">11162020</span>)</span>
<span id="cb680-2"><a href="predictive-modeling.html#cb680-2" aria-hidden="true" tabindex="-1"></a>Housing_OLS <span class="ot">&lt;-</span> <span class="fu">train</span>(<span class="at">data=</span>Train_sc, SalePrice <span class="sc">~</span> .,  <span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">trControl=</span>control)</span>
<span id="cb680-3"><a href="predictive-modeling.html#cb680-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">11162020</span>)</span>
<span id="cb680-4"><a href="predictive-modeling.html#cb680-4" aria-hidden="true" tabindex="-1"></a>Housing_lasso <span class="ot">&lt;-</span> <span class="fu">train</span>(SalePrice <span class="sc">~</span>., <span class="at">data =</span> Train_sc, <span class="at">method =</span> <span class="st">&quot;glmnet&quot;</span>, <span class="at">trControl=</span>control, </span>
<span id="cb680-5"><a href="predictive-modeling.html#cb680-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">tuneGrid=</span><span class="fu">expand.grid</span>(<span class="at">alpha=</span><span class="dv">1</span>, <span class="at">lambda=</span>l_vals))</span></code></pre></div>
<div class="sourceCode" id="cb681"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb681-1"><a href="predictive-modeling.html#cb681-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(Housing_OLS <span class="sc">$</span>results<span class="sc">$</span>RMSE)</span></code></pre></div>
<pre><code>## [1] 0.5634392</code></pre>
<div class="sourceCode" id="cb683"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb683-1"><a href="predictive-modeling.html#cb683-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(Housing_ridge<span class="sc">$</span>results<span class="sc">$</span>RMSE)</span></code></pre></div>
<pre><code>## [1] 0.4570054</code></pre>
<div class="sourceCode" id="cb685"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb685-1"><a href="predictive-modeling.html#cb685-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(Housing_lasso<span class="sc">$</span>results<span class="sc">$</span>RMSE)</span></code></pre></div>
<pre><code>## [1] 0.4730849</code></pre>
<div class="sourceCode" id="cb687"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb687-1"><a href="predictive-modeling.html#cb687-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(Housing_Tree<span class="sc">$</span>results<span class="sc">$</span>RMSE)</span></code></pre></div>
<pre><code>## [1] 0.4783224</code></pre>
<p>In this situation, the tree outperforms OLS, but does not do as well as lasso or ridge. The best model will vary depending on the nature of the data. We can use cross-validation to determine which model is likely to perform best in prediction.</p>
</div>
<div id="random-forest" class="section level3 hasAnchor" number="7.5.21">
<h3><span class="header-section-number">7.5.21</span> Random Forest<a href="predictive-modeling.html#random-forest" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>A popular extension of a decision tree is a random forest.</p></li>
<li><p>A random forest consists of many (often ~10,000) trees. Predictions are made by averaging predictions from individual trees.</p></li>
<li><p>In order to ensure the trees are different from each other:</p>
<ol style="list-style-type: decimal">
<li>each tree is grown from a different bootstrap sample of the training data.<br />
</li>
<li>when deciding on a split, only a random subset of explanatory variables are considered.</li>
</ol></li>
<li><p>Growing deep trees ensures low bias. In a random forest, averaging across many deep trees decreases variance, while maintaining low bias.</p></li>
</ul>
</div>
</div>
<div id="regression-splines" class="section level2 hasAnchor" number="7.6">
<h2><span class="header-section-number">7.6</span> Regression Splines<a href="predictive-modeling.html#regression-splines" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="regression-splines-1" class="section level3 hasAnchor" number="7.6.1">
<h3><span class="header-section-number">7.6.1</span> Regression Splines<a href="predictive-modeling.html#regression-splines-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>We’ve seen that we can use polynomial regression to capture nonlinear trends in data.</p></li>
<li><p>A <strong>regression spline</strong> is a piecewise function of polynomials.</p></li>
<li><p>Here we’ll keep thing simple by focusing on a spline with a single explanatory variable. Splines can also be used for multivariate data.</p></li>
</ul>
</div>
<div id="price-of-2015-new-cars" class="section level3 hasAnchor" number="7.6.2">
<h3><span class="header-section-number">7.6.2</span> Price of 2015 New Cars<a href="predictive-modeling.html#price-of-2015-new-cars" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-567-1.png" width="960" /></p>
</div>
<div id="two-models-with-high-bias" class="section level3 hasAnchor" number="7.6.3">
<h3><span class="header-section-number">7.6.3</span> Two Models with High Bias<a href="predictive-modeling.html#two-models-with-high-bias" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-568-1.png" width="1152" /></p>
</div>
<div id="cubic-model" class="section level3 hasAnchor" number="7.6.4">
<h3><span class="header-section-number">7.6.4</span> Cubic Model<a href="predictive-modeling.html#cubic-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-569-1.png" width="672" /></p>
</div>
<div id="cubic-splines" class="section level3 hasAnchor" number="7.6.5">
<h3><span class="header-section-number">7.6.5</span> Cubic Splines<a href="predictive-modeling.html#cubic-splines" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-570-1.png" width="960" /></p>
</div>
<div id="cubic-splines-1" class="section level3 hasAnchor" number="7.6.6">
<h3><span class="header-section-number">7.6.6</span> Cubic Splines<a href="predictive-modeling.html#cubic-splines-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-571-1.png" width="960" /></p>
<ul>
<li>region boundaries are called <strong>knots</strong></li>
</ul>
</div>
<div id="cubic-spline-with-5-knots" class="section level3 hasAnchor" number="7.6.7">
<h3><span class="header-section-number">7.6.7</span> Cubic Spline with 5 Knots<a href="predictive-modeling.html#cubic-spline-with-5-knots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-572-1.png" width="960" /></p>
</div>
<div id="cubic-spline-with-10-knots" class="section level3 hasAnchor" number="7.6.8">
<h3><span class="header-section-number">7.6.8</span> Cubic Spline with 10 Knots<a href="predictive-modeling.html#cubic-spline-with-10-knots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-573-1.png" width="960" /></p>
</div>
<div id="cubic-spline-with-20-knots" class="section level3 hasAnchor" number="7.6.9">
<h3><span class="header-section-number">7.6.9</span> Cubic Spline with 20 Knots<a href="predictive-modeling.html#cubic-spline-with-20-knots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-574-1.png" width="960" /></p>
</div>
<div id="model-evaluation" class="section level3 hasAnchor" number="7.6.10">
<h3><span class="header-section-number">7.6.10</span> Model Evaluation<a href="predictive-modeling.html#model-evaluation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>predicted price for 35 new 2015 cars not in original dataset<br />
</li>
<li>calculated mean square prediction error (MSPE)</li>
</ul>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-575-1.png" width="960" /></p>
</div>
<div id="implementation-of-splines" class="section level3 hasAnchor" number="7.6.11">
<h3><span class="header-section-number">7.6.11</span> Implementation of Splines<a href="predictive-modeling.html#implementation-of-splines" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Important Considerations:</p>
<ul>
<li>how many knots<br />
</li>
<li>where to place knots<br />
</li>
<li>degree of polynomial</li>
</ul>
<p>The best choices for all of these will vary between datasets and can be assessed through cross-validation.</p>
</div>
</div>
<div id="predicting-house-prices-summary" class="section level2 hasAnchor" number="7.7">
<h2><span class="header-section-number">7.7</span> Predicting House Prices Summary<a href="predictive-modeling.html#predicting-house-prices-summary" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In the previous sections, we’ve applied various predictive modeling techniques to predict house prices in Ames, IA. In each section, we’ve focused on an individual predictive technique (OLS, ridge/lasso regression, trees, splines), but in practice, we often test out these techniques together to find which is likely to perform best on a set of data. Here, we’ll go through the steps to test out and evaluate these techiques on the Ames Housing dataset.</p>
<p>There are no new statistical ideas presented in this section, just a synthesis of the preceeding material. We leave out splines, since we did not discuss using splines in a multivariate setting, but we compare OLS, ridge and decision trees.</p>
<p>We use a subset of variables for illustrative purposes.</p>
<div class="sourceCode" id="cb689"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb689-1"><a href="predictive-modeling.html#cb689-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">10302021</span>)</span>
<span id="cb689-2"><a href="predictive-modeling.html#cb689-2" aria-hidden="true" tabindex="-1"></a>samp <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(ames_raw), <span class="dv">1000</span>)</span>
<span id="cb689-3"><a href="predictive-modeling.html#cb689-3" aria-hidden="true" tabindex="-1"></a>Houses <span class="ot">&lt;-</span> ames_raw[samp,]</span></code></pre></div>
<div class="sourceCode" id="cb690"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb690-1"><a href="predictive-modeling.html#cb690-1" aria-hidden="true" tabindex="-1"></a>New_Houses <span class="ot">&lt;-</span> ames_raw <span class="ot">&lt;-</span> ames_raw[<span class="sc">-</span>samp,]</span>
<span id="cb690-2"><a href="predictive-modeling.html#cb690-2" aria-hidden="true" tabindex="-1"></a>New_Houses <span class="ot">&lt;-</span> New_Houses[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, ]</span></code></pre></div>
<p>We’ll begin by doing some data preparation.</p>
<p>We standardize all explanatory variables in the training and new data. We do not standardize the response variable, price, so we can interpret predicted values more easily.</p>
<div class="sourceCode" id="cb691"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb691-1"><a href="predictive-modeling.html#cb691-1" aria-hidden="true" tabindex="-1"></a>Houses_Combined <span class="ot">&lt;-</span> <span class="fu">rbind</span>(Houses, New_Houses)</span>
<span id="cb691-2"><a href="predictive-modeling.html#cb691-2" aria-hidden="true" tabindex="-1"></a>Houses_sc <span class="ot">&lt;-</span> Houses_Combined <span class="sc">%&gt;%</span> <span class="fu">mutate_if</span>(is.numeric, scale)</span>
<span id="cb691-3"><a href="predictive-modeling.html#cb691-3" aria-hidden="true" tabindex="-1"></a>Houses_sc<span class="sc">$</span>SalePrice <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(Houses_Combined<span class="sc">$</span>SalePrice)</span>
<span id="cb691-4"><a href="predictive-modeling.html#cb691-4" aria-hidden="true" tabindex="-1"></a>Houses_sc_Train <span class="ot">&lt;-</span> Houses_sc[<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>, ]</span>
<span id="cb691-5"><a href="predictive-modeling.html#cb691-5" aria-hidden="true" tabindex="-1"></a>Houses_sc_New <span class="ot">&lt;-</span> Houses_sc[<span class="dv">1001</span><span class="sc">:</span><span class="dv">1005</span>, ]</span></code></pre></div>
<p>The <code>Houses_sc_Train</code> dataset contains standardized values for the 1000 houses in the training data. The first six rows are shown below.</p>
<div class="sourceCode" id="cb692"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb692-1"><a href="predictive-modeling.html#cb692-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Houses_sc_Train)</span></code></pre></div>
<pre><code>##      Overall.Qual  Year.Built Central.Air  Gr.Liv.Area X1st.Flr.SF
## 2771  -0.07619084  0.79212207           Y -0.003620472  -0.9340706
## 2909  -0.77229808  0.18658251           Y -0.392399656  -1.3891530
## 2368  -0.07619084  0.01837707           Y -0.938684253  -1.6993209
## 2604  -2.16451257 -1.89916487           Y -0.571836202  -1.1908489
## 669   -0.07619084 -0.14982836           Y -0.918746859  -0.3111924
## 1427   2.01213088  1.22945620           Y  0.528707949   1.5345608
##      Bedroom.AbvGr TotRms.AbvGrd    Lot.Area Lot.Shape Land.Contour
## 2771     0.1632018    -0.2910546  0.28570669       IR1          Lvl
## 2909     0.1632018    -0.9160758 -0.88703104       Reg          Lvl
## 2368     0.1632018    -0.2910546 -0.98002927       Reg          Lvl
## 2604     0.1632018    -0.2910546  0.04235132       Reg          Lvl
## 669      0.1632018    -0.2910546  0.17314883       IR1          Lvl
## 1427     0.1632018     0.9589877  0.20650820       Reg          Lvl
##      Overall.Cond Exter.Qual Heating.QC Paved.Drive SalePrice
## 2771   -0.4680319         Gd         Ex           Y    187000
## 2909    0.4279149         TA         TA           Y    104500
## 2368    1.3238618         TA         Ex           Y    116000
## 2604   -1.3639788         TA         TA           Y    105000
## 669    -1.3639788         Fa         Gd           Y    163000
## 1427   -0.4680319         Ex         Ex           Y    395039</code></pre>
<p>The <code>Houses_sc_New</code> displays standardized values for the new houses that we’re trying to predict.</p>
<div class="sourceCode" id="cb694"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb694-1"><a href="predictive-modeling.html#cb694-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Houses_sc_New)</span></code></pre></div>
<pre><code>##   Overall.Qual Year.Built Central.Air Gr.Liv.Area X1st.Flr.SF Bedroom.AbvGr
## 2  -0.77229808 -0.3516749           Y  -1.2058453  -0.6772922    -1.0608118
## 4   0.61991640 -0.1161873           Y   1.2145543   2.4091326     0.1632018
## 6  -0.07619084  0.8930453           Y   0.2057222  -0.6010214     0.1632018
## 7   1.31602364  0.9939686           Y  -0.3246125   0.4464308    -1.0608118
## 8   1.31602364  0.6911988           Y  -0.4402494   0.2989739    -1.0608118
##   TotRms.AbvGrd   Lot.Area Lot.Shape Land.Contour Overall.Cond Exter.Qual
## 2    -0.9160758  0.1877886       Reg          Lvl    0.4279149         TA
## 4     0.9589877  0.1323496       Reg          Lvl   -0.4680319         Gd
## 6     0.3339665 -0.0094877       IR1          Lvl    0.4279149         TA
## 7    -0.2910546 -0.6164362       Reg          Lvl   -0.4680319         Gd
## 8    -0.9160758 -0.6062364       IR1          HLS   -0.4680319         Gd
##   Heating.QC Paved.Drive SalePrice
## 2         TA           Y    105000
## 4         Ex           Y    244000
## 6         Ex           Y    195500
## 7         Ex           Y    213500
## 8         Ex           Y    191500</code></pre>
<p>Since the <code>glmnet</code> command requires training data to be entered as a matrix, we create versions of the datasets in matrix form.</p>
<div class="sourceCode" id="cb696"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb696-1"><a href="predictive-modeling.html#cb696-1" aria-hidden="true" tabindex="-1"></a>Houses_sc<span class="sc">$</span>SalePrice[<span class="fu">is.na</span>(Houses<span class="sc">$</span>SalePrice)] <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#can&#39;t take NA&#39;s when fitting model matrix, doesn&#39;t matter since only need x-coeffs</span></span>
<span id="cb696-2"><a href="predictive-modeling.html#cb696-2" aria-hidden="true" tabindex="-1"></a>Houses_sc_Combined_MAT <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(SalePrice<span class="sc">~</span>., <span class="at">data=</span><span class="fu">rbind</span>(Houses_sc))</span>
<span id="cb696-3"><a href="predictive-modeling.html#cb696-3" aria-hidden="true" tabindex="-1"></a>Houses_sc_Train_MAT <span class="ot">&lt;-</span> Houses_sc_Combined_MAT[<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>, ]</span>
<span id="cb696-4"><a href="predictive-modeling.html#cb696-4" aria-hidden="true" tabindex="-1"></a>Houses_sc_New_MAT <span class="ot">&lt;-</span> Houses_sc_Combined_MAT[<span class="dv">1001</span><span class="sc">:</span><span class="dv">1005</span>, ]</span></code></pre></div>
<div id="modeling-with-ols" class="section level3 hasAnchor" number="7.7.1">
<h3><span class="header-section-number">7.7.1</span> Modeling with OLS<a href="predictive-modeling.html#modeling-with-ols" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We first fit an ordinary least squares regression model to the data.</p>
<div class="sourceCode" id="cb697"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb697-1"><a href="predictive-modeling.html#cb697-1" aria-hidden="true" tabindex="-1"></a>Housing_OLS <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data=</span>Houses_sc_Train, SalePrice<span class="sc">~</span> .)</span>
<span id="cb697-2"><a href="predictive-modeling.html#cb697-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(Housing_OLS)</span></code></pre></div>
<pre><code>##     (Intercept)    Overall.Qual      Year.Built    Central.AirY     Gr.Liv.Area 
##     238908.0614      23368.4152      14036.2549      -4497.1153      29640.4606 
##     X1st.Flr.SF   Bedroom.AbvGr   TotRms.AbvGrd        Lot.Area    Lot.ShapeIR2 
##       8320.1472      -5011.0485       1554.7785       7566.9377       1570.1676 
##    Lot.ShapeIR3    Lot.ShapeReg Land.ContourHLS Land.ContourLow Land.ContourLvl 
##      19082.7508      -4566.5111      44704.8906      22406.5959      19096.4163 
##    Overall.Cond    Exter.QualFa    Exter.QualGd    Exter.QualTA    Heating.QCFa 
##       7965.6704     -68750.2773     -62800.5804     -74028.3841      -3972.4036 
##    Heating.QCGd    Heating.QCPo    Heating.QCTA    Paved.DriveP    Paved.DriveY 
##      -4478.6876     -23000.4394      -5272.7136      -1901.9235        709.1532</code></pre>
</div>
<div id="ridge-regression-with-housing-data" class="section level3 hasAnchor" number="7.7.2">
<h3><span class="header-section-number">7.7.2</span> Ridge Regression with Housing Data<a href="predictive-modeling.html#ridge-regression-with-housing-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now, we’ll use ridge regression to predict insurance costs.</p>
<p>We use cross validation to determine the optimal value of lamba. We perform 10 repeats of 10-fold cross-validation. We test 100 lambda-values ranging from <span class="math inline">\(10^-5\)</span> to <span class="math inline">\(10^5\)</span>.</p>
<div class="sourceCode" id="cb699"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb699-1"><a href="predictive-modeling.html#cb699-1" aria-hidden="true" tabindex="-1"></a>control <span class="ot">=</span> <span class="fu">trainControl</span>(<span class="st">&quot;repeatedcv&quot;</span>, <span class="at">number =</span> <span class="dv">10</span>, <span class="at">repeats=</span><span class="dv">10</span>)</span>
<span id="cb699-2"><a href="predictive-modeling.html#cb699-2" aria-hidden="true" tabindex="-1"></a>l_vals <span class="ot">=</span> <span class="dv">10</span><span class="sc">^</span><span class="fu">seq</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">5</span>, <span class="at">length =</span> <span class="dv">100</span>)</span>
<span id="cb699-3"><a href="predictive-modeling.html#cb699-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb699-4"><a href="predictive-modeling.html#cb699-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb699-5"><a href="predictive-modeling.html#cb699-5" aria-hidden="true" tabindex="-1"></a>Housing_ridge <span class="ot">&lt;-</span> <span class="fu">train</span>( SalePrice <span class="sc">~</span> ., <span class="at">data =</span> Houses_sc_Train, <span class="at">method =</span> <span class="st">&quot;glmnet&quot;</span>, <span class="at">trControl=</span>control , <span class="at">tuneGrid=</span><span class="fu">expand.grid</span>(<span class="at">alpha=</span><span class="dv">0</span>, <span class="at">lambda=</span>l_vals))</span></code></pre></div>
<div class="sourceCode" id="cb700"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb700-1"><a href="predictive-modeling.html#cb700-1" aria-hidden="true" tabindex="-1"></a>Housing_ridge<span class="sc">$</span>bestTune<span class="sc">$</span>lambda</span></code></pre></div>
<pre><code>## [1] 6135.907</code></pre>
<p>We fit a model to the full training dataset using the optimal value of <span class="math inline">\(lambda\)</span> .</p>
<div class="sourceCode" id="cb702"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb702-1"><a href="predictive-modeling.html#cb702-1" aria-hidden="true" tabindex="-1"></a>ridge_mod <span class="ot">&lt;-</span> <span class="fu">glmnet</span>(<span class="at">x=</span>Houses_sc_Train_MAT, <span class="at">y=</span>Houses_sc_Train<span class="sc">$</span>SalePrice, <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">lambda=</span>Housing_ridge<span class="sc">$</span>bestTune<span class="sc">$</span>lambda )</span>
<span id="cb702-2"><a href="predictive-modeling.html#cb702-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(ridge_mod)</span></code></pre></div>
<pre><code>## 26 x 1 sparse Matrix of class &quot;dgCMatrix&quot;
##                          s0
## (Intercept)     206079.5442
## (Intercept)          .     
## Overall.Qual     24716.6502
## Year.Built       12909.8224
## Central.AirY     -1693.4832
## Gr.Liv.Area      24137.8185
## X1st.Flr.SF      10707.5001
## Bedroom.AbvGr    -5034.2266
## TotRms.AbvGrd     5394.5170
## Lot.Area          7086.7613
## Lot.ShapeIR2      3322.3720
## Lot.ShapeIR3     18987.3176
## Lot.ShapeReg     -5345.7478
## Land.ContourHLS  41239.7682
## Land.ContourLow  15011.2269
## Land.ContourLvl  12784.0351
## Overall.Cond      6560.4987
## Exter.QualFa    -29042.5581
## Exter.QualGd    -24942.6445
## Exter.QualTA    -35102.6069
## Heating.QCFa     -8118.6371
## Heating.QCGd     -6380.1279
## Heating.QCPo    -19693.6611
## Heating.QCTA     -7645.0855
## Paved.DriveP      -613.3798
## Paved.DriveY      1324.2704</code></pre>
<p>The regression coefficients are displayed together with the OLS coefficients in a data.frame.</p>
<div class="sourceCode" id="cb704"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb704-1"><a href="predictive-modeling.html#cb704-1" aria-hidden="true" tabindex="-1"></a>Ridge_coef <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(ridge_mod<span class="sc">$</span>beta)[<span class="sc">-</span><span class="dv">1</span>] <span class="co">#leave off intercept using [-1]</span></span>
<span id="cb704-2"><a href="predictive-modeling.html#cb704-2" aria-hidden="true" tabindex="-1"></a>OLS_coef <span class="ot">&lt;-</span> <span class="fu">coef</span>(Housing_OLS)[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb704-3"><a href="predictive-modeling.html#cb704-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(OLS_coef, Ridge_coef)</span></code></pre></div>
<pre><code>##                    OLS_coef  Ridge_coef
## Overall.Qual     23368.4152  24716.6502
## Year.Built       14036.2549  12909.8224
## Central.AirY     -4497.1153  -1693.4832
## Gr.Liv.Area      29640.4606  24137.8185
## X1st.Flr.SF       8320.1472  10707.5001
## Bedroom.AbvGr    -5011.0485  -5034.2266
## TotRms.AbvGrd     1554.7785   5394.5170
## Lot.Area          7566.9377   7086.7613
## Lot.ShapeIR2      1570.1676   3322.3720
## Lot.ShapeIR3     19082.7508  18987.3176
## Lot.ShapeReg     -4566.5111  -5345.7478
## Land.ContourHLS  44704.8906  41239.7682
## Land.ContourLow  22406.5959  15011.2269
## Land.ContourLvl  19096.4163  12784.0351
## Overall.Cond      7965.6704   6560.4987
## Exter.QualFa    -68750.2773 -29042.5581
## Exter.QualGd    -62800.5804 -24942.6445
## Exter.QualTA    -74028.3841 -35102.6069
## Heating.QCFa     -3972.4036  -8118.6371
## Heating.QCGd     -4478.6876  -6380.1279
## Heating.QCPo    -23000.4394 -19693.6611
## Heating.QCTA     -5272.7136  -7645.0855
## Paved.DriveP     -1901.9235   -613.3798
## Paved.DriveY       709.1532   1324.2704</code></pre>
</div>
<div id="decision-tree" class="section level3 hasAnchor" number="7.7.3">
<h3><span class="header-section-number">7.7.3</span> Decision Tree<a href="predictive-modeling.html#decision-tree" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now, we’ll predict house prices using using a decision tree.</p>
<p>First, we grow and display a small decision tree, by setting the <code>cp</code> parameter equal to 0.05.</p>
<div class="sourceCode" id="cb706"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb706-1"><a href="predictive-modeling.html#cb706-1" aria-hidden="true" tabindex="-1"></a>tree <span class="ot">&lt;-</span> <span class="fu">rpart</span>(SalePrice<span class="sc">~</span>., <span class="at">data=</span>Houses_sc_Train, <span class="at">cp=</span><span class="fl">0.05</span>)</span>
<span id="cb706-2"><a href="predictive-modeling.html#cb706-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rpart.plot</span>(tree, <span class="at">box.palette=</span><span class="st">&quot;RdBu&quot;</span>, <span class="at">shadow.col=</span><span class="st">&quot;gray&quot;</span>, <span class="at">nn=</span><span class="cn">TRUE</span>, <span class="at">cex=</span><span class="dv">1</span>, <span class="at">extra=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-588-1.png" width="672" /></p>
<p>Now we use cross-validation to determine the optimal value of the <code>cp</code> parameter. We use 10 repeats of 10-fold cross-validation. We test 1000 cp-values ranging from <span class="math inline">\(10^-5\)</span> to <span class="math inline">\(10^5\)</span>.</p>
<div class="sourceCode" id="cb707"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb707-1"><a href="predictive-modeling.html#cb707-1" aria-hidden="true" tabindex="-1"></a>cp_vals <span class="ot">=</span> <span class="dv">10</span><span class="sc">^</span><span class="fu">seq</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">5</span>, <span class="at">length =</span> <span class="dv">100</span>)</span>
<span id="cb707-2"><a href="predictive-modeling.html#cb707-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(Houses_sc_Train) <span class="ot">&lt;-</span> <span class="fu">make.names</span>(<span class="fu">colnames</span>(Houses_sc_Train))</span>
<span id="cb707-3"><a href="predictive-modeling.html#cb707-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb707-4"><a href="predictive-modeling.html#cb707-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb707-5"><a href="predictive-modeling.html#cb707-5" aria-hidden="true" tabindex="-1"></a>Housing_Tree <span class="ot">&lt;-</span> <span class="fu">train</span>(<span class="at">data=</span>Houses_sc_Train, SalePrice <span class="sc">~</span> .,  <span class="at">method=</span><span class="st">&quot;rpart&quot;</span>, <span class="at">trControl=</span>control,<span class="at">tuneGrid=</span><span class="fu">expand.grid</span>(<span class="at">cp=</span>cp_vals))</span>
<span id="cb707-6"><a href="predictive-modeling.html#cb707-6" aria-hidden="true" tabindex="-1"></a>Housing_Tree<span class="sc">$</span>bestTune</span></code></pre></div>
<pre><code>##              cp
## 4 0.00002009233</code></pre>
<p>We grow a full tree using the optimal <code>cp</code> value.</p>
<div class="sourceCode" id="cb709"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb709-1"><a href="predictive-modeling.html#cb709-1" aria-hidden="true" tabindex="-1"></a>Housing_Best_Tree <span class="ot">&lt;-</span> <span class="fu">rpart</span>(SalePrice<span class="sc">~</span>., <span class="at">data=</span>Houses_sc_Train, <span class="at">cp=</span>Housing_Tree<span class="sc">$</span>bestTune)</span></code></pre></div>
</div>
<div id="comparing-performance" class="section level3 hasAnchor" number="7.7.4">
<h3><span class="header-section-number">7.7.4</span> Comparing Performance<a href="predictive-modeling.html#comparing-performance" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We use cross-validation to compare the performance of the linear model, ridge regression model, and decision tree.</p>
<div class="sourceCode" id="cb710"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb710-1"><a href="predictive-modeling.html#cb710-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb710-2"><a href="predictive-modeling.html#cb710-2" aria-hidden="true" tabindex="-1"></a>Housing_OLS <span class="ot">&lt;-</span> <span class="fu">train</span>(<span class="at">data=</span>Houses_sc_Train, SalePrice <span class="sc">~</span> .,  <span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">trControl=</span>control)</span></code></pre></div>
<div class="sourceCode" id="cb711"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb711-1"><a href="predictive-modeling.html#cb711-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(Housing_OLS<span class="sc">$</span>results<span class="sc">$</span>RMSE)</span></code></pre></div>
<pre><code>## [1] 35313.3</code></pre>
<div class="sourceCode" id="cb713"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb713-1"><a href="predictive-modeling.html#cb713-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(Housing_ridge<span class="sc">$</span>results<span class="sc">$</span>RMSE)</span></code></pre></div>
<pre><code>## [1] 35747.22</code></pre>
<div class="sourceCode" id="cb715"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb715-1"><a href="predictive-modeling.html#cb715-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(Housing_Tree<span class="sc">$</span>results<span class="sc">$</span>RMSE)</span></code></pre></div>
<pre><code>## [1] 33675.53</code></pre>
<p>The tree predictions give slightly lower RMSPE.</p>
</div>
<div id="predictions-on-new-data" class="section level3 hasAnchor" number="7.7.5">
<h3><span class="header-section-number">7.7.5</span> Predictions on New Data<a href="predictive-modeling.html#predictions-on-new-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We now predict the sale price of the five new houses using each technique.</p>
<p>Ordinary Least-Squares model:</p>
<div class="sourceCode" id="cb717"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb717-1"><a href="predictive-modeling.html#cb717-1" aria-hidden="true" tabindex="-1"></a>OLS_pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Housing_OLS, <span class="at">newdata=</span>Houses_sc_New)</span>
<span id="cb717-2"><a href="predictive-modeling.html#cb717-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(OLS_pred)</span></code></pre></div>
<pre><code>##        2        4        6        7        8 
## 114709.4 253695.8 195078.1 222117.6 242493.9</code></pre>
<p>Ridge regression model:</p>
<p>We use the <code>Customers_sc_New_MAT</code> dataset, since the <code>glmnet</code> package requires inputs in matrix form.</p>
<div class="sourceCode" id="cb719"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb719-1"><a href="predictive-modeling.html#cb719-1" aria-hidden="true" tabindex="-1"></a>ridge_pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(ridge_mod, <span class="at">newx=</span>Houses_sc_New_MAT)</span>
<span id="cb719-2"><a href="predictive-modeling.html#cb719-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ridge_pred)</span></code></pre></div>
<pre><code>##         s0
## 2 114950.4
## 4 259359.8
## 6 195288.0
## 7 226841.6
## 8 249064.8</code></pre>
<p>Decision tree:</p>
<div class="sourceCode" id="cb721"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb721-1"><a href="predictive-modeling.html#cb721-1" aria-hidden="true" tabindex="-1"></a>tree_pred <span class="ot">&lt;-</span> <span class="fu">predict</span>(Housing_Best_Tree, <span class="at">newdata=</span>Houses_sc_New)</span>
<span id="cb721-2"><a href="predictive-modeling.html#cb721-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tree_pred)</span></code></pre></div>
<pre><code>##        2        4        6        7        8 
## 132926.5 287045.1 183978.6 207079.4 207079.4</code></pre>
</div>
</div>
<div id="assumptions-in-predictive-models" class="section level2 hasAnchor" number="7.8">
<h2><span class="header-section-number">7.8</span> Assumptions in Predictive Models<a href="predictive-modeling.html#assumptions-in-predictive-models" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="assumptions-in-predictive-models-1" class="section level3 hasAnchor" number="7.8.1">
<h3><span class="header-section-number">7.8.1</span> Assumptions in Predictive Models<a href="predictive-modeling.html#assumptions-in-predictive-models-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Like any other statistical technique, predictive inference (sometimes done through machine learning algorithms) depends on the validity of assumptions.</p>
<ol style="list-style-type: decimal">
<li><p>The response variable observed in the data is actually the thing we want to predict<br />
</p></li>
<li><p>Training/Test data representative of population of interest</p></li>
<li><p>Prediction accuracy is appropriate metric</p></li>
</ol>
<p>Below are some examples of real uses of predictive inference in which some of these assumptions were violated, leading to inappropriate and unethical conclusions.</p>
</div>
<div id="amazon-hiring-algorithm" class="section level3 hasAnchor" number="7.8.2">
<h3><span class="header-section-number">7.8.2</span> Amazon Hiring Algorithm<a href="predictive-modeling.html#amazon-hiring-algorithm" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In 2014, Amazon began working on an algorithm to predict whether a job applicant would be suitable for hire for software developer positions, based on characteristics of their job application.</p>
<p>response variable: rating of candidate’s strength (1-5)
explanatory variables: many variables based on information included on the resume (e.g. highest degree, major, GPA, college/university, prior job experiences, internships, frequency of certain words on resume, etc.)</p>
<p>The algorithm was trained using data from past applications, rated by humans, over the past 10 years. It could then be used to predict ratings of future job applicants.</p>
<p>According to [Reuters])(<a href="https://www.reuters.com/article/us-amazon-com-jobs-automation-insight/amazon-scraps-secret-ai-recruiting-tool-that-showed-bias-against-women-idUSKCN1MK08G" class="uri">https://www.reuters.com/article/us-amazon-com-jobs-automation-insight/amazon-scraps-secret-ai-recruiting-tool-that-showed-bias-against-women-idUSKCN1MK08G</a>),</p>
<p>“In effect, Amazon’s system taught itself that male candidates were preferable. It penalized resumes that included the word “women’s,” as in “women’s chess club captain.” And it downgraded graduates of two all-women’s colleges, according to people familiar with the matter.”</p>
<p>While the algorithm was intended to predict candidate quality, the response variable on the training data actually reflected biases in past hiring decisions, leading the algorithm to do the same.</p>
</div>
<div id="facial-recognition" class="section level3 hasAnchor" number="7.8.3">
<h3><span class="header-section-number">7.8.3</span> Facial Recognition<a href="predictive-modeling.html#facial-recognition" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Facial recognition technology is used by law enforcement surveillance, airport passenger screening, and employment and housing decisions. It has, however, been banned for use by police in some cities, including San Francisco and Boston, due to concerns about inequity and privacy.</p>
<p><a href="https://sitn.hms.harvard.edu/flash/2020/racial-discrimination-in-face-recognition-technology/">Research</a> has shown that although certain facial recognition algorithms achieve over 90% accuracy overall, accuracy rate is lower among subjects who are female, Black, or 18-30 years old.</p>
<p>This is likely due, at least in part, to the algorithms being trained primarily on data an images of people who are not members of these groups.</p>
<p>Although the algorithms might attain strong accuracy overall, it is inappropriate to evaluate them on this basis, without accounting for performance on subgroups in the population.</p>
</div>
<div id="comments" class="section level3 hasAnchor" number="7.8.4">
<h3><span class="header-section-number">7.8.4</span> Comments<a href="predictive-modeling.html#comments" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The biases and assumptions noted above are not reasons to abandon predictive modeling, but rather flaws to be aware of and work to correct.</p>
<p>Predictive algorithms, are only as good as the data on which they are trained and the societies in which they are developed, and will reflect inherent biases. Thus, they should be used cautiously and with with human judgment, just like any other statistical technique.</p>
<p>Beware of statements like:</p>
<p>“The data say this!”</p>
<p>“The algorithm is objective.”</p>
<p>“The numbers don’t lie.”</p>
<p>Any data-driven analysis depends on assumptions, and sound judgment and awareness of context are required when assessing the validaty of conclusions drawn.</p>
</div>
<div id="modeling-for-prediction-1" class="section level3 hasAnchor" number="7.8.5">
<h3><span class="header-section-number">7.8.5</span> Modeling for Prediction<a href="predictive-modeling.html#modeling-for-prediction-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Goal is to make the most accurate predictions possible.<br />
</li>
<li>Not concerned with understanding relationships between variables. Not worried model being to complicated to interpret, as long as it yields good predictions.<br />
</li>
<li>Aim for a model that best captures the signal in the data, without being thrown off by noise.<br />
- Large number of predictors is ok<br />
- Don’t make model so complicated that it overfits the data.<br />
</li>
<li>Be sure that model is predicting what you intend it to<br />
</li>
<li>Reflective of biases inherent in the data on which it was trained</li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="building-models-for-interpretation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="logistic-regression-and-classification.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Stat255-LU/Notes/edit/master/07-Predictive_Modeling.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/Stat255-LU/Notes/blob/master/07-Predictive_Modeling.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
